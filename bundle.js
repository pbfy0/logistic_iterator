(function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(r,'a',r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=88)})([function(e,t,r){'use strict';function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.autoDetectRenderer=t.Application=t.Filter=t.SpriteMaskFilter=t.Quad=t.RenderTarget=t.ObjectRenderer=t.WebGLManager=t.Shader=t.CanvasRenderTarget=t.TextureUvs=t.VideoBaseTexture=t.BaseRenderTexture=t.RenderTexture=t.BaseTexture=t.TextureMatrix=t.Texture=t.Spritesheet=t.CanvasGraphicsRenderer=t.GraphicsRenderer=t.GraphicsData=t.Graphics=t.TextMetrics=t.TextStyle=t.Text=t.SpriteRenderer=t.CanvasTinter=t.CanvasSpriteRenderer=t.Sprite=t.TransformBase=t.TransformStatic=t.Transform=t.Container=t.DisplayObject=t.Bounds=t.glCore=t.WebGLRenderer=t.CanvasRenderer=t.ticker=t.utils=t.settings=void 0;var o=r(1);Object.keys(o).forEach(function(e){'default'===e||'__esModule'===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=r(4);Object.keys(i).forEach(function(e){'default'===e||'__esModule'===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var d=r(5);Object.defineProperty(t,'glCore',{enumerable:!0,get:function(){return n(d).default}});var s=r(25);Object.defineProperty(t,'Bounds',{enumerable:!0,get:function(){return n(s).default}});var l=r(47);Object.defineProperty(t,'DisplayObject',{enumerable:!0,get:function(){return n(l).default}});var u=r(10);Object.defineProperty(t,'Container',{enumerable:!0,get:function(){return n(u).default}});var p=r(49);Object.defineProperty(t,'Transform',{enumerable:!0,get:function(){return n(p).default}});var c=r(48);Object.defineProperty(t,'TransformStatic',{enumerable:!0,get:function(){return n(c).default}});var h=r(27);Object.defineProperty(t,'TransformBase',{enumerable:!0,get:function(){return n(h).default}});var f=r(28);Object.defineProperty(t,'Sprite',{enumerable:!0,get:function(){return n(f).default}});var g=r(119);Object.defineProperty(t,'CanvasSpriteRenderer',{enumerable:!0,get:function(){return n(g).default}});var _=r(32);Object.defineProperty(t,'CanvasTinter',{enumerable:!0,get:function(){return n(_).default}});var y=r(122);Object.defineProperty(t,'SpriteRenderer',{enumerable:!0,get:function(){return n(y).default}});var m=r(138);Object.defineProperty(t,'Text',{enumerable:!0,get:function(){return n(m).default}});var x=r(62);Object.defineProperty(t,'TextStyle',{enumerable:!0,get:function(){return n(x).default}});var b=r(63);Object.defineProperty(t,'TextMetrics',{enumerable:!0,get:function(){return n(b).default}});var T=r(140);Object.defineProperty(t,'Graphics',{enumerable:!0,get:function(){return n(T).default}});var v=r(64);Object.defineProperty(t,'GraphicsData',{enumerable:!0,get:function(){return n(v).default}});var E=r(142);Object.defineProperty(t,'GraphicsRenderer',{enumerable:!0,get:function(){return n(E).default}});var S=r(149);Object.defineProperty(t,'CanvasGraphicsRenderer',{enumerable:!0,get:function(){return n(S).default}});var C=r(150);Object.defineProperty(t,'Spritesheet',{enumerable:!0,get:function(){return n(C).default}});var I=r(7);Object.defineProperty(t,'Texture',{enumerable:!0,get:function(){return n(I).default}});var P=r(60);Object.defineProperty(t,'TextureMatrix',{enumerable:!0,get:function(){return n(P).default}});var R=r(9);Object.defineProperty(t,'BaseTexture',{enumerable:!0,get:function(){return n(R).default}});var M=r(31);Object.defineProperty(t,'RenderTexture',{enumerable:!0,get:function(){return n(M).default}});var B=r(55);Object.defineProperty(t,'BaseRenderTexture',{enumerable:!0,get:function(){return n(B).default}});var D=r(52);Object.defineProperty(t,'VideoBaseTexture',{enumerable:!0,get:function(){return n(D).default}});var F=r(53);Object.defineProperty(t,'TextureUvs',{enumerable:!0,get:function(){return n(F).default}});var O=r(56);Object.defineProperty(t,'CanvasRenderTarget',{enumerable:!0,get:function(){return n(O).default}});var L=r(13);Object.defineProperty(t,'Shader',{enumerable:!0,get:function(){return n(L).default}});var w=r(12);Object.defineProperty(t,'WebGLManager',{enumerable:!0,get:function(){return n(w).default}});var A=r(16);Object.defineProperty(t,'ObjectRenderer',{enumerable:!0,get:function(){return n(A).default}});var U=r(18);Object.defineProperty(t,'RenderTarget',{enumerable:!0,get:function(){return n(U).default}});var k=r(61);Object.defineProperty(t,'Quad',{enumerable:!0,get:function(){return n(k).default}});var N=r(58);Object.defineProperty(t,'SpriteMaskFilter',{enumerable:!0,get:function(){return n(N).default}});var Q=r(59);Object.defineProperty(t,'Filter',{enumerable:!0,get:function(){return n(Q).default}});var X=r(66);Object.defineProperty(t,'Application',{enumerable:!0,get:function(){return n(X).default}});var H=r(67);Object.defineProperty(t,'autoDetectRenderer',{enumerable:!0,get:function(){return H.autoDetectRenderer}});var G=r(2),V=a(G),W=r(30),Y=a(W),j=r(3),z=n(j),Z=r(11),J=n(Z),q=r(17),K=n(q);t.settings=z.default,t.utils=V,t.ticker=Y,t.CanvasRenderer=J.default,t.WebGLRenderer=K.default},function(e,t){'use strict';var r=Math.PI;t.__esModule=!0;var a=t.VERSION='4.6.2',n=t.PI_2=2*r,o=t.RAD_TO_DEG=180/r,i=t.DEG_TO_RAD=r/180,d=t.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},s=t.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},l=t.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},u=t.SCALE_MODES={LINEAR:0,NEAREST:1},p=t.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},c=t.GC_MODES={AUTO:0,MANUAL:1},h=t.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,f=t.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,g=t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,_=t.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},y=t.PRECISION={LOW:'lowp',MEDIUM:'mediump',HIGH:'highp'},m=t.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},x=t.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},b=t.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(e,t,r){'use strict';function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}var o=Math.round;t.__esModule=!0,t.premultiplyBlendMode=t.BaseTextureCache=t.TextureCache=t.mixins=t.pluginTarget=t.EventEmitter=t.removeItems=t.isMobile=void 0,t.uid=function(){return++T},t.hex2rgb=function(e,t){return t=t||[],t[0]=(255&e>>16)/255,t[1]=(255&e>>8)/255,t[2]=(255&e)/255,t},t.hex2string=function(e){return e=e.toString(16),e='000000'.substr(0,6-e.length)+e,'#'+e},t.rgb2hex=function(e){return(255*e[0]<<16)+(255*e[1]<<8)+(0|255*e[2])},t.getResolutionOfUrl=function(e,t){var r=s.default.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):t===void 0?1:t},t.decomposeDataUri=function(e){var t=i.DATA_URI.exec(e);return t?{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,encoding:t[3]?t[3].toLowerCase():void 0,data:t[4]}:void 0},t.getUrlFileExtension=function(e){var t=i.URL_FILE_EXTENSION.exec(e);return t?t[1].toLowerCase():void 0},t.getSvgSize=function(e){var t=i.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=o(parseFloat(t[3])),r[t[5]]=o(parseFloat(t[7]))),r},t.skipHello=function(){v=!0},t.sayHello=function(e){if(!v){if(-1<navigator.userAgent.toLowerCase().indexOf('chrome')){var t=['\n %c %c %c PixiJS '+i.VERSION+' - \u2730 '+e+' \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n','background: #ff66a5; padding:5px 0;','background: #ff66a5; padding:5px 0;','color: #ff66a5; background: #030307; padding:5px 0;','background: #ff66a5; padding:5px 0;','background: #ffc3dc; padding:5px 0;','background: #ff66a5; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;'];window.console.log.apply(console,t)}else window.console&&window.console.log('PixiJS '+i.VERSION+' - '+e+' - http://www.pixijs.com/');v=!0}},t.isWebGLSupported=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement('canvas'),r=t.getContext('webgl',e)||t.getContext('experimental-webgl',e),a=!!(r&&r.getContextAttributes().stencil);if(r){var n=r.getExtension('WEBGL_lose_context');n&&n.loseContext()}return r=null,a}catch(t){return!1}},t.sign=function(e){return 0===e?0:0>e?-1:1},t.destroyTextureCache=function(){for(var e in E)E[e].destroy();for(e in S)S[e].destroy()},t.clearTextureCache=function(){for(var e in E)delete E[e];for(e in S)delete S[e]},t.correctBlendMode=function(e,t){return C[t?1:0][e]},t.premultiplyTint=function(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var r=255&e>>16,a=255&e>>8,n=255&e;return r=0|r*t+0.5,a=0|a*t+0.5,n=0|n*t+0.5,(255*t<<24)+(r<<16)+(a<<8)+n},t.premultiplyRgba=function(e,t,r,a){return r=r||new Float32Array(4),a||void 0===a?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r},t.premultiplyTintToRgba=function(e,t,r,a){return r=r||new Float32Array(4),r[0]=(255&e>>16)/255,r[1]=(255&e>>8)/255,r[2]=(255&e)/255,(a||void 0===a)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r};var i=r(1),d=r(3),s=n(d),l=r(8),u=n(l),p=r(107),c=n(p),h=r(108),f=a(h),g=r(26),_=a(g),y=r(109),m=n(y),x=r(110),b=n(x),T=0,v=!1;t.isMobile=_,t.removeItems=m.default,t.EventEmitter=u.default,t.pluginTarget=c.default,t.mixins=f;var E=t.TextureCache=Object.create(null),S=t.BaseTextureCache=Object.create(null),C=t.premultiplyBlendMode=(0,b.default)()},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(105),o=a(n),i=r(106),d=a(i);t.default={TARGET_FPMS:0.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,o.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:'highp',PRECISION_FRAGMENT:'mediump',CAN_UPLOAD_SAME_BUFFER:(0,d.default)()}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(21);Object.defineProperty(t,'Point',{enumerable:!0,get:function(){return a(n).default}});var o=r(36);Object.defineProperty(t,'ObservablePoint',{enumerable:!0,get:function(){return a(o).default}});var i=r(22);Object.defineProperty(t,'Matrix',{enumerable:!0,get:function(){return a(i).default}});var d=r(37);Object.defineProperty(t,'GroupD8',{enumerable:!0,get:function(){return a(d).default}});var s=r(95);Object.defineProperty(t,'Circle',{enumerable:!0,get:function(){return a(s).default}});var l=r(96);Object.defineProperty(t,'Ellipse',{enumerable:!0,get:function(){return a(l).default}});var u=r(97);Object.defineProperty(t,'Polygon',{enumerable:!0,get:function(){return a(u).default}});var p=r(23);Object.defineProperty(t,'Rectangle',{enumerable:!0,get:function(){return a(p).default}});var c=r(98);Object.defineProperty(t,'RoundedRectangle',{enumerable:!0,get:function(){return a(c).default}})},function(e,t,r){var a={createContext:r(99),setVertexAttribArrays:r(38),GLBuffer:r(100),GLFramebuffer:r(101),GLShader:r(102),GLTexture:r(39),VertexArrayObject:r(103),shader:r(104)};'undefined'!=typeof e&&e.exports&&(e.exports=a),'undefined'!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=a)},function(e,t,r){(function(e){function r(e,t){for(var r=0,a=e.length-1,n;0<=a;a--)n=e[a],'.'===n?e.splice(a,1):'..'===n?(e.splice(a,1),r++):r&&(e.splice(a,1),r--);if(t)for(;r--;r)e.unshift('..');return e}function a(e,t){if(e.filter)return e.filter(t);for(var r=[],a=0;a<e.length;a++)t(e[a],a,e)&&r.push(e[a]);return r}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return n.exec(e).slice(1)};t.resolve=function(){for(var t='',n=!1,o=arguments.length-1,i;-1<=o&&!n;o--){if(i=0<=o?arguments[o]:e.cwd(),'string'!=typeof i)throw new TypeError('Arguments to path.resolve must be strings');else if(!i)continue;t=i+'/'+t,n='/'===i.charAt(0)}return t=r(a(t.split('/'),function(e){return!!e}),!n).join('/'),(n?'/':'')+t||'.'},t.normalize=function(e){var n=t.isAbsolute(e),o='/'===i(e,-1);return e=r(a(e.split('/'),function(e){return!!e}),!n).join('/'),e||n||(e='.'),e&&o&&(e+='/'),(n?'/':'')+e},t.isAbsolute=function(e){return'/'===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(a(e,function(e){if('string'!=typeof e)throw new TypeError('Arguments to path.join must be strings');return e}).join('/'))},t.relative=function(e,r){function a(e){for(var t=0;t<e.length&&''===e[t];t++);for(var r=e.length-1;0<=r&&''===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var n=a(e.split('/')),o=a(r.split('/')),d=Math.min(n.length,o.length),s=d,l=0;l<d;l++)if(n[l]!==o[l]){s=l;break}for(var i=[],l=s;l<n.length;l++)i.push('..');return i=i.concat(o.slice(s)),i.join('/')},t.sep='/',t.delimiter=':',t.dirname=function(e){var t=o(e),r=t[0],a=t[1];return r||a?(a&&(a=a.substr(0,a.length-1)),r+a):'.'},t.basename=function(e,t){var r=o(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return o(e)[3]};var i=function(e,t,r){return e.substr(t,r)}}).call(t,r(125))},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(9),u=a(l),p=r(52),c=a(p),h=r(53),f=a(h),g=r(8),_=a(g),y=r(4),m=r(2),x=r(3),b=a(x),T=function(e){function t(r,a,i,d,s){n(this,t);var l=o(this,e.call(this));if(l.noFrame=!1,a||(l.noFrame=!0,a=new y.Rectangle(0,0,1,1)),r instanceof t&&(r=r.baseTexture),l.baseTexture=r,l._frame=a,l.trim=d,l.valid=!1,l.requiresUpdate=!1,l._uvs=null,l.orig=i||a,l._rotate=+(s||0),!0===s)l._rotate=2;else if(0!=l._rotate%2)throw new Error('attempt to use diamond-shaped UVs. If you are sure, set rotation manually');return r.hasLoaded?(l.noFrame&&(a=new y.Rectangle(0,0,r.width,r.height),r.on('update',l.onBaseTextureUpdated,l)),l.frame=a):r.once('loaded',l.onBaseTextureLoaded,l),l._updateID=0,l.transform=null,l.textureCacheIds=[],l}return i(t,e),t.prototype.update=function(){this.baseTexture.update()},t.prototype.onBaseTextureLoaded=function(e){this._updateID++,this.frame=this.noFrame?new y.Rectangle(0,0,e.width,e.height):this._frame,this.baseTexture.on('update',this.onBaseTextureUpdated,this),this.emit('update',this)},t.prototype.onBaseTextureUpdated=function(e){this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.emit('update',this)},t.prototype.destroy=function(e){this.baseTexture&&(e&&(m.TextureCache[this.baseTexture.imageUrl]&&t.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off('update',this.onBaseTextureUpdated,this),this.baseTexture.off('loaded',this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},t.prototype._updateUvs=function(){this._uvs||(this._uvs=new f.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.fromImage=function(e,r,a,n){var o=m.TextureCache[e];return o||(o=new t(u.default.fromImage(e,r,a,n)),t.addToCache(o,e)),o},t.fromFrame=function(e){var t=m.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return t},t.fromCanvas=function(e,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'canvas';return new t(u.default.fromCanvas(e,r,a))},t.fromVideo=function(e,r){return'string'==typeof e?t.fromVideoUrl(e,r):new t(c.default.fromVideo(e,r))},t.fromVideoUrl=function(e,r){return new t(c.default.fromUrl(e,r))},t.from=function(e){if('string'==typeof e){var r=m.TextureCache[e];if(!r){var a=null!==e.match(/\.(mp4|webm|ogg|h264|avi|mov)$/);return a?t.fromVideoUrl(e):t.fromImage(e)}return r}return e instanceof HTMLImageElement?new t(u.default.from(e)):e instanceof HTMLCanvasElement?t.fromCanvas(e,b.default.SCALE_MODE,'HTMLCanvasElement'):e instanceof HTMLVideoElement?t.fromVideo(e):e instanceof u.default?new t(e):e},t.fromLoader=function(e,r,a){var n=new u.default(e,void 0,(0,m.getResolutionOfUrl)(r)),o=new t(n);return n.imageUrl=r,a||(a=r),u.default.addToCache(o.baseTexture,a),t.addToCache(o,a),a!==r&&(u.default.addToCache(o.baseTexture,r),t.addToCache(o,r)),o},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),m.TextureCache[t]&&console.warn('Texture added to the cache with an id ['+t+'] that already had an entry'),m.TextureCache[t]=e)},t.removeFromCache=function(e){if('string'==typeof e){var t=m.TextureCache[e];if(t){var r=t.textureCacheIds.indexOf(e);return-1<r&&t.textureCacheIds.splice(r,1),delete m.TextureCache[e],t}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)m.TextureCache[e.textureCacheIds[a]]===e&&delete m.TextureCache[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},s(t,[{key:'frame',get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,r=e.y,a=e.width,n=e.height,o=t+a>this.baseTexture.width,i=r+n>this.baseTexture.height;if(o||i){var d=o&&i?'and':'or',s='X: '+t+' + '+a+' = '+(t+a)+' > '+this.baseTexture.width,l='Y: '+r+' + '+n+' = '+(r+n)+' > '+this.baseTexture.height;throw new Error('Texture Error: frame does not fit inside the base Texture dimensions: '+(s+' '+d+' '+l))}this.valid=a&&n&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=e),this.valid&&this._updateUvs()}},{key:'rotate',get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this._updateUvs()}},{key:'width',get:function(){return this.orig.width}},{key:'height',get:function(){return this.orig.height}}]),t}(_.default);t.default=T,T.EMPTY=new T(new u.default()),d(T.EMPTY),d(T.EMPTY.baseTexture),T.WHITE=function(){var e=document.createElement('canvas');e.width=10,e.height=10;var t=e.getContext('2d');return t.fillStyle='white',t.fillRect(0,0,10,10),new T(new u.default(e))}(),d(T.WHITE),d(T.WHITE.baseTexture)},function(e){'use strict';function t(){}function r(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(){this._events=new t,this._eventsCount=0}var n=Object.prototype.hasOwnProperty,o='~';Object.create&&(t.prototype=Object.create(null),!new t().__proto__&&(o=!1)),a.prototype.eventNames=function(){var e=[],t,r;if(0===this._eventsCount)return e;for(r in t=this._events)n.call(t,r)&&e.push(o?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e},a.prototype.listeners=function(e,t){var r=o?o+e:e,a=this._events[r];if(t)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var n=0,i=a.length,d=Array(i);n<i;n++)d[n]=a[n].fn;return d},a.prototype.emit=function(e,t,r,a,n,d){var s=o?o+e:e;if(!this._events[s])return!1;var l=this._events[s],u=arguments.length,p,c;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,a),!0;case 5:return l.fn.call(l.context,t,r,a,n),!0;case 6:return l.fn.call(l.context,t,r,a,n,d),!0;}for(c=1,p=Array(u-1);c<u;c++)p[c-1]=arguments[c];l.fn.apply(l.context,p)}else{var i=l.length,h;for(c=0;c<i;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),u){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,a);break;default:if(!p)for(h=1,p=Array(u-1);h<u;h++)p[h-1]=arguments[h];l[c].fn.apply(l[c].context,p);}}return!0},a.prototype.on=function(e,t,a){var n=new r(t,a||this),i=o?o+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},a.prototype.once=function(e,t,a){var n=new r(t,a||this,!0),i=o?o+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},a.prototype.removeListener=function(e,r,a,n){var d=o?o+e:e;if(!this._events[d])return this;if(!r)return 0==--this._eventsCount?this._events=new t:delete this._events[d],this;var s=this._events[d];if(s.fn)s.fn!==r||n&&!s.once||a&&s.context!==a||(0==--this._eventsCount?this._events=new t:delete this._events[d]);else{for(var l=0,i=[],u=s.length;l<u;l++)(s[l].fn!==r||n&&!s[l].once||a&&s[l].context!==a)&&i.push(s[l]);i.length?this._events[d]=1===i.length?i[0]:i:0==--this._eventsCount?this._events=new t:delete this._events[d]}return this},a.prototype.removeAllListeners=function(e){var r;return e?(r=o?o+e:e,this._events[r]&&(0==--this._eventsCount?this._events=new t:delete this._events[r])):(this._events=new t,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=o,a.EventEmitter=a,e.exports=a},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=Math.round;t.__esModule=!0;var s=r(2),l=r(3),u=a(l),p=r(8),c=a(p),h=r(50),f=a(h),g=r(29),_=a(g),y=function(e){function t(r,a,i){n(this,t);var d=o(this,e.call(this));return d.uid=(0,s.uid)(),d.touched=0,d.resolution=i||u.default.RESOLUTION,d.width=100,d.height=100,d.realWidth=100,d.realHeight=100,d.scaleMode=void 0===a?u.default.SCALE_MODE:a,d.hasLoaded=!1,d.isLoading=!1,d.source=null,d.origSource=null,d.imageType=null,d.sourceScale=1,d.premultipliedAlpha=!0,d.imageUrl=null,d.isPowerOfTwo=!1,d.mipmap=u.default.MIPMAP_TEXTURES,d.wrapMode=u.default.WRAP_MODE,d._glTextures={},d._enabled=0,d._virtalBoundId=-1,d._destroyed=!1,d.textureCacheIds=[],r&&d.loadSource(r),d}return i(t,e),t.prototype.update=function(){'svg'!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit('update',this)},t.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=_.default.isPow2(this.realWidth)&&_.default.isPow2(this.realHeight)},t.prototype.loadSource=function(e){var t=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,t&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=e,(e.src&&e.complete||e.getContext)&&e.width&&e.height)this._updateImageType(),'svg'===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit('loaded',this);else if(!e.getContext){this.isLoading=!0;var a=this;if(e.onload=function(){if(a._updateImageType(),e.onload=null,e.onerror=null,!!a.isLoading)return a.isLoading=!1,a._sourceLoaded(),'svg'===a.imageType?void a._loadSvgSource():void a.emit('loaded',a)},e.onerror=function(){e.onload=null,e.onerror=null,a.isLoading&&(a.isLoading=!1,a.emit('error',a))},e.complete&&e.src){if(e.onload=null,e.onerror=null,'svg'===a.imageType)return void a._loadSvgSource();this.isLoading=!1,e.width&&e.height?(this._sourceLoaded(),t&&this.emit('loaded',this)):t&&this.emit('error',this)}}},t.prototype._updateImageType=function(){if(this.imageUrl){var e=(0,s.decomposeDataUri)(this.imageUrl),t;if(e&&'image'===e.mediaType){var r=e.subType.split('+')[0];if(t=(0,s.getUrlFileExtension)('.'+r),!t)throw new Error('Invalid image type in data URI.')}else t=(0,s.getUrlFileExtension)(this.imageUrl),t||(t='png');this.imageType=t}},t.prototype._loadSvgSource=function(){if('svg'===this.imageType){var e=(0,s.decomposeDataUri)(this.imageUrl);e?this._loadSvgSourceUsingDataUri(e):this._loadSvgSourceUsingXhr()}},t.prototype._loadSvgSourceUsingDataUri=function(e){var t;if('base64'===e.encoding){if(!atob)throw new Error('Your browser doesn\'t support base64 conversions.');t=atob(e.data)}else t=e.data;this._loadSvgSourceUsingString(t)},t.prototype._loadSvgSourceUsingXhr=function(){var e=this,t=new XMLHttpRequest;t.onload=function(){if(t.readyState!==t.DONE||200!==t.status)throw new Error('Failed to load SVG using XHR.');e._loadSvgSourceUsingString(t.response)},t.onerror=function(){return e.emit('error',e)},t.open('GET',this.imageUrl,!0),t.send()},t.prototype._loadSvgSourceUsingString=function(e){var r=(0,s.getSvgSize)(e),a=r.width,n=r.height;if(!a||!n)throw new Error('The SVG image must have width and height defined (in pixels), canvas API needs them.');this.realWidth=d(a*this.sourceScale),this.realHeight=d(n*this.sourceScale),this._updateDimensions();var o=document.createElement('canvas');o.width=this.realWidth,o.height=this.realHeight,o._pixiId='canvas_'+(0,s.uid)(),o.getContext('2d').drawImage(this.source,0,0,a,n,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=o,t.addToCache(this,o._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit('loaded',this)},t.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},t.prototype.destroy=function(){this.imageUrl&&(delete s.TextureCache[this.imageUrl],this.imageUrl=null,!navigator.isCocoonJS&&(this.source.src='')),this.source=null,this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},t.prototype.dispose=function(){this.emit('dispose',this)},t.prototype.updateSourceImage=function(e){this.source.src=e,this.loadSource(this.source)},t.fromImage=function(e,r,a,n){var o=s.BaseTextureCache[e];if(!o){var i=new Image;void 0===r&&0!==e.indexOf('data:')?i.crossOrigin=(0,f.default)(e):r&&(i.crossOrigin='string'==typeof r?r:'anonymous'),o=new t(i,a),o.imageUrl=e,n&&(o.sourceScale=n),o.resolution=(0,s.getResolutionOfUrl)(e),i.src=e,t.addToCache(o,e)}return o},t.fromCanvas=function(e,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'canvas';e._pixiId||(e._pixiId=a+'_'+(0,s.uid)());var n=s.BaseTextureCache[e._pixiId];return n||(n=new t(e,r),t.addToCache(n,e._pixiId)),n},t.from=function(e,r,a){if('string'==typeof e)return t.fromImage(e,void 0,r,a);if(e instanceof HTMLImageElement){var n=e.src,o=s.BaseTextureCache[n];return o||(o=new t(e,r),o.imageUrl=n,a&&(o.sourceScale=a),o.resolution=(0,s.getResolutionOfUrl)(n),t.addToCache(o,n)),o}return e instanceof HTMLCanvasElement?t.fromCanvas(e,r):e},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),s.BaseTextureCache[t]&&console.warn('BaseTexture added to the cache with an id ['+t+'] that already had an entry'),s.BaseTextureCache[t]=e)},t.removeFromCache=function(e){if('string'==typeof e){var t=s.BaseTextureCache[e];if(t){var r=t.textureCacheIds.indexOf(e);return-1<r&&t.textureCacheIds.splice(r,1),delete s.BaseTextureCache[e],t}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)delete s.BaseTextureCache[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},t}(c.default);t.default=y},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(2),s=r(47),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(){a(this,t);var r=n(this,e.call(this));return r.children=[],r}return o(t,e),t.prototype.onChildrenChange=function(){},t.prototype.addChild=function(e){var t=arguments.length;if(1<t)for(var r=0;r<t;r++)this.addChild(arguments[r]);else e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),e.emit('added',this);return e},t.prototype.addChildAt=function(e,t){if(0>t||t>this.children.length)throw new Error(e+'addChildAt: The index '+t+' supplied is out of bounds '+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit('added',this),e},t.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),a=this.getChildIndex(t);this.children[r]=t,this.children[a]=e,this.onChildrenChange(r<a?r:a)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error('The supplied DisplayObject must be a child of the caller');return t},t.prototype.setChildIndex=function(e,t){if(0>t||t>=this.children.length)throw new Error('The supplied index is out of bounds');var r=this.getChildIndex(e);(0,d.removeItems)(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(0>e||e>=this.children.length)throw new Error('getChildAt: Index ('+e+') does not exist.');return this.children[e]},t.prototype.removeChild=function(e){var t=arguments.length;if(1<t)for(var r=0;r<t;r++)this.removeChild(arguments[r]);else{var a=this.children.indexOf(e);if(-1===a)return null;e.parent=null,e.transform._parentID=-1,(0,d.removeItems)(this.children,a,1),this._boundsID++,this.onChildrenChange(a),e.emit('removed',this)}return e},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,(0,d.removeItems)(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit('removed',this),t},t.prototype.removeChildren=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],r=e,a='number'==typeof t?t:this.children.length,n=a-r,o;if(0<n&&n<=a){o=this.children.splice(r,n);for(var d=0;d<o.length;++d)o[d].parent=null,o[d].transform&&(o[d].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var i=0;i<o.length;++i)o[i].emit('removed',this);return o}if(0==n&&0===this.children.length)return[];throw new RangeError('removeChildren: numeric values are outside the acceptable range.')},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length,r;e<t;++e)r=this.children[e],r.visible&&r.updateTransform()},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0,t;e<this.children.length;e++)(t=this.children[e],t.visible&&t.renderable)&&(t.calculateBounds(),t._mask?(t._mask.calculateBounds(),this._bounds.addBoundsMask(t._bounds,t._mask._bounds)):t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds));this._lastBoundsID=this._boundsID},t.prototype._calculateBounds=function(){},t.prototype.renderWebGL=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].renderWebGL(e)}},t.prototype.renderAdvancedWebGL=function(e){e.flush();var t=this._filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<t.length;a++)t[a].enabled&&this._enabledFilters.push(t[a]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}r&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e);for(var n=0,o=this.children.length;n<o;n++)this.children[n].renderWebGL(e);e.flush(),r&&e.maskManager.popMask(this,this._mask),t&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()},t.prototype._renderWebGL=function(){},t.prototype._renderCanvas=function(){},t.prototype.renderCanvas=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},t.prototype.destroy=function(t){e.prototype.destroy.call(this);var r='boolean'==typeof t?t:t&&t.children,a=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<a.length;++n)a[n].destroy(t)},i(t,[{key:'width',get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0===t?1:e/t,this._width=e}},{key:'height',get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0===t?1:e/t,this._height=e}}]),t}(l.default);t.default=u,u.prototype.containerUpdateTransform=u.prototype.updateTransform},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=r(54),s=a(d),l=r(120),u=a(l),p=r(56),c=a(p),h=r(121),f=a(h),g=r(2),_=r(1),y=r(3),m=a(y),x=function(e){function t(r,a,i){n(this,t);var d=o(this,e.call(this,'Canvas',r,a,i));return d.type=_.RENDERER_TYPE.CANVAS,d.rootContext=d.view.getContext('2d',{alpha:d.transparent}),d.context=d.rootContext,d.refresh=!0,d.maskManager=new u.default(d),d.smoothProperty='imageSmoothingEnabled',d.rootContext.imageSmoothingEnabled||(d.rootContext.webkitImageSmoothingEnabled?d.smoothProperty='webkitImageSmoothingEnabled':d.rootContext.mozImageSmoothingEnabled?d.smoothProperty='mozImageSmoothingEnabled':d.rootContext.oImageSmoothingEnabled?d.smoothProperty='oImageSmoothingEnabled':d.rootContext.msImageSmoothingEnabled&&(d.smoothProperty='msImageSmoothingEnabled')),d.initPlugins(),d.blendModes=(0,f.default)(),d._activeBlendMode=null,d.renderingToScreen=!1,d.resize(d.options.width,d.options.height),d}return i(t,e),t.prototype.render=function(e,t,r,a,n){if(this.view){this.renderingToScreen=!t,this.emit('prerender');var o=this.resolution;t?(t=t.baseTexture||t,!t._canvasRenderTarget&&(t._canvasRenderTarget=new c.default(t.width,t.height,t.resolution),t.source=t._canvasRenderTarget.canvas,t.valid=!0),this.context=t._canvasRenderTarget.context,this.resolution=t._canvasRenderTarget.resolution):this.context=this.rootContext;var i=this.context;if(t||(this._lastObjectRendered=e),!n){var d=e.parent,s=this._tempDisplayObjectParent.transform.worldTransform;a?(a.copy(s),this._tempDisplayObjectParent.transform._worldID=-1):s.identity(),e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=d}i.save(),i.setTransform(1,0,0,1,0,0),i.globalAlpha=1,this._activeBlendMode=_.BLEND_MODES.NORMAL,i.globalCompositeOperation=this.blendModes[_.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(i.fillStyle='black',i.clear()),(void 0===r?this.clearBeforeRender:r)&&this.renderingToScreen&&(this.transparent?i.clearRect(0,0,this.width,this.height):(i.fillStyle=this._backgroundColorString,i.fillRect(0,0,this.width,this.height)));var l=this.context;this.context=i,e.renderCanvas(this),this.context=l,i.restore(),this.resolution=o,this.emit('postrender')}},t.prototype.clear=function(e){var t=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(t.fillStyle=e,t.fillRect(0,0,this.width,this.height)):t.clearRect(0,0,this.width,this.height)},t.prototype.setBlendMode=function(e){this._activeBlendMode===e||(this._activeBlendMode=e,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(t){this.destroyPlugins(),e.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=m.default.SCALE_MODE===_.SCALE_MODES.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t}(s.default);t.default=x,g.pluginTarget.mixin(x)},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(t){r(this,e),this.renderer=t,this.renderer.on('context',this.onContextChange,this)}return e.prototype.onContextChange=function(){},e.prototype.destroy=function(){this.renderer.off('context',this.onContextChange,this),this.renderer=null},e}();t.default=a},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(e instanceof Array){if('precision'!==e[0].substring(0,9)){var r=e.slice(0);return r.unshift('precision '+t+' float;'),r}}else if('precision'!==e.substring(0,9))return'precision '+t+' float;\n'+e;return e}t.__esModule=!0;var d=r(5),s=r(3),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(r,o,d){return a(this,t),n(this,e.call(this,r,i(o,l.default.PRECISION_VERTEX),i(d,l.default.PRECISION_FRAGMENT)))}return o(t,e),t}(d.GLShader);t.default=u},function(e,t,r){'use strict';var a=r(174).default,n=r(34).default,o=r(82),i=r(83);a.Resource=n,a.async=o,a.base64=i,e.exports=a,e.exports.default=a},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),l=r(7),u=function(e){return e&&e.__esModule?e:{default:e}}(l),p=new s.Point,c=new s.Polygon,h=function(e){function t(r,o,i,d,l){a(this,t);var p=n(this,e.call(this));return p._texture=r||u.default.EMPTY,p.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),p.vertices=o||new Float32Array([0,0,100,0,100,100,0,100]),p.indices=d||new Uint16Array([0,1,3,2]),p.dirty=0,p.indexDirty=0,p.blendMode=s.BLEND_MODES.NORMAL,p.canvasPadding=0,p.drawMode=l||t.DRAW_MODES.TRIANGLE_MESH,p.shader=null,p.tintRgb=new Float32Array([1,1,1]),p._glDatas={},p._uvTransform=new s.TextureMatrix(p._texture),p.uploadUvTransform=!1,p.pluginName='mesh',p}return o(t,e),t.prototype._renderWebGL=function(e){this.refresh(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._renderCanvas=function(e){this.refresh(),e.plugins[this.pluginName].render(this)},t.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},t.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},t.prototype.refresh=function(e){this._uvTransform.update(e)&&this._refresh()},t.prototype._refresh=function(){},t.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,p);for(var r=this.vertices,a=c.points,n=this.indices,o=this.indices.length,d=this.drawMode===t.DRAW_MODES.TRIANGLES?3:1,s=0;s+2<o;s+=d){var i=2*n[s],l=2*n[s+1],u=2*n[s+2];if(a[0]=r[i],a[1]=r[i+1],a[2]=r[l],a[3]=r[l+1],a[4]=r[u],a[5]=r[u+1],c.contains(p.x,p.y))return!0}return!1},i(t,[{key:'texture',get:function(){return this._texture},set:function(e){this._texture===e||(this._texture=e,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once('update',this._onTextureUpdate,this)))}},{key:'tint',get:function(){return s.utils.rgb2hex(this.tintRgb)},set:function(e){this.tintRgb=s.utils.hex2rgb(e,this.tintRgb)}}]),t}(s.Container);t.default=h,h.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(12),d=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(e){function t(){return a(this,t),n(this,e.apply(this,arguments))}return o(t,e),t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.flush=function(){},t.prototype.render=function(){},t}(d.default);t.default=s},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=r(54),s=a(d),l=r(123),u=a(l),p=r(126),c=a(p),h=r(127),f=a(h),g=r(18),_=a(g),y=r(16),m=a(y),x=r(129),b=a(x),T=r(9),v=a(T),E=r(130),S=a(E),C=r(131),I=a(C),P=r(133),R=a(P),M=r(134),B=a(M),D=r(2),F=r(5),O=a(F),L=r(1),w=0,A=function(e){function t(r,a,i){n(this,t);var d=o(this,e.call(this,'WebGL',r,a,i));return d.legacy=d.options.legacy,d.legacy&&(O.default.VertexArrayObject.FORCE_NATIVE=!0),d.type=L.RENDERER_TYPE.WEBGL,d.handleContextLost=d.handleContextLost.bind(d),d.handleContextRestored=d.handleContextRestored.bind(d),d.view.addEventListener('webglcontextlost',d.handleContextLost,!1),d.view.addEventListener('webglcontextrestored',d.handleContextRestored,!1),d._contextOptions={alpha:d.transparent,antialias:d.options.antialias,premultipliedAlpha:d.transparent&&'notMultiplied'!==d.transparent,stencil:!0,preserveDrawingBuffer:d.options.preserveDrawingBuffer,powerPreference:d.options.powerPreference},d._backgroundColorRgba[3]=d.transparent?0:1,d.maskManager=new u.default(d),d.stencilManager=new c.default(d),d.emptyRenderer=new m.default(d),d.currentRenderer=d.emptyRenderer,d.textureManager=null,d.filterManager=null,d.initPlugins(),d.options.context&&(0,B.default)(d.options.context),d.gl=d.options.context||O.default.createContext(d.view,d._contextOptions),d.CONTEXT_UID=w++,d.state=new I.default(d.gl),d.renderingToScreen=!0,d.boundTextures=null,d._activeShader=null,d._activeVao=null,d._activeRenderTarget=null,d._initContext(),d.drawModes=(0,R.default)(d.gl),d._nextTextureLocation=0,d.setBlendMode(0),d}return i(t,e),t.prototype._initContext=function(){var e=this.gl;e.isContextLost()&&e.getExtension('WEBGL_lose_context')&&e.getExtension('WEBGL_lose_context').restoreContext();var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=Array(t),this.emptyTextures=Array(t),this.textureManager=new b.default(this),this.filterManager=new f.default(this),this.textureGC=new S.default(this),this.state.resetToDefault(),this.rootRenderTarget=new _.default(e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new O.default.GLTexture.fromData(e,null,1,1),a={_glTextures:{}};a._glTextures[this.CONTEXT_UID]={};for(var n=0,o;n<t;n++)o=new v.default,o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[n]=a,this.emptyTextures[n]=o,this.bindTexture(null,n);this.emit('context',e),this.resize(this.screen.width,this.screen.height)},t.prototype.render=function(e,t,r,a,n){if(this.renderingToScreen=!t,this.emit('prerender'),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,t||(this._lastObjectRendered=e),!n){var o=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=o}this.bindRenderTexture(t,a),this.currentRenderer.start(),(void 0===r?this.clearBeforeRender:r)&&this._activeRenderTarget.clear(),e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit('postrender')}},t.prototype.setObjectRenderer=function(e){this.currentRenderer===e||(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.resize=function(e,t){s.default.prototype.resize.call(this,e,t),this.rootRenderTarget.resize(e,t),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},t.prototype.setBlendMode=function(e){this.state.setBlendMode(e)},t.prototype.clear=function(e){this._activeRenderTarget.clear(e)},t.prototype.setTransform=function(e){this._activeRenderTarget.transform=e},t.prototype.clearRenderTexture=function(e,t){var r=e.baseTexture,a=r._glRenderTargets[this.CONTEXT_UID];return a&&a.clear(t),this},t.prototype.bindRenderTexture=function(e,t){var r;if(e){var a=e.baseTexture;a._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(a,0),this.unbindTexture(a),r=a._glRenderTargets[this.CONTEXT_UID],r.setFrame(e.frame)}else r=this.rootRenderTarget;return r.transform=t,this.bindRenderTarget(r),this},t.prototype.bindRenderTarget=function(e){return e!==this._activeRenderTarget&&(this._activeRenderTarget=e,e.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(e.stencilMaskStack)),this},t.prototype.bindShader=function(e,t){return this._activeShader!==e&&(this._activeShader=e,e.bind(),!1!==t&&(e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},t.prototype.bindTexture=function(e,t,r){if(e=e||this.emptyTextures[t],e=e.baseTexture||e,e.touched=this.textureGC.count,!r){for(var a=0;a<this.boundTextures.length;a++)if(this.boundTextures[a]===e)return a;void 0===t&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,t=this.boundTextures.length-this._nextTextureLocation-1)}else t=t||0;var n=this.gl,o=e._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[t]=e,n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(e,t),t},t.prototype.unbindTexture=function(e){var t=this.gl;e=e.baseTexture||e;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===e&&(this.boundTextures[r]=this.emptyTextures[r],t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},t.prototype.createVao=function(){return new O.default.VertexArrayObject(this.gl,this.state.attribState)},t.prototype.bindVao=function(e){return this._activeVao===e?this:(e?e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=e,this)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.emptyTextures[e];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},t.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener('webglcontextlost',this.handleContextLost),this.view.removeEventListener('webglcontextrestored',this.handleContextRestored),this.textureManager.destroy(),e.prototype.destroy.call(this,t),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension('WEBGL_lose_context')&&this.gl.getExtension('WEBGL_lose_context').loseContext(),this.gl=null},t}(s.default);t.default=A,D.pluginTarget.mixin(A)},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(4),o=r(1),i=r(3),d=function(e){return e&&e.__esModule?e:{default:e}}(i),s=r(5),l=function(){function e(t,r,i,l,u,p){a(this,e),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new n.Rectangle(0,0,1,1),this.resolution=u||d.default.RESOLUTION,this.projectionMatrix=new n.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new n.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0===l?d.default.SCALE_MODE:l,this.root=p,this.root?(this.frameBuffer=new s.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=s.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,i)}return e.prototype.clear=function(e){var t=e||this.clearColor;this.frameBuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},e.prototype.setFrame=function(e,t){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||this.destinationFrame},e.prototype.activate=function(){var e=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame===this.sourceFrame?e.disable(e.SCISSOR_TEST):(e.enable(e.SCISSOR_TEST),e.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width*this.resolution,0|this.destinationFrame.height*this.resolution)),e.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width*this.resolution,0|this.destinationFrame.height*this.resolution)},e.prototype.calculateProjection=function(e,t){var r=this.projectionMatrix;t=t||e,r.identity(),this.root?(r.a=2*(1/e.width),r.d=2*(-1/e.height),r.tx=-1-t.x*r.a,r.ty=1-t.y*r.d):(r.a=2*(1/e.width),r.d=2*(1/e.height),r.tx=-1-t.x*r.a,r.ty=-1-t.y*r.d)},e.prototype.resize=function(e,t){if(e|=0,t|=0,this.size.width!==e||this.size.height!==t){this.size.width=e,this.size.height=t,this.defaultFrame.width=e,this.defaultFrame.height=t,this.frameBuffer.resize(e*this.resolution,t*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},e.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},e}();t.default=l},function(e,t,r){'use strict';function a(e,t){var a=e.points;if(0!==a.length){var n=new d.Point(a[0],a[1]),l=new d.Point(a[a.length-2],a[a.length-1]);if(n.x===l.x&&n.y===l.y){a=a.slice(),a.pop(),a.pop(),l=new d.Point(a[a.length-2],a[a.length-1]);var u=l.x+0.5*(n.x-l.x),p=l.y+0.5*(n.y-l.y);a.unshift(u,p),a.push(u,p)}var c=t.points,h=t.indices,f=a.length/2,_=a.length,y=c.length/6,m=e.lineWidth/2,x=(0,s.hex2rgb)(e.lineColor),T=e.lineAlpha,v=x[0]*T,r=x[1]*T,g=x[2]*T,b=a[0],E=a[1],S=a[2],C=a[3],I=0,P=0,R=-(E-C),M=b-S,B=0,D=0,F=0,O=0,L=o(R*R+M*M);R/=L,M/=L,R*=m,M*=m,c.push(b-R,E-M,v,r,g,T),c.push(b+R,E+M,v,r,g,T);for(var w=1;w<f-1;++w){b=a[2*(w-1)],E=a[2*(w-1)+1],S=a[2*w],C=a[2*w+1],I=a[2*(w+1)],P=a[2*(w+1)+1],R=-(E-C),M=b-S,L=o(R*R+M*M),R/=L,M/=L,R*=m,M*=m,B=-(C-P),D=S-I,L=o(B*B+D*D),B/=L,D/=L,B*=m,D*=m;var i=-M+E-(-M+C),A=-R+S-(-R+b),U=(-R+b)*(-M+C)-(-R+S)*(-M+E),k=-D+P-(-D+C),N=-B+S-(-B+I),Q=(-B+I)*(-D+C)-(-B+S)*(-D+P),X=i*N-k*A;if(0.1>Math.abs(X)){X+=10.1,c.push(S-R,C-M,v,r,g,T),c.push(S+R,C+M,v,r,g,T);continue}var H=(A*Q-N*U)/X,G=(k*U-i*Q)/X,V=(H-S)*(H-S)+(G-C)*(G-C);V>196*m*m?(F=R-B,O=M-D,L=o(F*F+O*O),F/=L,O/=L,F*=m,O*=m,c.push(S-F,C-O),c.push(v,r,g,T),c.push(S+F,C+O),c.push(v,r,g,T),c.push(S-F,C-O),c.push(v,r,g,T),_++):(c.push(H,G),c.push(v,r,g,T),c.push(S-(H-S),C-(G-C)),c.push(v,r,g,T))}b=a[2*(f-2)],E=a[2*(f-2)+1],S=a[2*(f-1)],C=a[2*(f-1)+1],R=-(E-C),M=b-S,L=o(R*R+M*M),R/=L,M/=L,R*=m,M*=m,c.push(S-R,C-M),c.push(v,r,g,T),c.push(S+R,C+M),c.push(v,r,g,T),h.push(y);for(var W=0;W<_;++W)h.push(y++);h.push(y-1)}}function n(e,t){var a=0,n=e.points;if(0!==n.length){var o=t.points,i=n.length/2,d=(0,s.hex2rgb)(e.lineColor),l=e.lineAlpha,u=d[0]*l,r=d[1]*l,p=d[2]*l;for(a=1;a<i;a++){var c=n[2*(a-1)],h=n[2*(a-1)+1],f=n[2*a],g=n[2*a+1];o.push(c,h),o.push(u,r,p,l),o.push(f,g),o.push(u,r,p,l)}}}var o=Math.sqrt;t.__esModule=!0,t.default=function(e,t,r){e.nativeLines?n(e,r):a(e,t)};var d=r(4),s=r(2)},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(r){'object'==typeof window&&(t=window)}e.exports=t},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;r(this,e),this.x=t,this.y=a}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copy=function(e){this.set(e.x,e.y)},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){this.x=e||0,this.y=t||(0===t?0:this.x)},e}();t.default=a},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var o=Math.atan2,i=Math.sin,s=Math.cos,l=Math.sqrt,u=Math.PI;t.__esModule=!0;var a=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(21),p=function(e){return e&&e.__esModule?e:{default:e}}(d),c=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,d=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;n(this,e),this.a=t,this.b=r,this.c=a,this.d=o,this.tx=i,this.ty=d,this.array=null}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,r,a,n,o){return this.a=e,this.b=t,this.c=r,this.d=a,this.tx=n,this.ty=o,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.apply=function(e,t){t=t||new p.default;var r=e.x,a=e.y;return t.x=this.a*r+this.c*a+this.tx,t.y=this.b*r+this.d*a+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new p.default;var r=1/(this.a*this.d+this.c*-this.b),a=e.x,n=e.y;return t.x=this.d*r*a+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*n+-this.b*r*a+(-this.ty*this.a+this.tx*this.b)*r,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=s(e),r=i(e),a=this.a,n=this.c,o=this.tx;return this.a=a*t-this.b*r,this.b=a*r+this.b*t,this.c=n*t-this.d*r,this.d=n*r+this.d*t,this.tx=o*t-this.ty*r,this.ty=o*r+this.ty*t,this},e.prototype.append=function(e){var t=this.a,r=this.b,a=this.c,n=this.d;return this.a=e.a*t+e.b*a,this.b=e.a*r+e.b*n,this.c=e.c*t+e.d*a,this.d=e.c*r+e.d*n,this.tx=e.tx*t+e.ty*a+this.tx,this.ty=e.tx*r+e.ty*n+this.ty,this},e.prototype.setTransform=function(e,t,r,n,o,l,u,p,h){var f=i(u),g=s(u),_=s(h),y=i(h),m=-i(p),x=s(p),T=g*o,a=f*o,b=-f*l,c=g*l;return this.a=_*T+y*b,this.b=_*a+y*c,this.c=m*T+x*b,this.d=m*a+x*c,this.tx=e+(r*T+n*b),this.ty=t+(r*a+n*c),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var r=this.a,a=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=a*e.a+this.d*e.c,this.d=a*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,r=this.b,a=this.c,n=this.d,i=-o(-a,n),d=o(r,t),s=Math.abs(i+d);return 1e-5>s?(e.rotation=d,0>t&&0<=n&&(e.rotation+=0>=e.rotation?u:-u),e.skew.x=e.skew.y=0):(e.skew.x=i,e.skew.y=d),e.scale.x=l(t*t+r*r),e.scale.y=l(a*a+n*n),e.position.x=this.tx,e.position.y=this.ty,e},e.prototype.invert=function(){var e=this.a,t=this.b,r=this.c,a=this.d,o=this.tx,i=e*a-t*r;return this.a=a/i,this.b=-t/i,this.c=-r/i,this.d=e/i,this.tx=(r*this.ty-a*o)/i,this.ty=-(e*this.ty-t*o)/i,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copy=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},a(e,null,[{key:'IDENTITY',get:function(){return new e}},{key:'TEMP_MATRIX',get:function(){return new e}}]),e}();t.default=c},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=Math.max,o=Math.min;t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(1),s=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;a(this,e),this.x=+t,this.y=+r,this.width=+n,this.height=+o,this.type=d.SHAPES.RECT}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.contains=function(e,t){return 0>=this.width||0>=this.height?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height},e.prototype.pad=function(e,t){e=e||0,t=t||(0===t?0:e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t},e.prototype.fit=function(e){this.x<e.x&&(this.width+=this.x,0>this.width&&(this.width=0),this.x=e.x),this.y<e.y&&(this.height+=this.y,0>this.height&&(this.height=0),this.y=e.y),this.x+this.width>e.x+e.width&&(this.width=e.width-this.x,0>this.width&&(this.width=0)),this.y+this.height>e.y+e.height&&(this.height=e.height-this.y,0>this.height&&(this.height=0))},e.prototype.enlarge=function(e){var t=o(this.x,e.x),r=n(this.x+this.width,e.x+e.width),a=o(this.y,e.y),i=n(this.y+this.height,e.y+e.height);this.x=t,this.width=r-t,this.y=a,this.height=i-a},i(e,[{key:'left',get:function(){return this.x}},{key:'right',get:function(){return this.x+this.width}},{key:'top',get:function(){return this.y}},{key:'bottom',get:function(){return this.y+this.height}}],[{key:'EMPTY',get:function(){return new e(0,0,0,0)}}]),e}();t.default=s},function(e){var t=null,r={FLOAT:'float',FLOAT_VEC2:'vec2',FLOAT_VEC3:'vec3',FLOAT_VEC4:'vec4',INT:'int',INT_VEC2:'ivec2',INT_VEC3:'ivec3',INT_VEC4:'ivec4',BOOL:'bool',BOOL_VEC2:'bvec2',BOOL_VEC3:'bvec3',BOOL_VEC4:'bvec4',FLOAT_MAT2:'mat2',FLOAT_MAT3:'mat3',FLOAT_MAT4:'mat4',SAMPLER_2D:'sampler2D'};e.exports=function(e,a){if(!t){var n=Object.keys(r);t={};for(var o=0,i;o<n.length;++o)i=n[o],t[e[i]]=r[i]}return t[a]}},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=Math.max,o=Math.min;t.__esModule=!0;var i=r(4),d=function(){function e(){a(this,e),this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.updateID++,this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:(e=e||new i.Rectangle(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=o(this.minX,e.x),this.maxX=n(this.maxX,e.x),this.minY=o(this.minY,e.y),this.maxY=n(this.maxY,e.y)},e.prototype.addQuad=function(e){var t=this.minX,r=this.minY,a=this.maxX,n=this.maxY,o=e[0],i=e[1];t=o<t?o:t,r=i<r?i:r,a=o>a?o:a,n=i>n?i:n,o=e[2],i=e[3],t=o<t?o:t,r=i<r?i:r,a=o>a?o:a,n=i>n?i:n,o=e[4],i=e[5],t=o<t?o:t,r=i<r?i:r,a=o>a?o:a,n=i>n?i:n,o=e[6],i=e[7],t=o<t?o:t,r=i<r?i:r,a=o>a?o:a,n=i>n?i:n,this.minX=t,this.minY=r,this.maxX=a,this.maxY=n},e.prototype.addFrame=function(e,t,r,n,o){var i=e.worldTransform,s=i.a,a=i.b,l=i.c,u=i.d,d=i.tx,p=i.ty,c=this.minX,h=this.minY,f=this.maxX,g=this.maxY,_=s*t+l*r+d,m=a*t+u*r+p;c=_<c?_:c,h=m<h?m:h,f=_>f?_:f,g=m>g?m:g,_=s*n+l*r+d,m=a*n+u*r+p,c=_<c?_:c,h=m<h?m:h,f=_>f?_:f,g=m>g?m:g,_=s*t+l*o+d,m=a*t+u*o+p,c=_<c?_:c,h=m<h?m:h,f=_>f?_:f,g=m>g?m:g,_=s*n+l*o+d,m=a*n+u*o+p,c=_<c?_:c,h=m<h?m:h,f=_>f?_:f,g=m>g?m:g,this.minX=c,this.minY=h,this.maxX=f,this.maxY=g},e.prototype.addVertices=function(e,t,r,n){for(var o=e.worldTransform,s=o.a,a=o.b,l=o.c,u=o.d,d=o.tx,p=o.ty,c=this.minX,h=this.minY,f=this.maxX,g=this.maxY,_=r;_<n;_+=2){var i=t[_],m=t[_+1],b=s*i+l*m+d,x=u*m+a*i+p;c=b<c?b:c,h=x<h?x:h,f=b>f?b:f,g=x>g?x:g}this.minX=c,this.minY=h,this.maxX=f,this.maxY=g},e.prototype.addBounds=function(e){var t=this.minX,r=this.minY,a=this.maxX,n=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>a?e.maxX:a,this.maxY=e.maxY>n?e.maxY:n},e.prototype.addBoundsMask=function(e,t){var r=e.minX>t.minX?e.minX:t.minX,a=e.minY>t.minY?e.minY:t.minY,n=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=n&&a<=o){var i=this.minX,d=this.minY,s=this.maxX,l=this.maxY;this.minX=r<i?r:i,this.minY=a<d?a:d,this.maxX=n>s?n:s,this.maxY=o>l?o:l}},e.prototype.addBoundsArea=function(e,t){var r=e.minX>t.x?e.minX:t.x,a=e.minY>t.y?e.minY:t.y,n=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=n&&a<=o){var i=this.minX,d=this.minY,s=this.maxX,l=this.maxY;this.minX=r<i?r:i,this.minY=a<d?a:d,this.maxX=n>s?n:s,this.maxY=o>l?o:l}},e}();t.default=d},function(e,t){var r,a,n;(function(o){var i=/iPhone/i,d=/iPod/i,s=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,u=/Android/i,p=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,c=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,h=/Windows Phone/i,f=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,g=/BlackBerry/i,_=/BB10/i,y=/Opera Mini/i,m=/(CriOS|Chrome)(?=.*\bMobile\b)/i,x=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,b=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,T=function(e,t){return e.test(t)},v=function(e){var t=e||navigator.userAgent,r=t.split('[FBAN');if('undefined'!=typeof r[1]&&(t=r[0]),r=t.split('Twitter'),'undefined'!=typeof r[1]&&(t=r[0]),this.apple={phone:T(i,t),ipod:T(d,t),tablet:!T(i,t)&&T(s,t),device:T(i,t)||T(d,t)||T(s,t)},this.amazon={phone:T(p,t),tablet:!T(p,t)&&T(c,t),device:T(p,t)||T(c,t)},this.android={phone:T(p,t)||T(l,t),tablet:!T(p,t)&&!T(l,t)&&(T(c,t)||T(u,t)),device:T(p,t)||T(c,t)||T(l,t)||T(u,t)},this.windows={phone:T(h,t),tablet:T(f,t),device:T(h,t)||T(f,t)},this.other={blackberry:T(g,t),blackberry10:T(_,t),opera:T(y,t),firefox:T(x,t),chrome:T(m,t),device:T(g,t)||T(_,t)||T(y,t)||T(x,t)||T(m,t)},this.seven_inch=T(b,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,'undefined'==typeof window)return this},E=function(){var e=new v;return e.Class=v,e};'undefined'!=typeof e&&e.exports&&'undefined'==typeof window?e.exports=v:'undefined'!=typeof e&&e.exports&&'undefined'!=typeof window?e.exports=E():(a=[],r=o.isMobile=E(),n='function'==typeof r?r.apply(t,a):r,!(n!==void 0&&(e.exports=n)))})(this)},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(4),o=function(){function e(){a(this,e),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}return e.prototype.updateLocalTransform=function(){},e.prototype.updateTransform=function(e){var t=e.worldTransform,r=this.worldTransform,a=this.localTransform;r.a=a.a*t.a+a.b*t.c,r.b=a.a*t.b+a.b*t.d,r.c=a.c*t.a+a.d*t.c,r.d=a.c*t.b+a.d*t.d,r.tx=a.tx*t.a+a.ty*t.c+t.tx,r.ty=a.tx*t.b+a.ty*t.d+t.ty,this._worldID++},e}();t.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=Math.abs;t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(4),u=r(2),p=r(1),c=r(7),h=a(c),f=r(10),g=a(f),_=new l.Point,y=function(e){function t(r){n(this,t);var a=o(this,e.call(this));return a._anchor=new l.ObservablePoint(a._onAnchorUpdate,a),a._texture=null,a._width=0,a._height=0,a._tint=null,a._tintRGB=null,a.tint=16777215,a.blendMode=p.BLEND_MODES.NORMAL,a.shader=null,a.cachedTint=16777215,a.texture=r||h.default.EMPTY,a.vertexData=new Float32Array(8),a.vertexTrimmedData=null,a._transformID=-1,a._textureID=-1,a._transformTrimmedID=-1,a._textureTrimmedID=-1,a.pluginName='sprite',a}return i(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,u.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,u.sign)(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var e=this._texture,t=this.transform.worldTransform,r=t.a,a=t.b,n=t.c,o=t.d,i=t.tx,d=t.ty,s=this.vertexData,l=e.trim,u=e.orig,p=this._anchor,c=0,h=0,f=0,g=0;l?(h=l.x-p._x*u.width,c=h+l.width,g=l.y-p._y*u.height,f=g+l.height):(h=-p._x*u.width,c=h+u.width,g=-p._y*u.height,f=g+u.height),s[0]=r*h+n*g+i,s[1]=o*g+a*h+d,s[2]=r*c+n*g+i,s[3]=o*g+a*c+d,s[4]=r*c+n*f+i,s[5]=o*f+a*c+d,s[6]=r*h+n*f+i,s[7]=o*f+a*h+d}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,r=e.orig,n=this._anchor,o=this.transform.worldTransform,i=o.a,a=o.b,s=o.c,l=o.d,d=o.tx,u=o.ty,p=-n._x*r.width,c=p+r.width,h=-n._y*r.height,f=h+r.height;t[0]=i*p+s*h+d,t[1]=l*h+a*p+u,t[2]=i*c+s*h+d,t[3]=l*h+a*c+u,t[4]=i*c+s*f+d,t[5]=l*f+a*c+u,t[6]=i*p+s*f+d,t[7]=l*f+a*p+u},t.prototype._renderWebGL=function(e){this.calculateVertices(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._renderCanvas=function(e){e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;e&&(e.width!==t.width||e.height!==t.height)?(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData)):(this.calculateVertices(),this._bounds.addQuad(this.vertexData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(!this._localBoundsRect&&(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,_);var t=this._texture.orig.width,r=this._texture.orig.height,a=-t*this.anchor.x,n=0;return _.x>=a&&_.x<a+t&&(n=-r*this.anchor.y,_.y>=n&&_.y<n+r)},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._anchor=null;var r='boolean'==typeof t?t:t&&t.texture;if(r){var a='boolean'==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!a)}this._texture=null,this.shader=null},t.from=function(e){return new t(h.default.from(e))},t.fromFrame=function(e){var r=u.TextureCache[e];if(!r)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return new t(r)},t.fromImage=function(e,r,a){return new t(h.default.fromImage(e,r,a))},s(t,[{key:'width',get:function(){return d(this.scale.x)*this._texture.orig.width},set:function(e){var t=(0,u.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:'height',get:function(){return d(this.scale.y)*this._texture.orig.height},set:function(e){var t=(0,u.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:'anchor',get:function(){return this._anchor},set:function(e){this._anchor.copy(e)}},{key:'tint',get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}},{key:'texture',get:function(){return this._texture},set:function(e){this._texture===e||(this._texture=e,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once('update',this._onTextureUpdate,this)))}}]),t}(g.default);t.default=y},function(e,t){'use strict';'use restrict';function r(e){var t=32;return e&=-e,e&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}var a=32;t.INT_BITS=a,t.INT_MAX=2147483647,t.INT_MIN=-1<<a-1,t.sign=function(e){return(0<e)-(0>e)},t.abs=function(e){var t=e>>a-1;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t,r;return t=(65535<e)<<4,e>>>=t,r=(255<e)<<3,e>>>=r,t|=r,r=(15<e)<<2,e>>>=r,t|=r,r=(3<e)<<1,e>>>=r,t|=r,t|e>>1},t.log10=function(e){return 1e9<=e?9:1e8<=e?8:1e7<=e?7:1e6<=e?6:1e5<=e?5:1e4<=e?4:1e3<=e?3:100<=e?2:10<=e?1:0},t.popCount=function(e){return e-=1431655765&e>>>1,e=(858993459&e)+(858993459&e>>>2),16843009*(252645135&e+(e>>>4))>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,1&27030>>>e};var n=Array(256);(function(e){for(var t=0;256>t;++t){var a=t,n=t,r=7;for(a>>>=1;a;a>>>=1)n<<=1,n|=1&a,--r;e[t]=255&n<<r}})(n),t.reverse=function(e){return n[255&e]<<24|n[255&e>>>8]<<16|n[255&e>>>16]<<8|n[255&e>>>24]},t.interleave2=function(e,t){return e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1},t.deinterleave2=function(e,t){return e=1431655765&e>>>t,e=858993459&(e|e>>>1),e=252645135&(e|e>>>2),e=16711935&(e|e>>>4),e=65535&(e|e>>>16),e<<16>>16},t.interleave3=function(e,t,r){return e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e|=t<<1,r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),e|r<<2},t.deinterleave3=function(e,t){return e=1227133513&e>>>t,e=3272356035&(e|e>>>2),e=251719695&(e|e>>>4),e=4278190335&(e|e>>>8),e=1023&(e|e>>>16),e<<22>>22},t.nextCombination=function(e){var a=e|e-1;return a+1|(~a&-~a)-1>>>r(e)+1}},function(e,t,r){'use strict';t.__esModule=!0,t.Ticker=t.shared=void 0;var a=r(117),n=function(e){return e&&e.__esModule?e:{default:e}}(a),o=new n.default;o.autoStart=!0,o.destroy=function(){},t.shared=o,t.Ticker=n.default},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=Math.ceil;t.__esModule=!0;var s=r(55),l=a(s),u=r(7),p=a(u),c=function(e){function t(r,a){n(this,t);var i=null;if(!(r instanceof l.default)){var d=arguments[1],s=arguments[2],u=arguments[3],p=arguments[4];console.warn('Please use RenderTexture.create('+d+', '+s+') instead of the ctor directly.'),i=arguments[0],a=null,r=new l.default(d,s,u,p)}var c=o(this,e.call(this,r,a));return c.legacyRenderer=i,c.valid=!0,c._updateUvs(),c}return i(t,e),t.prototype.resize=function(e,t,r){e=d(e),t=d(t),this.valid=0<e&&0<t,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,r||this.baseTexture.resize(e,t),this._updateUvs()},t.create=function(e,r,a,n){return new t(new l.default(e,r,a,n))},t}(p.default);t.default=c},function(e,t,r){'use strict';var a=Math.ceil,n=Math.min;t.__esModule=!0;var o=r(2),i=r(57),d=function(e){return e&&e.__esModule?e:{default:e}}(i),s={getTintedTexture:function(e,t){var r=e._texture;t=s.roundColor(t);var a='#'+('00000'+(0|t).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var n=r.tintCache[a],o;if(n){if(n.tintId===r._updateID)return r.tintCache[a];o=r.tintCache[a]}else o=s.canvas||document.createElement('canvas');if(s.tintMethod(r,t,o),o.tintId=r._updateID,s.convertTintToImage){var i=new Image;i.src=o.toDataURL(),r.tintCache[a]=i}else r.tintCache[a]=o,s.canvas=null;return o},tintWithMultiply:function(e,t,r){var n=r.getContext('2d'),o=e._frame.clone(),i=e.baseTexture.resolution;o.x*=i,o.y*=i,o.width*=i,o.height*=i,r.width=a(o.width),r.height=a(o.height),n.save(),n.fillStyle='#'+('00000'+(0|t).toString(16)).substr(-6),n.fillRect(0,0,o.width,o.height),n.globalCompositeOperation='multiply',n.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),n.globalCompositeOperation='destination-atop',n.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),n.restore()},tintWithOverlay:function(e,t,r){var n=r.getContext('2d'),o=e._frame.clone(),i=e.baseTexture.resolution;o.x*=i,o.y*=i,o.width*=i,o.height*=i,r.width=a(o.width),r.height=a(o.height),n.save(),n.globalCompositeOperation='copy',n.fillStyle='#'+('00000'+(0|t).toString(16)).substr(-6),n.fillRect(0,0,o.width,o.height),n.globalCompositeOperation='destination-atop',n.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),n.restore()},tintWithPerPixel:function(e,t,n){var d=n.getContext('2d'),s=e._frame.clone(),l=e.baseTexture.resolution;s.x*=l,s.y*=l,s.width*=l,s.height*=l,n.width=a(s.width),n.height=a(s.height),d.save(),d.globalCompositeOperation='copy',d.drawImage(e.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height),d.restore();for(var u=(0,o.hex2rgb)(t),p=u[0],r=u[1],c=u[2],h=d.getImageData(0,0,s.width,s.height),f=h.data,g=0;g<f.length;g+=4)f[g+0]*=p,f[g+1]*=r,f[g+2]*=c;d.putImageData(h,0,0)},roundColor:function(e){var t=s.cacheStepsPerColorChannel,r=(0,o.hex2rgb)(e);return r[0]=n(255,r[0]/t*t),r[1]=n(255,r[1]/t*t),r[2]=n(255,r[2]/t*t),(0,o.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,d.default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,t.default=s},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){for(var t=6*e,r=new Uint16Array(t),a=0,n=0;a<t;a+=6,n+=4)r[a+0]=n+0,r[a+1]=n+1,r[a+2]=n+2,r[a+3]=n+0,r[a+4]=n+2,r[a+5]=n+3;return r}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(){}function i(e,t,r){t&&0===t.indexOf('.')&&(t=t.substring(1));t&&(e[t]=r)}function d(e){return e.toString().replace('object ','')}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(81),u=a(l),p=r(80),c=a(p),h=!(!window.XDomainRequest||'withCredentials'in new XMLHttpRequest),f=null,g=200,_=function(){function e(t,r,a){if(n(this,e),'string'!=typeof t||'string'!=typeof r)throw new Error('Both name and url are required for constructing a resource.');a=a||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===r.indexOf('data:')),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===a.crossOrigin?'anonymous':a.crossOrigin,this.loadType=a.loadType||this._determineLoadType(),this.xhrType=a.xhrType,this.metadata=a.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=o,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new c.default,this.onProgress=new c.default,this.onComplete=new c.default,this.onAfterMiddleware=new c.default}return e.setExtensionLoadType=function(t,r){i(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){i(e._xhrTypeMap,t,r)},e.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener('error',this._boundOnError,!1),this.data.removeEventListener('load',this._boundComplete,!1),this.data.removeEventListener('progress',this._boundOnProgress,!1),this.data.removeEventListener('canplaythrough',this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener('error',this._boundXhrOnError,!1),this.xhr.removeEventListener('abort',this._boundXhrOnAbort,!1),this.xhr.removeEventListener('progress',this._boundOnProgress,!1),this.xhr.removeEventListener('load',this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error('Complete called again for an already completed resource.');this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},e.prototype.load=function(t){var r=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(r)},1));switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||'string'!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement('image');break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement('audio');break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement('video');break;case e.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr();}}},e.prototype._hasFlag=function(e){return!!(this._flags&e)},e.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},e.prototype._loadElement=function(e){this.data=this.metadata.loadElement?this.metadata.loadElement:'image'===e&&'undefined'!=typeof window.Image?new Image:document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener('error',this._boundOnError,!1),this.data.addEventListener('load',this._boundComplete,!1),this.data.addEventListener('progress',this._boundOnProgress,!1)},e.prototype._loadSourceElement=function(e){if(this.data=this.metadata.loadElement?this.metadata.loadElement:'audio'===e&&'undefined'!=typeof window.Audio?new Audio:document.createElement(e),null===this.data)return void this.abort('Unsupported element: '+e);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(e,this.url[r],Array.isArray(t)?t[r]:t));else{var a=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(a)?a[0]:a))}this.data.addEventListener('error',this._boundOnError,!1),this.data.addEventListener('load',this._boundComplete,!1),this.data.addEventListener('progress',this._boundOnProgress,!1),this.data.addEventListener('canplaythrough',this._boundComplete,!1),this.data.load()},e.prototype._loadXhr=function(){'string'!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open('GET',this.url,!0),t.responseType=this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?e.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener('error',this._boundXhrOnError,!1),t.addEventListener('abort',this._boundXhrOnAbort,!1),t.addEventListener('progress',this._boundOnProgress,!1),t.addEventListener('load',this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){'string'!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXdrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open('GET',this.url,!0),setTimeout(function(){return e.send()},1)},e.prototype._createSource=function(e,t,r){r||(r=e+'/'+this._getExtension(t));var a=document.createElement('source');return a.src=t,a.type=r,a},e.prototype._onError=function(e){this.abort('Failed to load element using: '+e.target.nodeName)},e.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},e.prototype._xhrOnError=function(){var e=this.xhr;this.abort(d(e)+' Request failed. Status: '+e.status+', text: "'+e.statusText+'"')},e.prototype._xhrOnAbort=function(){this.abort(d(this.xhr)+' Request was aborted by the user.')},e.prototype._xdrOnTimeout=function(){this.abort(d(this.xhr)+' Request timed out.')},e.prototype._xhrOnLoad=function(){var t=this.xhr,r='',a='undefined'==typeof t.status?g:t.status;(''===t.responseType||'text'===t.responseType||'undefined'==typeof t.responseType)&&(r=t.responseText),a===0&&0<r.length?a=g:a===1223&&(a=204);var n=0|a/100;if(n!=2)return void this.abort('['+t.status+'] '+t.statusText+': '+t.responseURL);if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(t){return void this.abort('Error trying to parse loaded json: '+t)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var o=new DOMParser;this.data=o.parseFromString(r,'text/xml')}else{var i=document.createElement('div');i.innerHTML=r,this.data=i}this.type=e.TYPE.XML}catch(t){return void this.abort('Error trying to parse loaded xml: '+t)}else this.data=t.response||r;this.complete()},e.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf('data:'))return'';t=t||window.location,f||(f=document.createElement('a')),f.href=e,e=(0,u.default)(f.href,{strictMode:!0});var r=!e.port&&''===t.port||e.port===t.port,a=e.protocol?e.protocol+':':'';return e.host===t.hostname&&r&&a===t.protocol?'':'anonymous'},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(){var e=this.url,t='';if(this.isDataUrl){var r=e.indexOf('/');t=e.substring(r+1,e.indexOf(';',r))}else{var a=e.indexOf('?'),n=e.indexOf('#'),o=Math.min(-1<a?a:e.length,-1<n?n:e.length);e=e.substring(0,o),t=e.substring(e.lastIndexOf('.')+1)}return t.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return'application/octet-binary';case e.XHR_RESPONSE_TYPE.BLOB:return'application/blob';case e.XHR_RESPONSE_TYPE.DOCUMENT:return'application/xml';case e.XHR_RESPONSE_TYPE.JSON:return'application/json';case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return'text/plain';}},s(e,[{key:'isDataUrl',get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:'isComplete',get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:'isLoading',get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();t.default=_,_.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},_.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},_.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},_.XHR_RESPONSE_TYPE={DEFAULT:'text',BUFFER:'arraybuffer',BLOB:'blob',DOCUMENT:'document',JSON:'json',TEXT:'text'},_._loadTypeMap={gif:_.LOAD_TYPE.IMAGE,png:_.LOAD_TYPE.IMAGE,bmp:_.LOAD_TYPE.IMAGE,jpg:_.LOAD_TYPE.IMAGE,jpeg:_.LOAD_TYPE.IMAGE,tif:_.LOAD_TYPE.IMAGE,tiff:_.LOAD_TYPE.IMAGE,webp:_.LOAD_TYPE.IMAGE,tga:_.LOAD_TYPE.IMAGE,svg:_.LOAD_TYPE.IMAGE,"svg+xml":_.LOAD_TYPE.IMAGE,mp3:_.LOAD_TYPE.AUDIO,ogg:_.LOAD_TYPE.AUDIO,wav:_.LOAD_TYPE.AUDIO,mp4:_.LOAD_TYPE.VIDEO,webm:_.LOAD_TYPE.VIDEO},_._xhrTypeMap={xhtml:_.XHR_RESPONSE_TYPE.DOCUMENT,html:_.XHR_RESPONSE_TYPE.DOCUMENT,htm:_.XHR_RESPONSE_TYPE.DOCUMENT,xml:_.XHR_RESPONSE_TYPE.DOCUMENT,tmx:_.XHR_RESPONSE_TYPE.DOCUMENT,svg:_.XHR_RESPONSE_TYPE.DOCUMENT,tsx:_.XHR_RESPONSE_TYPE.DOCUMENT,gif:_.XHR_RESPONSE_TYPE.BLOB,png:_.XHR_RESPONSE_TYPE.BLOB,bmp:_.XHR_RESPONSE_TYPE.BLOB,jpg:_.XHR_RESPONSE_TYPE.BLOB,jpeg:_.XHR_RESPONSE_TYPE.BLOB,tif:_.XHR_RESPONSE_TYPE.BLOB,tiff:_.XHR_RESPONSE_TYPE.BLOB,webp:_.XHR_RESPONSE_TYPE.BLOB,tga:_.XHR_RESPONSE_TYPE.BLOB,json:_.XHR_RESPONSE_TYPE.JSON,text:_.XHR_RESPONSE_TYPE.TEXT,txt:_.XHR_RESPONSE_TYPE.TEXT,ttf:_.XHR_RESPONSE_TYPE.BUFFER,otf:_.XHR_RESPONSE_TYPE.BUFFER},_.EMPTY_GIF='data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){var r=!1;if(e&&e._textures&&e._textures.length)for(var a=0;a<e._textures.length;a++)if(e._textures[a]instanceof c.Texture){var n=e._textures[a].baseTexture;-1===t.indexOf(n)&&(t.push(n),r=!0)}return r}function o(e,t){return!!(e instanceof c.BaseTexture)&&(-1===t.indexOf(e)&&t.push(e),!0)}function i(e,t){if(e._texture&&e._texture instanceof c.Texture){var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function d(e,t){return!!(t instanceof c.Text)&&(t.updateText(!0),!0)}function s(e,t){if(t instanceof c.TextStyle){var r=t.toFontString();return c.TextMetrics.measureFont(r),!0}return!1}function l(e,t){if(e instanceof c.Text){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function u(e,t){return!!(e instanceof c.TextStyle)&&(-1===t.indexOf(e)&&t.push(e),!0)}t.__esModule=!0;var p=r(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(p),h=r(87),f=function(e){return e&&e.__esModule?e:{default:e}}(h),g=c.ticker.shared;c.settings.UPLOADS_PER_FRAME=4;var _=function(){function e(t){var r=this;a(this,e),this.limiter=new f.default(c.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(l),this.registerFindHook(u),this.registerFindHook(n),this.registerFindHook(o),this.registerFindHook(i),this.registerUploadHook(d),this.registerUploadHook(s)}return e.prototype.upload=function(e,t){'function'==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),!this.ticking&&(this.ticking=!0,g.addOnce(this.tick,this,c.UPDATE_PRIORITY.UTILITY))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var r=0,a=this.uploadHooks.length;r<a;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(!this.queue.length){this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var o=0,i=n.length;o<i;o++)n[o]()}else g.addOnce(this.tick,this,c.UPDATE_PRIORITY.UTILITY)},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof c.Container)for(var a=e.children.length-1;0<=a;a--)this.add(e.children[a]);return this},e.prototype.destroy=function(){this.ticking&&g.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();t.default=_},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(){function e(t,a){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;r(this,e),this._x=n,this._y=o,this.cb=t,this.scope=a}return e.prototype.set=function(e,t){var r=e||0,a=t||(0===t?0:r);(this._x!==r||this._y!==a)&&(this._x=r,this._y=a,this.cb.call(this.scope))},e.prototype.copy=function(e){(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope))},a(e,[{key:'x',get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:'y',get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),e}();t.default=n},function(e,t,r){'use strict';function a(e){return 0>e?-1:0<e?1:0}var n=Math.abs;t.__esModule=!0;var o=r(22),i=function(e){return e&&e.__esModule?e:{default:e}}(o),d=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],l=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],u=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],p=[],c=[];(function(){for(var e=0,t;16>e;e++){t=[],c.push(t);for(var r=0;16>r;r++)for(var n=a(d[e]*d[r]+l[e]*s[r]),o=a(s[e]*d[r]+u[e]*s[r]),h=a(d[e]*l[r]+l[e]*u[r]),f=a(s[e]*l[r]+u[e]*u[r]),g=0;16>g;g++)if(d[g]===n&&s[g]===o&&l[g]===h&&u[g]===f){t.push(g);break}}for(var _=0,y;16>_;_++)y=new i.default,y.set(d[_],s[_],l[_],u[_],0,0),p.push(y)})();var h={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(e){return d[e]},uY:function(e){return s[e]},vX:function(e){return l[e]},vY:function(e){return u[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return c[e][t]},sub:function(e,t){return c[e][h.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){if(2*n(e)<=n(t))return 0<=t?h.S:h.N;return 2*n(t)<=n(e)?0<e?h.E:h.W:0<t?0<e?h.SE:h.SW:0<e?h.NE:h.NW},matrixAppendRotationInv:function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:0,n=p[h.inv(t)];n.tx=r,n.ty=a,e.append(n)}};t.default=h},function(e){e.exports=function(e,t,r){var a;if(r){var n=r.tempAttribState,o=r.attribState;for(a=0;a<n.length;a++)n[a]=!1;for(a=0;a<t.length;a++)n[t[a].attribute.location]=!0;for(a=0;a<o.length;a++)o[a]!==n[a]&&(o[a]=n[a],r.attribState[a]?e.enableVertexAttribArray(a):e.disableVertexAttribArray(a))}else for(a=0;a<t.length;a++){var i=t[a];e.enableVertexAttribArray(i.attribute.location)}}},function(e){var t=function(e,t,r,a,n){this.gl=e,this.texture=e.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=t||-1,this.height=r||-1,this.format=a||e.RGBA,this.type=n||e.UNSIGNED_BYTE};t.prototype.upload=function(e){this.bind();var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=e.videoWidth||e.width,a=e.videoHeight||e.height;a!==this.height||r!==this.width?t.texImage2D(t.TEXTURE_2D,0,this.format,this.format,this.type,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.format,this.type,e),this.width=r,this.height=a};var r=!1;t.prototype.uploadData=function(e,t,a){this.bind();var n=this.gl;if(e instanceof Float32Array){if(!r){var o=n.getExtension('OES_texture_float');if(o)r=!0;else throw new Error('floating point textures not available')}this.type=n.FLOAT}else this.type=this.type||n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t!==this.width||a!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,t,a,0,this.format,this.type,e||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,t,a,this.format,this.type,e||null),this.width=t,this.height=a},t.prototype.bind=function(e){var t=this.gl;e!==void 0&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)},t.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)},t.prototype.minFilter=function(e){var t=this.gl;this.bind(),this.mipmap?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR:t.NEAREST)},t.prototype.magFilter=function(e){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e?t.LINEAR:t.NEAREST)},t.prototype.enableMipmap=function(){var e=this.gl;this.bind(),this.mipmap=!0,e.generateMipmap(e.TEXTURE_2D)},t.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},t.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},t.prototype.enableWrapClamp=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},t.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)},t.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)},t.prototype.destroy=function(){var e=this.gl;e.deleteTexture(this.texture)},t.fromSource=function(e,r,a){var n=new t(e);return n.premultiplyAlpha=a||!1,n.upload(r),n},t.fromData=function(e,r,a,n){var o=new t(e);return o.uploadData(r,a,n),o},e.exports=t},function(e){var t=function(e,t,r){var a=e.createShader(t);return e.shaderSource(a,r),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?a:(console.log(e.getShaderInfoLog(a)),null)};e.exports=function(e,r,a,n){var o=t(e,e.VERTEX_SHADER,r),d=t(e,e.FRAGMENT_SHADER,a),s=e.createProgram();if(e.attachShader(s,o),e.attachShader(s,d),n)for(var l in n)e.bindAttribLocation(s,n[l],l);return e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)||(console.error('Pixi.js Error: Could not initialize shader.'),console.error('gl.VALIDATE_STATUS',e.getProgramParameter(s,e.VALIDATE_STATUS)),console.error('gl.getError()',e.getError()),''!==e.getProgramInfoLog(s)&&console.warn('Pixi.js Warning: gl.getProgramInfoLog()',e.getProgramInfoLog(s)),e.deleteProgram(s),s=null),e.deleteShader(o),e.deleteShader(d),s}},function(e,t,r){var a=r(24),n=r(42),o=function(e,t,r,a){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||!1,r||0,a||0)};e.exports=function(e,t){for(var r={},d=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),s=0;s<d;s++){var i=e.getActiveAttrib(t,s),l=a(e,i.type);r[i.name]={type:l,size:n(l),location:e.getAttribLocation(t,i.name),pointer:o}}return r}},function(e){var t={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=function(e){return t[e]}},function(e,t,r){var a=r(24),n=r(44);e.exports=function(e,t){for(var r={},o=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),d=0;d<o;d++){var i=e.getActiveUniform(t,d),s=i.name.replace(/\[.*?\]/,''),l=a(e,i.type);r[s]={type:l,size:i.size,location:e.getUniformLocation(t,s),value:n(l,i.size)}}return r}},function(e){var t=function(e){for(var t=Array(e),r=0;r<t.length;r++)t[r]=!1;return t};e.exports=function(e,r){return'float'===e?0:'vec2'===e?new Float32Array(2*r):'vec3'===e?new Float32Array(3*r):'vec4'===e?new Float32Array(4*r):'int'===e||'sampler2D'===e?0:'ivec2'===e?new Int32Array(2*r):'ivec3'===e?new Int32Array(3*r):'ivec4'===e?new Int32Array(4*r):'bool'!=e&&('bvec2'===e?t(2*r):'bvec3'===e?t(3*r):'bvec4'===e?t(4*r):'mat2'===e?new Float32Array([1,0,0,1]):'mat3'===e?new Float32Array([1,0,0,0,1,0,0,0,1]):'mat4'===e?new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]):void 0)}},function(e){e.exports=function(e,t){return'precision'===e.substring(0,9)?e:'precision '+t+' float;\n'+e}},function(e){function t(e,t){return function(r){this.data[e].value=r;var a=this.data[e].location;1===t.size?n[t.type](this.gl,a,r):o[t.type](this.gl,a,r)}}function r(e,t){for(var r=t,a=0,n;a<e.length-1;a++)n=r[e[a]]||{data:{}},r[e[a]]=n,r=n;return r}var a=function(e){return function(){return this.data[e].value}},n={float:function(e,t,r){e.uniform1f(t,r)},vec2:function(e,t,r){e.uniform2f(t,r[0],r[1])},vec3:function(e,t,r){e.uniform3f(t,r[0],r[1],r[2])},vec4:function(e,t,r){e.uniform4f(t,r[0],r[1],r[2],r[3])},int:function(e,t,r){e.uniform1i(t,r)},ivec2:function(e,t,r){e.uniform2i(t,r[0],r[1])},ivec3:function(e,t,r){e.uniform3i(t,r[0],r[1],r[2])},ivec4:function(e,t,r){e.uniform4i(t,r[0],r[1],r[2],r[3])},bool:function(e,t,r){e.uniform1i(t,r)},bvec2:function(e,t,r){e.uniform2i(t,r[0],r[1])},bvec3:function(e,t,r){e.uniform3i(t,r[0],r[1],r[2])},bvec4:function(e,t,r){e.uniform4i(t,r[0],r[1],r[2],r[3])},mat2:function(e,t,r){e.uniformMatrix2fv(t,!1,r)},mat3:function(e,t,r){e.uniformMatrix3fv(t,!1,r)},mat4:function(e,t,r){e.uniformMatrix4fv(t,!1,r)},sampler2D:function(e,t,r){e.uniform1i(t,r)}},o={float:function(e,t,r){e.uniform1fv(t,r)},vec2:function(e,t,r){e.uniform2fv(t,r)},vec3:function(e,t,r){e.uniform3fv(t,r)},vec4:function(e,t,r){e.uniform4fv(t,r)},int:function(e,t,r){e.uniform1iv(t,r)},ivec2:function(e,t,r){e.uniform2iv(t,r)},ivec3:function(e,t,r){e.uniform3iv(t,r)},ivec4:function(e,t,r){e.uniform4iv(t,r)},bool:function(e,t,r){e.uniform1iv(t,r)},bvec2:function(e,t,r){e.uniform2iv(t,r)},bvec3:function(e,t,r){e.uniform3iv(t,r)},bvec4:function(e,t,r){e.uniform4iv(t,r)},sampler2D:function(e,t,r){e.uniform1iv(t,r)}};e.exports=function(e,n){for(var o={data:{},gl:e},d=Object.keys(n),s=0;s<d.length;s++){var i=d[s],l=i.split('.'),u=l[l.length-1],p=r(l,o),c=n[i];p.data[u]=c,p.gl=e,Object.defineProperty(p,u,{get:a(u),set:t(u,c)})}return o}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(8),l=a(s),u=r(1),p=r(3),c=a(p),h=r(48),f=a(h),g=r(49),_=a(g),y=r(25),m=a(y),x=r(4),b=function(e){function t(){n(this,t);var r=o(this,e.call(this)),a=c.default.TRANSFORM_MODE===u.TRANSFORM_MODE.STATIC?f.default:_.default;return r.tempDisplayObjectParent=null,r.transform=new a,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new m.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return i(t,e),t.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),t||(!this._boundsRect&&(this._boundsRect=new x.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){var t=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,e||(!this._localBoundsRect&&(this._localBoundsRect=new x.Rectangle),e=this._localBoundsRect);var a=this.getBounds(!1,e);return this.parent=r,this.transform=t,a},t.prototype.toGlobal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,r,a){return t&&(e=t.toGlobal(e,r,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.renderWebGL=function(){},t.prototype.renderCanvas=function(){},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error('setParent: Argument must be a Container');return e.addChild(this),e},t.prototype.setTransform=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,i=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,d=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,s=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=r?r:1,this.scale.y=a?a:1,this.rotation=n,this.skew.x=o,this.skew.y=i,this.pivot.x=d,this.pivot.y=s,this},t.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},d(t,[{key:'_tempDisplayObjectParent',get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new t),this.tempDisplayObjectParent}},{key:'x',get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:'y',get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:'worldTransform',get:function(){return this.transform.worldTransform}},{key:'localTransform',get:function(){return this.transform.localTransform}},{key:'position',get:function(){return this.transform.position},set:function(e){this.transform.position.copy(e)}},{key:'scale',get:function(){return this.transform.scale},set:function(e){this.transform.scale.copy(e)}},{key:'pivot',get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copy(e)}},{key:'skew',get:function(){return this.transform.skew},set:function(e){this.transform.skew.copy(e)}},{key:'rotation',get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:'worldVisible',get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},{key:'mask',get:function(){return this._mask},set:function(e){this._mask&&(this._mask.renderable=!0),this._mask=e,this._mask&&(this._mask.renderable=!1)}},{key:'filters',get:function(){return this._filters&&this._filters.slice()},set:function(e){this._filters=e&&e.slice()}}]),t}(l.default);t.default=b,b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Math.sin,d=Math.cos;t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(4),u=r(27),p=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){a(this,t);var r=n(this,e.call(this));return r.position=new l.ObservablePoint(r.onChange,r,0,0),r.scale=new l.ObservablePoint(r.onChange,r,1,1),r.pivot=new l.ObservablePoint(r.onChange,r,0,0),r.skew=new l.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return o(t,e),t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=d(this._rotation+this.skew._y),this._sx=i(this._rotation+this.skew._y),this._cy=-i(this._rotation-this.skew._x),this._sy=d(this._rotation-this.skew._x),this._localID++},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var r=e.worldTransform,a=this.worldTransform;a.a=t.a*r.a+t.b*r.c,a.b=t.a*r.b+t.b*r.d,a.c=t.c*r.a+t.d*r.c,a.d=t.c*r.b+t.d*r.d,a.tx=t.tx*r.a+t.ty*r.c+r.tx,a.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},s(t,[{key:'rotation',get:function(){return this._rotation},set:function(e){this._rotation=e,this.updateSkew()}}]),t}(p.default);t.default=c},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Math.sin,d=Math.cos;t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(4),u=r(27),p=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){a(this,t);var r=n(this,e.call(this));return r.position=new l.Point(0,0),r.scale=new l.Point(1,1),r.skew=new l.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new l.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return o(t,e),t.prototype.updateSkew=function(){this._cx=d(this._rotation+this.skew._y),this._sx=i(this._rotation+this.skew._y),this._cy=-i(this._rotation-this.skew._x),this._sy=d(this._rotation-this.skew._x)},t.prototype.updateLocalTransform=function(){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d)},t.prototype.updateTransform=function(e){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d);var r=e.worldTransform,a=this.worldTransform;a.a=t.a*r.a+t.b*r.c,a.b=t.a*r.b+t.b*r.d,a.c=t.c*r.a+t.d*r.c,a.d=t.c*r.b+t.d*r.d,a.tx=t.tx*r.a+t.ty*r.c+r.tx,a.ty=t.tx*r.b+t.ty*r.d+r.ty,this._worldID++},t.prototype.setFromMatrix=function(e){e.decompose(this)},s(t,[{key:'rotation',get:function(){return this._rotation},set:function(e){this._rotation=e,this.updateSkew()}}]),t}(p.default);t.default=c},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:window.location;if(0===e.indexOf('data:'))return'';t=t||window.location,o||(o=document.createElement('a')),o.href=e,e=n.default.parse(o.href);var r=!e.port&&''===t.port||e.port===t.port;return e.hostname===t.hostname&&r&&e.protocol===t.protocol?'':'anonymous'};var a=r(51),n=function(e){return e&&e.__esModule?e:{default:e}}(a),o=void 0},function(e,t,r){'use strict';function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function n(e,t,r){if(e&&d.isObject(e)&&e instanceof a)return e;var n=new a;return n.parse(e,t,r),n}var o=r(111),d=r(113);t.parse=n,t.resolve=function(e,t){return n(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?n(e,!1,!0).resolveObject(t):t},t.format=function(e){return d.isString(e)&&(e=n(e)),e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var u=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=['{','}','|','\\','^','`'].concat(['<','>','"','`',' ','\r','\n','\t']),p=['\''].concat(l),c=['%','/','?',';','#'].concat(p),h=['/','?','#'],f=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=r(114);a.prototype.parse=function(e,t,r){if(!d.isString(e))throw new TypeError('Parameter \'url\' must be a string, not '+typeof e);var a=e.indexOf('?'),n=-1!==a&&a<e.indexOf('#')?'?':'#',b=e.split(n),T=/\\/g;b[0]=b[0].replace(T,'/'),e=b.join(n);var v=e;if(v=v.trim(),!r&&1===e.split('#').length){var E=s.exec(v);if(E)return this.path=v,this.href=v,this.pathname=E[1],E[2]?(this.search=E[2],this.query=t?x.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search='',this.query={}),this}var S=u.exec(v);if(S){S=S[0];var C=S.toLowerCase();this.protocol=C,v=v.substr(S.length)}if(r||S||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var I='//'===v.substr(0,2);I&&!(S&&y[S])&&(v=v.substr(2),this.slashes=!0)}if(!y[S]&&(I||S&&!m[S])){for(var P=-1,R=0,i;R<h.length;R++)i=v.indexOf(h[R]),-1!==i&&(-1==P||i<P)&&(P=i);var M,B;B=-1===P?v.lastIndexOf('@'):v.lastIndexOf('@',P),-1!==B&&(M=v.slice(0,B),v=v.slice(B+1),this.auth=decodeURIComponent(M)),P=-1;for(var R=0,i;R<c.length;R++)i=v.indexOf(c[R]),-1!==i&&(-1===P||i<P)&&(P=i);-1===P&&(P=v.length),this.host=v.slice(0,P),v=v.slice(P),this.parseHost(),this.hostname=this.hostname||'';var D='['===this.hostname[0]&&']'===this.hostname[this.hostname.length-1];if(!D)for(var F=this.hostname.split(/\./),R=0,O=F.length,l;R<O;R++)if(l=F[R],l&&!l.match(f)){for(var L='',w=0,A=l.length;w<A;w++)L+=127<l.charCodeAt(w)?'x':l[w];if(!L.match(f)){var U=F.slice(0,R),k=F.slice(R+1),N=l.match(g);N&&(U.push(N[1]),k.unshift(N[2])),k.length&&(v='/'+k.join('.')+v),this.hostname=U.join('.');break}}this.hostname=this.hostname.length>255?'':this.hostname.toLowerCase(),D||(this.hostname=o.toASCII(this.hostname));var Q=this.port?':'+this.port:'',X=this.hostname||'';this.host=X+Q,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),'/'!==v[0]&&(v='/'+v))}if(!_[C])for(var R=0,O=p.length,H;R<O;R++)if(H=p[R],-1!==v.indexOf(H)){var G=encodeURIComponent(H);G===H&&(G=escape(H)),v=v.split(H).join(G)}var V=v.indexOf('#');-1!==V&&(this.hash=v.substr(V),v=v.slice(0,V));var W=v.indexOf('?');if(-1===W?t&&(this.search='',this.query={}):(this.search=v.substr(W),this.query=v.substr(W+1),t&&(this.query=x.parse(this.query)),v=v.slice(0,W)),v&&(this.pathname=v),m[C]&&this.hostname&&!this.pathname&&(this.pathname='/'),this.pathname||this.search){var Q=this.pathname||'',Y=this.search||'';this.path=Q+Y}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||'';e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,':'),e+='@');var t=this.protocol||'',r=this.pathname||'',a=this.hash||'',n=!1,o='';this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(':')?this.hostname:'['+this.hostname+']'),this.port&&(n+=':'+this.port)),this.query&&d.isObject(this.query)&&Object.keys(this.query).length&&(o=x.stringify(this.query));var i=this.search||o&&'?'+o||'';return t&&':'!==t.substr(-1)&&(t+=':'),this.slashes||(!t||m[t])&&!1!==n?(n='//'+(n||''),r&&'/'!==r.charAt(0)&&(r='/'+r)):!n&&(n=''),a&&'#'!==a.charAt(0)&&(a='#'+a),i&&'?'!==i.charAt(0)&&(i='?'+i),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace('#','%23'),t+n+r+i+a},a.prototype.resolve=function(e){return this.resolveObject(n(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(d.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var r=new a,n=Object.keys(this),o=0,l;o<n.length;o++)l=n[o],r[l]=this[l];if(r.hash=e.hash,''===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0,h;c<u.length;c++)h=u[c],'protocol'!==h&&(r[h]=e[h]);return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname='/'),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var f=Object.keys(e),g=0,_;g<f.length;g++)_=f[g],r[_]=e[_];return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!y[e.protocol]){for(var x=(e.pathname||'').split('/');x.length&&!(e.host=x.shift()););e.host||(e.host=''),e.hostname||(e.hostname=''),''!==x[0]&&x.unshift(''),2>x.length&&x.unshift(''),r.pathname=x.join('/')}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||'',r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var b=r.pathname||'',p=r.search||'';r.path=b+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var s=r.pathname&&'/'===r.pathname.charAt(0),T=e.host||e.pathname&&'/'===e.pathname.charAt(0),v=T||s||r.host&&e.pathname,E=v,S=r.pathname&&r.pathname.split('/')||[],x=e.pathname&&e.pathname.split('/')||[],C=r.protocol&&!m[r.protocol];if(C&&(r.hostname='',r.port=null,r.host&&(''===S[0]?S[0]=r.host:S.unshift(r.host)),r.host='',e.protocol&&(e.hostname=null,e.port=null,e.host&&(''===x[0]?x[0]=e.host:x.unshift(e.host)),e.host=null),v=v&&(''===x[0]||''===S[0])),T)r.host=e.host||''===e.host?e.host:r.host,r.hostname=e.hostname||''===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=x;else if(x.length)S||(S=[]),S.pop(),S=S.concat(x),r.search=e.search,r.query=e.query;else if(!d.isNullOrUndefined(e.search)){if(C){r.hostname=r.host=S.shift();var I=r.host&&0<r.host.indexOf('@')&&r.host.split('@');I&&(r.auth=I.shift(),r.host=r.hostname=I.shift())}return r.search=e.search,r.query=e.query,d.isNull(r.pathname)&&d.isNull(r.search)||(r.path=(r.pathname?r.pathname:'')+(r.search?r.search:'')),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.path=r.search?'/'+r.search:null,r.href=r.format(),r;for(var P=S.slice(-1)[0],R=(r.host||e.host||1<S.length)&&('.'===P||'..'===P)||''===P,M=0,B=S.length;0<=B;B--)P=S[B],'.'===P?S.splice(B,1):'..'===P?(S.splice(B,1),M++):M&&(S.splice(B,1),M--);if(!v&&!E)for(;M--;M)S.unshift('..');v&&''!==S[0]&&(!S[0]||'/'!==S[0].charAt(0))&&S.unshift(''),R&&'/'!==S.join('/').substr(-1)&&S.push('');var i=''===S[0]||S[0]&&'/'===S[0].charAt(0);if(C){r.hostname=r.host=i?'':S.length?S.shift():'';var I=r.host&&0<r.host.indexOf('@')&&r.host.split('@');I&&(r.auth=I.shift(),r.host=r.hostname=I.shift())}return v=v||r.host&&S.length,v&&!i&&S.unshift(''),S.length?r.pathname=S.join('/'):(r.pathname=null,r.path=null),d.isNull(r.pathname)&&d.isNull(r.search)||(r.path=(r.pathname?r.pathname:'')+(r.search?r.search:'')),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var e=this.host,t=i.exec(e);t&&(t=t[0],':'!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e,t){t||(t='video/'+e.substr(e.lastIndexOf('.')+1));var r=document.createElement('source');return r.src=e,r.type=t,r}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(9),u=a(l),p=r(2),c=r(30),h=r(1),f=r(50),g=a(f),_=function(e){function t(r,a){if(n(this,t),!r)throw new Error('No video source element specified.');(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var i=o(this,e.call(this,r,a));return i.width=r.videoWidth,i.height=r.videoHeight,i._autoUpdate=!0,i._isAutoUpdating=!1,i.autoPlay=!0,i.update=i.update.bind(i),i._onCanPlay=i._onCanPlay.bind(i),r.addEventListener('play',i._onPlayStart.bind(i)),r.addEventListener('pause',i._onPlayStop.bind(i)),i.hasLoaded=!1,i.__loaded=!1,i._isSourceReady()?i._onCanPlay():(r.addEventListener('canplay',i._onCanPlay),r.addEventListener('canplaythrough',i._onCanPlay)),i}return i(t,e),t.prototype._isSourcePlaying=function(){var e=this.source;return 0<e.currentTime&&!1===e.paused&&!1===e.ended&&2<e.readyState},t.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},t.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(c.shared.add(this.update,this,h.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},t.prototype._onPlayStop=function(){this._isAutoUpdating&&(c.shared.remove(this.update,this),this._isAutoUpdating=!1)},t.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener('canplay',this._onCanPlay),this.source.removeEventListener('canplaythrough',this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,!this.__loaded&&(this.__loaded=!0,this.emit('loaded',this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},t.prototype.destroy=function(){this._isAutoUpdating&&c.shared.remove(this.update,this),this.source&&this.source._pixiId&&(u.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src='',this.source.load()),e.prototype.destroy.call(this)},t.fromVideo=function(e,r){e._pixiId||(e._pixiId='video_'+(0,p.uid)());var a=p.BaseTextureCache[e._pixiId];return a||(a=new t(e,r),u.default.addToCache(a,e._pixiId)),a},t.fromUrl=function(e,r,a){var n=document.createElement('video');n.setAttribute('webkit-playsinline',''),n.setAttribute('playsinline','');var o=Array.isArray(e)?e[0].src||e[0]:e.src||e;if(void 0===a&&0!==o.indexOf('data:')?n.crossOrigin=(0,g.default)(o):a&&(n.crossOrigin='string'==typeof a?a:'anonymous'),Array.isArray(e))for(var s=0;s<e.length;++s)n.appendChild(d(e[s].src||e[s],e[s].mime));else n.appendChild(d(o,e.mime));return n.load(),t.fromVideo(n,r)},s(t,[{key:'autoUpdate',get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isAutoUpdating?(c.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(c.shared.add(this.update,this,h.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),t}(u.default);t.default=_,_.fromUrls=_.fromUrl},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(37),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i=function(){function e(){a(this,e),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return e.prototype.set=function(e,t,r){var a=t.width,n=t.height;if(r){var i=e.width/2/a,d=e.height/2/n,s=e.x/a+i,l=e.y/n+d;r=o.default.add(r,o.default.NW),this.x0=s+i*o.default.uX(r),this.y0=l+d*o.default.uY(r),r=o.default.add(r,2),this.x1=s+i*o.default.uX(r),this.y1=l+d*o.default.uY(r),r=o.default.add(r,2),this.x2=s+i*o.default.uX(r),this.y2=l+d*o.default.uY(r),r=o.default.add(r,2),this.x3=s+i*o.default.uX(r),this.y3=l+d*o.default.uY(r)}else this.x0=e.x/a,this.y0=e.y/n,this.x1=(e.x+e.width)/a,this.y1=e.y/n,this.x2=(e.x+e.width)/a,this.y2=(e.y+e.height)/n,this.x3=e.x/a,this.y3=(e.y+e.height)/n;this.uvsUint32[0]=(65535&65535*this.y0)<<16|65535&65535*this.x0,this.uvsUint32[1]=(65535&65535*this.y1)<<16|65535&65535*this.x1,this.uvsUint32[2]=(65535&65535*this.y2)<<16|65535&65535*this.x2,this.uvsUint32[3]=(65535&65535*this.y3)<<16|65535&65535*this.x3},e}();t.default=i},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(2),l=r(4),u=r(1),p=r(3),c=a(p),h=r(10),f=a(h),g=r(31),_=a(g),y=r(8),m=a(y),x=new l.Matrix,b=function(e){function t(r,a,i,d){n(this,t);var p=o(this,e.call(this));return(0,s.sayHello)(r),'number'==typeof a&&(a=Object.assign({width:a,height:i||c.default.RENDER_OPTIONS.height},d)),a=Object.assign({},c.default.RENDER_OPTIONS,a),p.options=a,p.type=u.RENDERER_TYPE.UNKNOWN,p.screen=new l.Rectangle(0,0,a.width,a.height),p.view=a.view||document.createElement('canvas'),p.resolution=a.resolution||c.default.RESOLUTION,p.transparent=a.transparent,p.autoResize=a.autoResize||!1,p.blendModes=null,p.preserveDrawingBuffer=a.preserveDrawingBuffer,p.clearBeforeRender=a.clearBeforeRender,p.roundPixels=a.roundPixels,p._backgroundColor=0,p._backgroundColorRgba=[0,0,0,0],p._backgroundColorString='#000000',p.backgroundColor=a.backgroundColor||p._backgroundColor,p._tempDisplayObjectParent=new f.default,p._lastObjectRendered=p._tempDisplayObjectParent,p}return i(t,e),t.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoResize&&(this.view.style.width=e+'px',this.view.style.height=t+'px')},t.prototype.generateTexture=function(e,t,r,a){a=a||e.getLocalBounds();var n=_.default.create(0|a.width,0|a.height,t,r);return x.tx=-a.x,x.ty=-a.y,this.render(e,n,!1,x,!0),n},t.prototype.destroy=function(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=u.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},d(t,[{key:'width',get:function(){return this.view.width}},{key:'height',get:function(){return this.view.height}},{key:'backgroundColor',get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=(0,s.hex2string)(e),(0,s.hex2rgb)(e,this._backgroundColorRgba)}}]),t}(m.default);t.default=b},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=Math.ceil;t.__esModule=!0;var s=r(9),l=a(s),u=r(3),p=a(u),c=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,i=arguments[2],s=arguments[3];n(this,t);var l=o(this,e.call(this,null,i));return l.resolution=s||p.default.RESOLUTION,l.width=d(r),l.height=d(a),l.realWidth=l.width*l.resolution,l.realHeight=l.height*l.resolution,l.scaleMode=void 0===i?p.default.SCALE_MODE:i,l.hasLoaded=!0,l._glRenderTargets={},l._canvasRenderTarget=null,l.valid=!1,l}return i(t,e),t.prototype.resize=function(e,t){(e=d(e),t=d(t),e!==this.width||t!==this.height)&&(this.valid=0<e&&0<t,this.width=e,this.height=t,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit('update',this))},t.prototype.destroy=function(){e.prototype.destroy.call(this,!0),this.renderer=null},t}(l.default);t.default=c},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(o),d=function(){function e(t,r,n){a(this,e),this.canvas=document.createElement('canvas'),this.context=this.canvas.getContext('2d'),this.resolution=n||i.default.RESOLUTION,this.resize(t,r)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},n(e,[{key:'width',get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:'height',get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}]),e}();t.default=d},function(e,t){'use strict';function r(e){var t=document.createElement('canvas');t.width=6,t.height=1;var r=t.getContext('2d');return r.fillStyle=e,r.fillRect(0,0,6,1),t}t.__esModule=!0,t.default=function(){if('undefined'==typeof document)return!1;var e=r('#ff00ff'),t=r('#ffff00'),a=document.createElement('canvas');a.width=6,a.height=1;var n=a.getContext('2d');n.globalCompositeOperation='multiply',n.drawImage(e,0,0),n.drawImage(t,2,0);var o=n.getImageData(2,0,1,1);if(!o)return!1;var i=o.data;return 255===i[0]&&0===i[1]&&0===i[2]}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=r(59),s=a(d),l=r(4),u=r(6),p=r(60),c=a(p),h=function(e){function t(r){n(this,t);var a=new l.Matrix,i=o(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n','varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n'));return r.renderable=!1,i.maskSprite=r,i.maskMatrix=a,i}return i(t,e),t.prototype.apply=function(e,t,r){var a=this.maskSprite,n=this.maskSprite.texture;n.valid&&(!n.transform&&(n.transform=new c.default(n,0)),n.transform.update(),this.uniforms.mask=n,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,a).prepend(n.transform.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=n.transform.uClampFrame,e.applyFilter(this,t,r))},t}(s.default);t.default=h},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=r(124),d=a(i),s=r(2),l=r(1),u=r(3),p=a(u),c={},h=function(){function e(t,r,a){for(var o in n(this,e),this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this._blendMode=l.BLEND_MODES.NORMAL,this.uniformData=a||(0,d.default)(this.vertexSrc,this.fragmentSrc,'projectionMatrix|uSampler'),this.uniforms={},this.uniformData)this.uniforms[o]=this.uniformData[o].value,this.uniformData[o].type&&(this.uniformData[o].type=this.uniformData[o].type.toLowerCase());this.glShaders={},c[this.vertexSrc+this.fragmentSrc]||(c[this.vertexSrc+this.fragmentSrc]=(0,s.uid)()),this.glShaderKey=c[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=p.default.RESOLUTION,this.enabled=!0,this.autoFit=!0}return e.prototype.apply=function(e,t,r,a){e.applyFilter(this,t,r,a)},o(e,[{key:'blendMode',get:function(){return this._blendMode},set:function(e){this._blendMode=e}}],[{key:'defaultVertexSrc',get:function(){return'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}'}},{key:'defaultFragmentSrc',get:function(){return'varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}'}}]),e}();t.default=h},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=r(22),i=function(e){return e&&e.__esModule?e:{default:e}}(o),d=new i.default,s=function(){function e(t,r){a(this,e),this._texture=t,this.mapCoord=new i.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin='undefined'==typeof r?0.5:r}return e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var r=this.mapCoord,a=0;a<e.length;a+=2){var n=e[a],o=e[a+1];t[a]=n*r.a+o*r.c+r.tx,t[a+1]=n*r.b+o*r.d+r.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._lastTextureID===t._updateID)return!1;this._lastTextureID=t._updateID;var r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var a=t.orig,n=t.trim;n&&(d.set(a.width/n.width,0,0,a.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(d));var o=t.baseTexture,i=this.uClampFrame,s=this.clampMargin/o.resolution,l=this.clampOffset;return i[0]=(t._frame.x+s+l)/o.width,i[1]=(t._frame.y+s+l)/o.height,i[2]=(t._frame.x+t._frame.width-s+l)/o.width,i[3]=(t._frame.y+t._frame.height-s+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,!0},n(e,[{key:'texture',get:function(){return this._texture},set:function(e){this._texture=e,this._lastTextureID=-1}}]),e}();t.default=s},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=r(5),d=a(o),i=r(33),s=a(i),l=function(){function e(t,r){n(this,e),this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var a=0;4>a;a++)this.interleaved[4*a]=this.vertices[2*a],this.interleaved[4*a+1]=this.vertices[2*a+1],this.interleaved[4*a+2]=this.uvs[2*a],this.interleaved[4*a+3]=this.uvs[2*a+1];this.indices=(0,s.default)(1),this.vertexBuffer=d.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=d.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new d.default.VertexArrayObject(t,r)}return e.prototype.initVao=function(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,e.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},e.prototype.map=function(e,t){var r=0,a=0;return this.uvs[0]=r,this.uvs[1]=a,this.uvs[2]=r+t.width/e.width,this.uvs[3]=a,this.uvs[4]=r+t.width/e.width,this.uvs[5]=a+t.height/e.height,this.uvs[6]=r,this.uvs[7]=a+t.height/e.height,r=t.x,a=t.y,this.vertices[0]=r,this.vertices[1]=a,this.vertices[2]=r+t.width,this.vertices[3]=a,this.vertices[4]=r+t.width,this.vertices[5]=a+t.height,this.vertices[6]=r,this.vertices[7]=a+t.height,this},e.prototype.upload=function(){for(var e=0;4>e;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];return this.vertexBuffer.upload(this.interleaved),this},e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)},e}();t.default=l},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e){return'number'==typeof e?(0,u.hex2string)(e):('string'==typeof e&&0===e.indexOf('0x')&&(e=e.replace('0x','#')),e)}function o(e){if(!Array.isArray(e))return n(e);for(var t=0;t<e.length;++t)e[t]=n(e[t]);return e}function i(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function d(e,t,r){for(var a in r)e[a]=Array.isArray(t[a])?t[a].slice():t[a]}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(1),u=r(2),p={align:'left',breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:'black',dropShadowDistance:5,fill:'black',fillGradientType:l.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:'Arial',fontSize:26,fontStyle:'normal',fontVariant:'normal',fontWeight:'normal',letterSpacing:0,lineHeight:0,lineJoin:'miter',miterLimit:10,padding:0,stroke:'black',strokeThickness:0,textBaseline:'alphabetic',trim:!1,wordWrap:!1,wordWrapWidth:100,leading:0},c=function(){function e(t){a(this,e),this.styleID=0,this.reset(),d(this,t,t)}return e.prototype.clone=function(){var t={};return d(t,this,p),new e(t)},e.prototype.reset=function(){d(this,p,p)},e.prototype.toFontString=function(){var e='number'==typeof this.fontSize?this.fontSize+'px':this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(','));for(var r=t.length-1,a;0<=r;r--)a=t[r].trim(),/([\"\'])[^\'\"]+\1/.test(a)||(a='"'+a+'"'),t[r]=a;return this.fontStyle+' '+this.fontVariant+' '+this.fontWeight+' '+e+' '+t.join(',')},s(e,[{key:'align',get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:'breakWords',get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:'dropShadow',get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:'dropShadowAlpha',get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:'dropShadowAngle',get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:'dropShadowBlur',get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:'dropShadowColor',get:function(){return this._dropShadowColor},set:function(e){var t=o(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}},{key:'dropShadowDistance',get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:'fill',get:function(){return this._fill},set:function(e){var t=o(e);this._fill!==t&&(this._fill=t,this.styleID++)}},{key:'fillGradientType',get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:'fillGradientStops',get:function(){return this._fillGradientStops},set:function(e){i(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}},{key:'fontFamily',get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:'fontSize',get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:'fontStyle',get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:'fontVariant',get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:'fontWeight',get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:'letterSpacing',get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:'lineHeight',get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:'leading',get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:'lineJoin',get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:'miterLimit',get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:'padding',get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:'stroke',get:function(){return this._stroke},set:function(e){var t=o(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}},{key:'strokeThickness',get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:'textBaseline',get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:'trim',get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:'wordWrap',get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:'wordWrapWidth',get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}}]),e}();t.default=c},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=Math.ceil,n=Math.max;t.__esModule=!0;var o=function(){function e(t,a,n,o,i,d,s,l,u){r(this,e),this.text=t,this.style=a,this.width=n,this.height=o,this.lines=i,this.lineWidths=d,this.lineHeight=s,this.maxLineWidth=l,this.fontProperties=u}return e.measureText=function(t,r,a){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:e._canvas;a=a||r.wordWrap;var d=r.toFontString(),s=e.measureFont(d),l=o.getContext('2d');l.font=d;for(var u=a?e.wordWrap(t,r,o):t,p=u.split(/(?:\r\n|\r|\n)/),c=Array(p.length),h=0,f=0,i;f<p.length;f++)i=l.measureText(p[f]).width+(p[f].length-1)*r.letterSpacing,c[f]=i,h=n(h,i);var g=h+r.strokeThickness;r.dropShadow&&(g+=r.dropShadowDistance);var _=r.lineHeight||s.fontSize+r.strokeThickness,y=n(_,s.fontSize+r.strokeThickness)+(p.length-1)*(_+r.leading);return r.dropShadow&&(y+=r.dropShadowDistance),new e(t,r,g,y,p,c,_+r.leading,h,s)},e.wordWrap=function(t,r){for(var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e._canvas,n=a.getContext('2d'),o='',d=t.charAt(0),s=t.split('\n'),l=r.wordWrapWidth,u={},p=0;p<s.length;p++){for(var i=l,h=s[p].split(' '),f=0,g;f<h.length;f++)if(g=n.measureText(h[f]).width,r.breakWords&&g>l)for(var _=h[f].split(''),y=0;y<_.length;y++){var c=_[y],m=u[c];void 0===m&&(m=n.measureText(c).width,u[c]=m),m>i?(o+='\n'+c,i=l-m):(0===y&&(0<f||' '===d)&&(o+=' '),o+=c,i-=m)}else{var x=g+n.measureText(' ').width;0===f||x>i?(0<f&&(o+='\n'),o+=h[f],i=l-g):(i-=x,o+=' '+h[f])}p<s.length-1&&(o+='\n')}return o},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={},n=e._canvas,o=e._context;o.font=t;var d=a(o.measureText('|M\xC9q').width),s=a(o.measureText('M').width),l=2*s;s=0|1.4*s,n.width=d,n.height=l,o.fillStyle='#f00',o.fillRect(0,0,d,l),o.font=t,o.textBaseline='alphabetic',o.fillStyle='#000',o.fillText('|M\xC9q',0,s);var u=o.getImageData(0,0,d,l).data,p=u.length,c=4*d,h=0,i=0,f=!1;for(h=0;h<s;++h){for(var g=0;g<c;g+=4)if(255!==u[i+g]){f=!0;break}if(!f)i+=c;else break}for(r.ascent=s-h,i=p-c,f=!1,h=l;h>s;--h){for(var _=0;_<c;_+=4)if(255!==u[i+_]){f=!0;break}if(!f)i-=c;else break}return r.descent=h-s,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e}();t.default=o;var i=document.createElement('canvas');i.width=i.height=10,o._canvas=i,o._context=i.getContext('2d'),o._fonts={}},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(t,a,n,o,i,d,s,l){r(this,e),this.lineWidth=t,this.nativeLines=s,this.lineColor=a,this.lineAlpha=n,this._lineTint=a,this.fillColor=o,this.fillAlpha=i,this._fillTint=o,this.fill=d,this.holes=[],this.shape=l,this.type=l.type}return e.prototype.clone=function(){return new e(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},e.prototype.addHole=function(e){this.holes.push(e)},e.prototype.destroy=function(){this.shape=null,this.holes=null},e}();t.default=a},function(e){'use strict';function t(e,t,a){a=a||2;var n=t&&t.length,d=n?t[0]*a:e.length,s=r(e,0,d,a,!0),u=[];if(!s)return u;var p,c,h,f,g,_,y;if(n&&(s=l(e,t,s,a)),e.length>80*a){p=h=e[0],c=f=e[1];for(var m=a;m<d;m+=a)g=e[m],_=e[m+1],g<p&&(p=g),_<c&&(c=_),g>h&&(h=g),_>f&&(f=_);y=Math.max(h-p,f-c),y=0===y?0:1/y}return o(s,u,a,p,c,y),u}function r(e,t,r,a,n){var o,i;if(n===0<M(e,t,r,a))for(o=t;o<r;o+=a)i=b(o,e[o],e[o+1],i);else for(o=r-a;o>=t;o-=a)i=b(o,e[o],e[o+1],i);return i&&T(i,i.next)&&(P(i),i=i.next),i}function n(e,t){if(!e)return e;t||(t=e);var r=e,a;do if(a=!1,!r.steiner&&(T(r,r.next)||0===x(r.prev,r,r.next))){if(P(r),r=t=r.prev,r===r.next)break;a=!0}else r=r.next;while(a||r!==t);return t}function o(e,t,r,l,u,p,c){if(e){!c&&p&&h(e,l,u,p);for(var f=e,g,_;e.prev!==e.next;){if(g=e.prev,_=e.next,p?i(e,l,u,p):a(e)){t.push(g.i/r),t.push(e.i/r),t.push(_.i/r),P(e),e=_.next,f=_.next;continue}if(e=_,e===f){c?1===c?(e=d(e,t,r),o(e,t,r,l,u,p,2)):2===c&&s(e,t,r,l,u,p):o(n(e),t,r,l,u,p,1);break}}}}function a(e){var t=e.prev,r=e,a=e.next;if(0<=x(t,r,a))return!1;for(var n=e.next.next;n!==e.prev;){if(y(t.x,t.y,r.x,r.y,a.x,a.y,n.x,n.y)&&0<=x(n.prev,n,n.next))return!1;n=n.next}return!0}function i(e,t,r,n){var o=e.prev,a=e,i=e.next;if(0<=x(o,a,i))return!1;for(var d=o.x<a.x?o.x<i.x?o.x:i.x:a.x<i.x?a.x:i.x,s=o.y<a.y?o.y<i.y?o.y:i.y:a.y<i.y?a.y:i.y,l=o.x>a.x?o.x>i.x?o.x:i.x:a.x>i.x?a.x:i.x,u=o.y>a.y?o.y>i.y?o.y:i.y:a.y>i.y?a.y:i.y,c=g(d,s,t,r,n),h=g(l,u,t,r,n),f=e.nextZ;f&&f.z<=h;){if(f!==e.prev&&f!==e.next&&y(o.x,o.y,a.x,a.y,i.x,i.y,f.x,f.y)&&0<=x(f.prev,f,f.next))return!1;f=f.nextZ}for(f=e.prevZ;f&&f.z>=c;){if(f!==e.prev&&f!==e.next&&y(o.x,o.y,a.x,a.y,i.x,i.y,f.x,f.y)&&0<=x(f.prev,f,f.next))return!1;f=f.prevZ}return!0}function d(e,t,r){var n=e;do{var o=n.prev,a=n.next.next;!T(o,a)&&v(o,n,n.next,a)&&S(o,a)&&S(a,o)&&(t.push(o.i/r),t.push(n.i/r),t.push(a.i/r),P(n),P(n.next),n=e=a),n=n.next}while(n!==e);return n}function s(e,t,r,i,d,s){var l=e;do{for(var a=l.next.next;a!==l.prev;){if(l.i!==a.i&&m(l,a)){var u=I(l,a);return l=n(l,l.next),u=n(u,u.next),o(l,t,r,i,d,s),void o(u,t,r,i,d,s)}a=a.next}l=l.next}while(l!==e)}function l(e,t,a,o){var d=[],s,i,l,c,h;for(s=0,i=t.length;s<i;s++)l=t[s]*o,c=s<i-1?t[s+1]*o:e.length,h=r(e,l,c,o,!1),h===h.next&&(h.steiner=!0),d.push(_(h));for(d.sort(u),s=0;s<d.length;s++)p(d[s],a),a=n(a,a.next);return a}function u(e,t){return e.x-t.x}function p(e,t){if(t=c(e,t),t){var r=I(t,e);n(r,r.next)}}function c(e,t){var r=t,a=e.x,n=e.y,o=-Infinity,i;do{if(n<=r.y&&n>=r.next.y&&r.next.y!==r.y){var d=r.x+(n-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(d<=a&&d>o){if(o=d,d===a){if(n===r.y)return r;if(n===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!i)return null;if(a===o)return i.prev;var s=i,l=i.x,u=i.y,p=Infinity,c;for(r=i.next;r!==s;)a>=r.x&&r.x>=l&&a!==r.x&&y(n<u?a:o,n,l,u,n<u?o:a,n,r.x,r.y)&&(c=B(n-r.y)/(a-r.x),(c<p||c===p&&r.x>i.x)&&S(r,e)&&(i=r,p=c)),r=r.next;return i}function h(e,t,r,a){var n=e;do null===n.z&&(n.z=g(n.x,n.y,t,r,a)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,f(n)}function f(t){var r=1,a,n,o,i,e,d,s,l;do{for(n=t,t=null,e=null,d=0;n;){for(d++,o=n,s=0,a=0;a<r&&(s++,o=o.nextZ,!!o);a++);for(l=r;0<s||0<l&&o;)0!==s&&(0===l||!o||n.z<=o.z)?(i=n,n=n.nextZ,s--):(i=o,o=o.nextZ,l--),e?e.nextZ=i:t=i,i.prevZ=e,e=i;n=o}e.nextZ=null,r*=2}while(1<d);return t}function g(e,t,r,a,n){return e=32767*(e-r)*n,t=32767*(t-a)*n,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function _(e){var t=e,r=e;do t.x<r.x&&(r=t),t=t.next;while(t!==e);return r}function y(e,t,r,a,n,o,i,d){return 0<=(n-i)*(t-d)-(e-i)*(o-d)&&0<=(e-i)*(a-d)-(r-i)*(t-d)&&0<=(r-i)*(o-d)-(n-i)*(a-d)}function m(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!E(e,t)&&S(e,t)&&S(t,e)&&C(e,t)}function x(e,t,a){return(t.y-e.y)*(a.x-t.x)-(t.x-e.x)*(a.y-t.y)}function T(e,t){return e.x===t.x&&e.y===t.y}function v(e,t,r,a){return T(e,t)&&T(r,a)||T(e,a)&&T(r,t)||0<x(e,t,r)!=0<x(e,t,a)&&0<x(r,a,e)!=0<x(r,a,t)}function E(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&v(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function S(e,t){return 0>x(e.prev,e,e.next)?0<=x(e,t,e.next)&&0<=x(e,e.prev,t):0>x(e,t,e.prev)||0>x(e,e.next,t)}function C(e,t){var r=e,a=!1,n=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(a=!a),r=r.next;while(r!==e);return a}function I(e,t){var r=new R(e.i,e.x,e.y),a=new R(t.i,t.x,t.y),n=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=n,n.prev=r,a.next=r,r.prev=a,o.next=a,a.prev=o,a}function b(e,t,r,a){var n=new R(e,t,r);return a?(n.next=a.next,n.prev=a,a.next.prev=n,a.next=n):(n.prev=n,n.next=n),n}function P(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function R(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function M(e,t,r,a){for(var n=0,o=t,i=r-a;o<r;o+=a)n+=(e[i]-e[o])*(e[o+1]+e[i+1]),i=o;return n}var B=Math.abs;e.exports=t,e.exports.default=t,t.deviation=function(e,t,r,n){var o=t&&t.length,d=o?t[0]*r:e.length,s=B(M(e,0,d,r));if(o)for(var l=0,i=t.length;l<i;l++){var u=t[l]*r,p=l<i-1?t[l+1]*r:e.length;s-=B(M(e,u,p,r))}var h=0;for(l=0;l<n.length;l+=3){var f=n[l]*r,a=n[l+1]*r,g=n[l+2]*r;h+=B((e[f]-e[g])*(e[a+1]-e[f+1])-(e[f]-e[a])*(e[g+1]-e[f+1]))}return 0===s&&0===h?0:B((h-s)/s)},t.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},a=0,n=0;n<e.length;n++){for(var o=0;o<e[n].length;o++)for(var i=0;i<t;i++)r.vertices.push(e[n][o][i]);0<n&&(a+=e[n-1].length,r.holes.push(a))}return r}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=r(67),d=r(10),s=a(d),l=r(30),u=r(3),p=a(u),c=r(1),h=function(){function e(t,r,a,o,d){n(this,e),'number'==typeof t&&(t=Object.assign({width:t,height:r||p.default.RENDER_OPTIONS.height,forceCanvas:!!o,sharedTicker:!!d},a)),this._options=t=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},t),this.renderer=(0,i.autoDetectRenderer)(t),this.stage=new s.default,this._ticker=null,this.ticker=t.sharedTicker?l.shared:new l.Ticker,t.autoStart&&this.start()}return e.prototype.render=function(){this.renderer.render(this.stage)},e.prototype.stop=function(){this._ticker.stop()},e.prototype.start=function(){this._ticker.start()},e.prototype.destroy=function(e){var t=this._ticker;this.ticker=null,t.destroy(),this.stage.destroy(),this.stage=null,this.renderer.destroy(e),this.renderer=null,this._options=null},o(e,[{key:'ticker',set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,c.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:'view',get:function(){return this.renderer.view}},{key:'screen',get:function(){return this.renderer.screen}}]),e}();t.default=h},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.autoDetectRenderer=function(e,t,r,a){var n=e&&e.forceCanvas;return void 0!==a&&(n=a),!n&&o.isWebGLSupported()?new l.default(e,t,r):new d.default(e,t,r)};var n=r(2),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n),i=r(11),d=a(i),s=r(17),l=a(s)},function(e,t){'use strict';t.__esModule=!0,t.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.BitmapText=t.TilingSpriteRenderer=t.TilingSprite=t.AnimatedSprite=void 0;var n=r(157);Object.defineProperty(t,'AnimatedSprite',{enumerable:!0,get:function(){return a(n).default}});var o=r(158);Object.defineProperty(t,'TilingSprite',{enumerable:!0,get:function(){return a(o).default}});var i=r(159);Object.defineProperty(t,'TilingSpriteRenderer',{enumerable:!0,get:function(){return a(i).default}});var d=r(160);Object.defineProperty(t,'BitmapText',{enumerable:!0,get:function(){return a(d).default}}),r(161),r(162),r(163)},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),u=r(71),p=a(u),c=r(72),h=a(c),f=r(73),g=a(f),_=function(e){function t(r,a,i,d){n(this,t),d=d||5;var s=(0,p.default)(d,!0),u=(0,h.default)(d),c=o(this,e.call(this,s,u));return c.resolution=i||l.settings.RESOLUTION,c._quality=0,c.quality=a||4,c.strength=r||8,c.firstRun=!0,c}return i(t,e),t.prototype.apply=function(e,t,r,a){if(this.firstRun){var n=e.renderer.gl,o=(0,g.default)(n);this.vertexSrc=(0,p.default)(o,!0),this.fragmentSrc=(0,h.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/t.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,a);else{for(var d=e.getRenderTarget(!0),s=t,l=d,u=0;u<this.passes-1;u++){e.applyFilter(this,s,l,!0);var i=l;l=s,s=i}e.applyFilter(this,s,r,a),e.returnRenderTarget(d)}},d(t,[{key:'blur',get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:'quality',get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),t}(l.Filter);t.default=_},function(e,t){'use strict';t.__esModule=!0,t.default=function(e,t){var a=Math.ceil(e/2),n=r,o='',d;d=t?'vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);':'vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);';for(var s=0,i;s<e;s++)i=d.replace('%index%',s),i=i.replace('%sampleIndex%',s-(a-1)+'.0'),o+=i,o+='\n';return n=n.replace('%blur%',o),n=n.replace('%size%',e),n};var r='attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform float strength;\nuniform mat3 projectionMatrix;\nvarying vec2 vBlurTexCoords[%size%];\nvoid main(void)\n{\ngl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n%blur%\n}'},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){for(var t=r[e],n=t.length,o=a,d='',s=void 0,l=0,i;l<e;l++)i='gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;'.replace('%index%',l),s=l,l>=n&&(s=e-l-1),i=i.replace('%value%',t[s]),d+=i,d+='\n';return o=o.replace('%blur%',d),o=o.replace('%size%',e),o};var r={5:[0.153388,0.221461,0.250301],7:[0.071303,0.131514,0.189879,0.214607],9:[0.028532,0.067234,0.124009,0.179044,0.20236],11:[0.0093,0.028002,0.065984,0.121703,0.175713,0.198596],13:[0.002406,0.009255,0.027867,0.065666,0.121117,0.174868,0.197641],15:[0.000489,0.002403,0.009246,0.02784,0.065602,0.120999,0.174697,0.197448]},a='varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}'},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){for(var t=e.getParameter(e.MAX_VARYING_VECTORS),r=15;r>t;)r-=2;return r}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),u=r(71),p=a(u),c=r(72),h=a(c),f=r(73),g=a(f),_=function(e){function t(r,a,i,d){n(this,t),d=d||5;var s=(0,p.default)(d,!1),u=(0,h.default)(d),c=o(this,e.call(this,s,u));return c.resolution=i||l.settings.RESOLUTION,c._quality=0,c.quality=a||4,c.strength=r||8,c.firstRun=!0,c}return i(t,e),t.prototype.apply=function(e,t,r,a){if(this.firstRun){var n=e.renderer.gl,o=(0,g.default)(n);this.vertexSrc=(0,p.default)(o,!1),this.fragmentSrc=(0,h.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/t.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,a);else{for(var d=e.getRenderTarget(!0),s=t,l=d,u=0;u<this.passes-1;u++){e.applyFilter(this,s,l,!0);var i=l;l=s,s=i}e.applyFilter(this,s,r,a),e.returnRenderTarget(d)}},d(t,[{key:'blur',get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:'quality',get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),t}(l.Filter);t.default=_},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=r(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),d=function(){function e(){a(this,e),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return e.prototype.getLocalPosition=function(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)},e.prototype._copyEvent=function(e){e.isPrimary&&(this.isPrimary=!0),this.button=e.button,this.buttons=e.buttons,this.width=e.width,this.height=e.height,this.tiltX=e.tiltX,this.tiltY=e.tiltY,this.pointerType=e.pointerType,this.pressure=e.pressure,this.rotationAngle=e.rotationAngle,this.twist=e.twist||0,this.tangentialPressure=e.tangentialPressure||0},e.prototype._reset=function(){this.isPrimary=!1},n(e,[{key:'pointerId',get:function(){return this.identifier}}]),e}();t.default=d},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(){r(this,e),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0},e.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},e}();t.default=a},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(){function e(t){r(this,e),this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){t?this._flags|=e:this._flags&=~e},a(e,[{key:'pointerId',get:function(){return this._pointerId}},{key:'flags',get:function(){return this._flags},set:function(e){this._flags=e}},{key:'none',get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:'over',get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(e){this._doSet(this.constructor.FLAGS.OVER,e)}},{key:'rightDown',get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)}},{key:'leftDown',get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)}}]),e}();t.default=n,n.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(e,t){'use strict';t.__esModule=!0,t.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return'pointer'===this.cursor},set buttonMode(e){e?this.cursor='pointer':'pointer'===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(e,t,r){'use strict';function a(e,t){e.bitmapFont=s.BitmapText.registerFont(e.data,t)}t.__esModule=!0,t.parse=a,t.default=function(){return function(e,t){if(!e.data||e.type!==d.Resource.TYPE.XML)return void t();if(0===e.data.getElementsByTagName('page').length||0===e.data.getElementsByTagName('info').length||null===e.data.getElementsByTagName('info')[0].getAttribute('face'))return void t();var r=e.isDataUrl?'':o.dirname(e.url);e.isDataUrl&&('.'===r&&(r=''),this.baseUrl&&r&&'/'===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+='/')),r=r.replace(this.baseUrl,''),r&&'/'!==r.charAt(r.length-1)&&(r+='/');var n=r+e.data.getElementsByTagName('page')[0].getAttribute('file');if(i.utils.TextureCache[n])a(e,i.utils.TextureCache[n]),t();else{var s={crossOrigin:e.crossOrigin,loadType:d.Resource.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata,parentResource:e};this.add(e.name+'_image',n,s,function(r){a(e,r.texture),t()})}}};var n=r(6),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n),i=r(0),d=r(14),s=r(69)},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}Object.defineProperty(t,'__esModule',{value:!0});var n=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=function(){function e(t,a,n){void 0===a&&(a=!1),r(this,e),this._fn=t,this._once=a,this._thisArg=n,this._next=this._prev=this._owner=null}return n(e,[{key:'detach',value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}(),i=function(){function e(){r(this,e),this._head=this._tail=void 0}return n(e,[{key:'handlers',value:function(){var e=0>=arguments.length||void 0===arguments[0]?!1:arguments[0],t=this._head;if(e)return!!t;for(var r=[];t;)r.push(t),t=t._next;return r}},{key:'has',value:function(e){if(!(e instanceof o))throw new Error('MiniSignal#has(): First arg must be a MiniSignalBinding object.');return e._owner===this}},{key:'dispatch',value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:'add',value:function(e){var t=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if('function'!=typeof e)throw new Error('MiniSignal#add(): First arg must be a Function.');return a(this,new o(e,!1,t))}},{key:'once',value:function(e){var t=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if('function'!=typeof e)throw new Error('MiniSignal#once(): First arg must be a Function.');return a(this,new o(e,!0,t))}},{key:'detach',value:function(e){if(!(e instanceof o))throw new Error('MiniSignal#detach(): First arg must be a MiniSignalBinding object.');return e._owner===this?(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this):this}},{key:'detachAll',value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();i.MiniSignalBinding=o,t['default']=i,e.exports=t['default']},function(e){'use strict';e.exports=function(e,t){t=t||{};for(var r={key:['source','protocol','authority','userInfo','user','password','host','port','relative','path','directory','file','query','anchor'],q:{name:'queryKey',parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},a=r.parser[t.strictMode?'strict':'loose'].exec(e),n={},o=14;o--;)n[r.key[o]]=a[o]||'';return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(e,t,a){t&&(n[r.q.name][t]=a)}),n}},function(e,t){'use strict';function r(){}function a(e){return function(){if(null===e)throw new Error('Callback was already called.');var t=e;e=null,t.apply(this,arguments)}}t.__esModule=!0,t.eachSeries=function(e,t,r,a){var n=0,o=e.length;(function i(d){return d||n===o?void(r&&r(d)):void(a?setTimeout(function(){t(e[n++],i)},1):t(e[n++],i))})()},t.queue=function(e,t){function n(e,t,a){if(null!=a&&'function'!=typeof a)throw new Error('task callback must be a function');if(d.started=!0,null==e&&d.idle())return void setTimeout(function(){return d.drain()},1);var n={data:e,callback:'function'==typeof a?a:r};t?d._tasks.unshift(n):d._tasks.push(n),setTimeout(function(){return d.process()},1)}function o(e){return function(){i-=1,e.callback.apply(e,arguments),null!=arguments[0]&&d.error(arguments[0],e.data),i<=d.concurrency-d.buffer&&d.unsaturated(),d.idle()&&d.drain(),d.process()}}if(null==t)t=1;else if(0===t)throw new Error('Concurrency must not be zero');var i=0,d={_tasks:[],concurrency:t,saturated:r,unsaturated:r,buffer:t/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(e,t){n(e,!1,t)},kill:function(){i=0,d.drain=r,d.started=!1,d._tasks=[]},unshift:function(e,t){n(e,!0,t)},process:function(){for(;!d.paused&&i<d.concurrency&&d._tasks.length;){var t=d._tasks.shift();0===d._tasks.length&&d.empty(),i+=1,i===d.concurrency&&d.saturated(),e(t.data,a(o(t)))}},length:function(){return d._tasks.length},running:function(){return i},idle:function(){return 0===d._tasks.length+i},pause:function(){!0===d.paused||(d.paused=!0)},resume:function(){if(!1!==d.paused){d.paused=!1;for(var e=1;e<=d.concurrency;e++)d.process()}}};return d}},function(e,t){'use strict';t.__esModule=!0,t.encodeBinary=function(e){for(var t='',a=0;a<e.length;){for(var n=[0,0,0],o=[0,0,0,0],i=0;i<n.length;++i)n[i]=a<e.length?255&e.charCodeAt(a++):0;o[0]=n[0]>>2,o[1]=(3&n[0])<<4|n[1]>>4,o[2]=(15&n[1])<<2|n[2]>>6,o[3]=63&n[2];var d=a-(e.length-1);switch(d){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64;break;default:}for(var s=0;s<o.length;++s)t+=r.charAt(o[s])}return t};var r='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='},function(e,t,r){'use strict';function a(e,t){return e.isDataUrl?e.data.meta.image:i.default.resolve(e.url.replace(t,''),e.data.meta.image)}t.__esModule=!0,t.default=function(){return function(e,t){var r=e.name+'_image';if(!e.data||e.type!==n.Resource.TYPE.JSON||!e.data.frames||this.resources[r])return void t();var o={crossOrigin:e.crossOrigin,loadType:n.Resource.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata,parentResource:e},i=a(e,this.baseUrl);this.add(r,i,o,function(r){var a=new d.Spritesheet(r.texture.baseTexture,e.data,e.url);a.parse(function(){e.spritesheet=a,e.textures=a.textures,t()})})}},t.getResourcePath=a;var n=r(14),o=r(51),i=function(e){return e&&e.__esModule?e:{default:e}}(o),d=r(0)},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(){return function(e,t){e.data&&e.type===a.Resource.TYPE.IMAGE&&(e.texture=o.default.fromLoader(e.data,e.url,e.name)),t()}};var a=r(14),n=r(7),o=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(15),d=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(e){function t(r,o,i){a(this,t);var s=n(this,e.call(this,r));return s._ready=!0,s.verticesX=o||10,s.verticesY=i||10,s.drawMode=d.default.DRAW_MODES.TRIANGLES,s.refresh(),s}return o(t,e),t.prototype._refresh=function(){for(var e=this._texture,t=this.verticesX*this.verticesY,r=[],a=[],n=[],o=[],d=this.verticesX-1,s=this.verticesY-1,l=e.width/d,u=e.height/s,p=0;p<t;p++){var i=p%this.verticesX,c=0|p/this.verticesX;r.push(i*l,c*u),n.push(i/d,c/s)}for(var h=0;h<d*s;h++){var f=h%d,g=0|h/d,_=g*this.verticesX+f,y=g*this.verticesX+f+1,m=(g+1)*this.verticesX+f,x=(g+1)*this.verticesX+f+1;o.push(_,y,m),o.push(y,x,m)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(n),this.colors=new Float32Array(a),this.indices=new Uint16Array(o),this.dirty++,this.indexDirty++,this.multiplyUvs()},t.prototype._onTextureUpdate=function(){d.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},t}(d.default);t.default=s},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(t){r(this,e),this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},e}();t.default=a},function(t,r,a){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function s(){var e=new Uint32Array(1);e[0]=1;var t=new Uint8Array(e.buffer);return 1==t[0]}function d(){var e='';return e+='fn='+P,e+='&wnd='+V.f_dim.x+','+V.f_dim.y+','+V.f_dim.width+','+V.f_dim.height,e+='&dk='+(Math.log(V._darkness)/0.6931471805599453).toFixed(4),e+='&sk='+V.skip_iters,e+='&it='+V.iters,e}function l(e,t){var r=S.functions[e];P=e,V.fn=r.fn,X=r.bounds,p(t||X.clone())}function u(){O.value=V.f_dim.x,L.value=V.f_dim.y,w.value=V.f_dim.width+V.f_dim.x,A.value=V.f_dim.height+V.f_dim.y}function p(e){V.f_dim=e,u(),W.f_min=e.x,W.f_max=e.x+e.width,W.redraw(),Y.f_min=e.y,Y.f_max=e.y+e.height,Y.redraw(),J.visible=!1,q.amount(0),q.grf.visible=!0,V.redraw(function(){q.amount(1),Q.ticker.addOnce(function(){J.visible=!0,q.grf.visible=!1})}),location.hash='#'+d()}function c(e,t,r){re.clear(),re.lineStyle(1,16711680),re.drawRect(e.x,e.y,t,r)}function h(){for(var e;e=ne.lastChild;)ne.removeChild(e);for(;e=ae.lastChild;)ae.removeChild(e)}function f(e,t){var r=null;e.addEventListener('focus',function(e){r=e.target.value}),e.addEventListener('blur',function(e){r==e.target.value||(r=null,t(parseFloat(e.target.value)))})}var g=Math.floor,_=Math.pow,y=Math.ceil,m=Math.max,x=Math.min,b=Math.round,T=Math.PI,E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}(a(89)),S=a(191),C=function(e){return e&&e.__esModule?e:{default:e}}(a(192)),I='Logistic',P=I,R=location.hash,M=s(),B=document.getElementById('chooser');for(var D in S.functions){var F=document.createElement('option'),e=S.functions[D];F.value=D,F.textContent=D+' ('+e.desc+')',B.appendChild(F)}B.value=I,B.addEventListener('change',function(e){l(e.target.value)});var v=function(e){return Math.log10(Math.abs(e))},O=document.getElementById('x0'),L=document.getElementById('y0'),w=document.getElementById('x1'),A=document.getElementById('y1'),U=function(){function e(t){var r=this,a=t.min_divs,o=t.max_divs,i=t.f_min,d=t.f_max,s=t.vert,l=t.size;n(this,e),this.min_divs=a,this.max_divs=o,this.vert=s,this.f_min=i,this.f_max=d,this.size=l,this.grf=new E.Graphics,this.cnt=new E.Container,this.drawRect=s?function(e,t,a,n){return r.grf.drawRect(t,e,n,a)}:function(e,t,a,n){return r.grf.drawRect(e,t,a,n)}}return i(e,[{key:'setPos',value:function(e,t,r){this.vert?(e.y=t,e.x=r):(e.x=t,e.y=r)}},{key:'redraw',value:function(){var e=this.grf,t=this.f_max,r=this.f_min,o=t-r;this.cnt.removeChildren(),this.cnt.addChild(e),e.clear(),e.beginFill(2105376,1);for(var d=[0.6989700043360189,0.3010299956639812,0],a=-v(o/10),s=g(a),l=s+d.find(function(e){return e<=a-s}),u=_(10,-l)*(0>o?-1:1),p=y(r/u)*u,c=g((t-p)/u)+1,n=m(0,y(l)),h=0,i=p,f;h<c;h++,i+=u){f=(i-r)*this.size/o,this.drawRect(f,0,2,10);var x=new E.Text(i.toFixed(n),{fontSize:18});x.rotation=T/8-this.vert*T/2,this.setPos(x.position,f,12),x.anchor.y=0.5,this.cnt.addChild(x)}this.drawRect(0,0,this.size,3),e.endFill()}}]),e}(),k=function(){function e(t){var r=t.r_dim,a=t.f_dim,o=t.fn,i=t.skip_iters,d=void 0===i?1e3:i,s=t.iters,l=void 0===s?3e3:s,u=t.darkness,p=void 0===u?32:u;n(this,e);var c=document.createElement('canvas');c.width=r.x,c.height=r.y,this.r=E.autoDetectRenderer({width:r.x,height:r.y,transparent:!0}),this.tex=E.Texture.fromCanvas(c),this.spr=new E.Sprite(this.tex),this.colorMatrix=new E.filters.ColorMatrixFilter,this.spr.filters=[this.colorMatrix],this.otex=E.Texture.fromCanvas(this.r.view),this.ospr=new E.Sprite(this.otex),this.rc=c,this.skip_iters=d,this.iters=l,this.fn=o,this.f_dim=a,this._darkness=p,this._sd(p),this.ctx=this.rc.getContext('2d')}return i(e,[{key:'_sd',value:function(e){var t=0>e;this.colorMatrix.matrix=s?[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,e,256*e,65536*e,0,t]:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,65536*e,256*e,e,0,t]}},{key:'set_darkness',value:function(e){this._darkness=e,this._sd(e),this.r.render(this.spr),this.otex.update()}},{key:'loc_to_fn',value:function(e){return new E.Point(e.x/this.rc.width*this.f_dim.width+this.f_dim.x,e.y/this.rc.height*this.f_dim.height+this.f_dim.y)}},{key:'redraw',value:function(e){var t=this,r=this.f_dim;this.ctx.clearRect(0,0,this.rc.width,this.rc.height);var a=navigator.hardwareConcurrency||4,n=this.rc.width,o=this.rc.height,d=0|n/a,s=r.width/a,l=new E.Point(d,o),u=0,p=0,c=function(r,o,i){var d=new C.default;d.addEventListener('message',function(r){return void 0===r.data.progress?void(t.ctx.putImageData(r.data.id,i,0),u++,u==a&&(t.tex.update(),t.r.render(t.spr),t.otex.update(),e&&e())):(p+=r.data.progress,void q.amount(p/n))}),d.postMessage({fdim:r,rdim:o,fn:P,skip_iters:t.skip_iters,iters:t.iters,is_le:M})};{var h,i,f;for(h=0,i=0,f=0;h<a-1;h++,i+=s,f+=d)c(new E.Rectangle(r.x+i,r.y,s,r.height),l,f);c(new E.Rectangle(r.x+i,r.y,r.width-i,r.height),new E.Point(n-f,o),f)}}}]),e}(),N=new E.Point(document.documentElement.clientWidth*window.devicePixelRatio,document.documentElement.clientHeight*window.devicePixelRatio),Q=new E.Application(N.x-180,N.y-50,{backgroundColor:16777215}),X;document.getElementById('cc').appendChild(Q.view),Q.view.style.width=Q.renderer.width/window.devicePixelRatio+'px';var H=Q.renderer.width-80,G=Q.renderer.height-80,V=new k({r_dim:new E.Point(2*H,2*G)}),W=new U({vert:!1,size:H});W.cnt.position.y=G,Q.stage.addChild(W.cnt),W.redraw();var Y=new U({vert:!0,size:G});Y.cnt.position.x=H,Q.stage.addChild(Y.cnt),Y.redraw();var j=function(){function e(t,r){n(this,e),this.grf=new E.Graphics,this.width=t,this.height=r,this.amount(0)}return i(e,[{key:'amount',value:function(e){this.grf.clear(),this.grf.beginFill(4210752,1),this.grf.drawRect(0,0,this.width*e,this.height),this.grf.endFill(),this.grf.lineStyle(1,2105376),this.grf.drawRect(0,0,this.width,this.height)}}]),e}(),z=V.rc.width,Z=V.rc.height,J=V.ospr,q=new j(100,12);q.grf.position.x=H/2-50,q.grf.position.y=G/2-6,q.grf.visible=!1,Q.stage.addChild(q.grf),1<R.length?(console.log(R),function(e){var t={},r=!0,a=!1,n;try{for(var o=e.split('&')[Symbol.iterator](),i;!(r=(i=o.next()).done);r=!0){var d=i.value,s=d.split('=');t[s[0]]=s[1]}}catch(e){a=!0,n=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw n}}console.log(t),V.set_darkness(_(2,parseFloat(t.dk))),V.skip_iters=parseInt(t.sk),V.iters=parseInt(t.it),document.getElementById('darkness').value=t.dk,document.getElementById('skip').value=t.sk,document.getElementById('iters').value=t.it,document.getElementById('chooser').value=t.fn;var u=t.wnd.split(',');l(t.fn,new E.Rectangle(parseFloat(u[0]),parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])))}(R.substr(1))):l(I),J.width=H,J.height=G,J.interactive=!0,Q.stage.addChild(J),Q.stage.interactive=!0;var K=new E.Text(null,{fontSize:20});K.position.x=10,K.position.y=10,Q.stage.addChild(K);var $=null,ee=null,te=null,re=new E.Graphics;Q.stage.addChild(re),u(),J.on('pointerdown',function(e){e.data.originalEvent.isPrimary&&null==$&&($=e.data.getLocalPosition(J),ee=e.data.global.clone(),te=$,c(ee,0,0))}),J.on('pointermove',function(e){if(null!=$){te=e.data.getLocalPosition(J);var t=e.data.global;c(ee,t.x-ee.x,t.y-ee.y)}}),J.on('pointermove',function(e){var t=V.loc_to_fn(e.data.getLocalPosition(J)),r=b(m(-v(V.f_dim.width)+3,0)),a=b(m(-v(V.f_dim.height)+3,0));K.text='('+t.x.toFixed(r)+', '+t.y.toFixed(a)+')'});var ae=document.getElementById('hh'),ne=document.getElementById('cis');J.on('rightclick',function(e){var t=V.loc_to_fn(e.data.getLocalPosition(J)),r=b(m(-v(V.f_dim.width)+5,0)),n=b(m(-v(V.f_dim.height)+5,0));h();var o=V.fn(t.x),d=document.createElement('div');d.textContent='Iteration at '+t.x.toFixed(r),ae.appendChild(d);var s=document.createElement('button');s.textContent='Clear',s.addEventListener('click',function(){h()}),ae.appendChild(s);for(var l=0;l<V.skip_iters;l++)o();var i=o(),u=function(e){var t=document.createElement('li');t.textContent=e.toFixed(n),ne.appendChild(t)};u(i);for(var p=-1,c=0,f;c<V.iters-1;c++)f=o(),-1==p&&f===i&&(p=c+1),u(f);var a=document.createElement('div');a.textContent=-1==p?'No cycle found':'Cycle length: '+p,ae.appendChild(a)}),Q.view.addEventListener('contextmenu',function(e){return e.preventDefault(),!1});var oe=[],ie=function(){if(null!=$){var e=te,t=x($.x,e.x)/z,r=m($.x,e.x)/z,a=x($.y,e.y)/Z,n=m($.y,e.y)/Z,o=new E.Rectangle(t*V.f_dim.width+V.f_dim.x,a*V.f_dim.height+V.f_dim.y,(r-t)*V.f_dim.width,(n-a)*V.f_dim.height);o.x+o.width/z!=o.x&&0!=o.height&&(oe.push(V.f_dim),p(o)),$=ee=te=null,re.clear()}};'undefined'==typeof document.body.onpointerdown?document.body.addEventListener('mouseup',ie):document.body.addEventListener('pointerup',ie),document.getElementById('reset').addEventListener('click',function(){oe=[],p(X.clone())}),document.getElementById('redraw').addEventListener('click',function(){p(V.f_dim)}),document.getElementById('revert').addEventListener('click',function(){var e=oe.pop();e!==void 0&&p(e)}),document.getElementById('skip').addEventListener('blur',function(e){V.skip_iters=parseInt(e.target.value)}),document.getElementById('darkness').addEventListener('input',function(e){V.set_darkness(_(2,parseFloat(e.target.value)))}),document.getElementById('darkness').addEventListener('change',function(){location.hash='#'+d()}),document.getElementById('iters').addEventListener('blur',function(e){V.iters=parseInt(e.target.value)}),f(O,function(e){V.f_dim.width-=e-V.f_dim.x,V.f_dim.x=e}),f(w,function(e){V.f_dim.width=e-V.f_dim.x}),f(L,function(e){V.f_dim.height-=e-V.f_dim.y,V.f_dim.y=e}),f(A,function(e){V.f_dim.height=e-V.f_dim.y})},function(e,t,r){'use strict';(function(e){function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}t.__esModule=!0,t.loader=t.prepare=t.particles=t.mesh=t.loaders=t.interaction=t.filters=t.extras=t.extract=t.accessibility=void 0;var n=r(90);Object.keys(n).forEach(function(e){'default'===e||'__esModule'===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var o=r(0);Object.keys(o).forEach(function(e){'default'===e||'__esModule'===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=r(151),d=function(e){return e&&e.__esModule?e:{default:e}}(i),s=r(152),l=a(s),u=r(154),p=a(u),c=r(69),h=a(c),f=r(164),g=a(f),_=r(171),y=a(_),m=r(173),x=a(m),b=r(177),T=a(b),v=r(182),E=a(v),S=r(187),C=a(S);o.utils.mixins.performMixins();var I=x.shared||null;t.accessibility=l,t.extract=p,t.extras=h,t.filters=g,t.interaction=y,t.loaders=x,t.mesh=T,t.particles=E,t.prepare=C,t.loader=I,'function'==typeof d.default&&(0,d.default)(t),e.PIXI=t}).call(t,r(20))},function(e,t,r){'use strict';r(91),r(93),r(94),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(e,t,r){'use strict';var a=r(92),n=function(e){return e&&e.__esModule?e:{default:e}}(a);Object.assign||(Object.assign=n.default)},function(e){'use strict';function t(e){if(null===e||e===void 0)throw new TypeError('Object.assign cannot be called with null or undefined');return Object(e)}var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String('abc');if(e[5]='de','5'===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;10>r;r++)t['_'+String.fromCharCode(r)]=r;var a=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if('0123456789'!==a.join(''))return!1;var n={};return['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t'].forEach(function(e){n[e]=e}),'abcdefghijklmnopqrst'===Object.keys(Object.assign({},n)).join('')}catch(e){return!1}}()?Object.assign:function(e){for(var o=t(e),d=1,s,l;d<arguments.length;d++){for(var u in s=Object(arguments[d]),s)a.call(s,u)&&(o[u]=s[u]);if(r){l=r(s);for(var p=0;p<l.length;p++)n.call(s,l[p])&&(o[l[p]]=s[l[p]])}}return o}},function(e,t,r){'use strict';(function(e){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!(e.performance&&e.performance.now)){var t=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-t}}for(var r=Date.now(),a=['ms','moz','webkit','o'],n=0,o;n<a.length&&!e.requestAnimationFrame;++n)o=a[n],e.requestAnimationFrame=e[o+'RequestAnimationFrame'],e.cancelAnimationFrame=e[o+'CancelAnimationFrame']||e[o+'CancelRequestAnimationFrame'];e.requestAnimationFrame||(e.requestAnimationFrame=function(e){if('function'!=typeof e)throw new TypeError(e+'is not a function');var t=Date.now(),a=16+r-t;return 0>a&&(a=0),r=t,setTimeout(function(){r=Date.now(),e(performance.now())},a)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){return clearTimeout(e)})}).call(t,r(20))},function(){'use strict';var e=Math.sign;e||(e=function(e){return e=+e,0===e||isNaN(e)?e:0<e?1:-1})},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(23),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r(1),d=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;a(this,e),this.x=t,this.y=r,this.radius=n,this.type=i.SHAPES.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(0>=this.radius)return!1;var r=this.radius*this.radius,a=this.x-e,n=this.y-t;return a*=a,n*=n,a+n<=r},e.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e}();t.default=d},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(23),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r(1),d=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;a(this,e),this.x=t,this.y=r,this.width=n,this.height=o,this.type=i.SHAPES.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(0>=this.width||0>=this.height)return!1;var r=(e-this.x)/this.width,a=(t-this.y)/this.height;return r*=r,a*=a,1>=r+a},e.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},e}();t.default=d},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(21),o=function(e){return e&&e.__esModule?e:{default:e}}(n),d=r(1),i=function(){function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(a(this,e),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof o.default){for(var s=[],l=0,i=r.length;l<i;l++)s.push(r[l].x,r[l].y);r=s}this.closed=!0,this.points=r,this.type=d.SHAPES.POLY}return e.prototype.clone=function(){return new e(this.points.slice())},e.prototype.close=function(){var e=this.points;(e[0]!==e[e.length-2]||e[1]!==e[e.length-1])&&e.push(e[0],e[1])},e.prototype.contains=function(e,t){for(var r=!1,a=this.points.length/2,n=0,o=a-1;n<a;o=n++){var i=this.points[2*n],d=this.points[2*n+1],s=this.points[2*o],l=this.points[2*o+1];d>t!=l>t&&e<(s-i)*((t-d)/(l-d))+i&&(r=!r)}return r},e}();t.default=i},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(1),o=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,d=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;a(this,e),this.x=t,this.y=r,this.width=o,this.height=i,this.radius=d,this.type=n.SHAPES.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(0>=this.width||0>=this.height)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var r=e-(this.x+this.radius),a=t-(this.y+this.radius),n=this.radius*this.radius;if(r*r+a*a<=n)return!0;if(r=e-(this.x+this.width-this.radius),r*r+a*a<=n)return!0;if(a=t-(this.y+this.height-this.radius),r*r+a*a<=n)return!0;if(r=e-(this.x+this.radius),r*r+a*a<=n)return!0}return!1},e}();t.default=o},function(e){e.exports=function(e,t){var r=e.getContext('webgl',t)||e.getContext('experimental-webgl',t);if(!r)throw new Error('This browser does not support webGL. Try using the canvas renderer');return r}},function(e){var t=new ArrayBuffer(0),r=function(e,r,a,n){this.gl=e,this.buffer=e.createBuffer(),this.type=r||e.ARRAY_BUFFER,this.drawType=n||e.STATIC_DRAW,this.data=t,a&&this.upload(a),this._updateID=0};r.prototype.upload=function(e,t,r){r||this.bind();var a=this.gl;e=e||this.data,t=t||0,this.data.byteLength>=e.byteLength?a.bufferSubData(this.type,t,e):a.bufferData(this.type,e,this.drawType),this.data=e},r.prototype.bind=function(){var e=this.gl;e.bindBuffer(this.type,this.buffer)},r.createVertexBuffer=function(e,t,a){return new r(e,e.ARRAY_BUFFER,t,a)},r.createIndexBuffer=function(e,t,a){return new r(e,e.ELEMENT_ARRAY_BUFFER,t,a)},r.create=function(e,t,a,n){return new r(e,t,a,n)},r.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=r},function(e,t,r){var a=r(39),n=function(e,t,r){this.gl=e,this.framebuffer=e.createFramebuffer(),this.stencil=null,this.texture=null,this.width=t||100,this.height=r||100};n.prototype.enableTexture=function(e){var t=this.gl;this.texture=e||new a(t),this.texture.bind(),this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0)},n.prototype.enableStencil=function(){if(!this.stencil){var e=this.gl;this.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height)}},n.prototype.clear=function(e,t,r,n){this.bind();var a=this.gl;a.clearColor(e,t,r,n),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},n.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)},n.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},n.prototype.resize=function(e,t){var r=this.gl;this.width=e,this.height=t,this.texture&&this.texture.uploadData(null,e,t),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e,t))},n.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy(),e.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},n.createRGBA=function(e,t,r){var o=a.fromData(e,null,t,r);o.enableNearestScaling(),o.enableWrapClamp();var i=new n(e,t,r);return i.enableTexture(o),i.unbind(),i},n.createFloat32=function(e,t,r,o){var i=new a.fromData(e,o,t,r);i.enableNearestScaling(),i.enableWrapClamp();var d=new n(e,t,r);return d.enableTexture(i),d.unbind(),d},e.exports=n},function(e,t,r){var a=r(40),n=r(41),o=r(43),i=r(45),d=r(46),s=function(e,t,r,s,l){this.gl=e,s&&(t=i(t,s),r=i(r,s)),this.program=a(e,t,r,l),this.attributes=n(e,this.program),this.uniformData=o(e,this.program),this.uniforms=d(e,this.uniformData)};s.prototype.bind=function(){return this.gl.useProgram(this.program),this},s.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var e=this.gl;e.deleteProgram(this.program)},e.exports=s},function(e,t,r){function a(e,t){if(this.nativeVaoExtension=null,a.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension('OES_vertex_array_object')||e.getExtension('MOZ_OES_vertex_array_object')||e.getExtension('WEBKIT_OES_vertex_array_object')),this.nativeState=t,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:Array(r),attribState:Array(r)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var n=r(38);a.prototype.constructor=a,e.exports=a,a.FORCE_NATIVE=!1,a.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},a.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},a.prototype.activate=function(){for(var e=this.gl,t=null,r=0,a;r<this.attributes.length;r++)a=this.attributes[r],t!==a.buffer&&(a.buffer.bind(),t=a.buffer),e.vertexAttribPointer(a.attribute.location,a.attribute.size,a.type||e.FLOAT,a.normalized||!1,a.stride||0,a.start||0);return n(e,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},a.prototype.addAttribute=function(e,t,r,a,n,o){return this.attributes.push({buffer:e,attribute:t,location:t.location,type:r||this.gl.FLOAT,normalized:a||!1,stride:n||0,start:o||0}),this.dirty=!0,this},a.prototype.addIndex=function(e){return this.indexBuffer=e,this.dirty=!0,this},a.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},a.prototype.draw=function(e,t,r){var a=this.gl;return this.indexBuffer?a.drawElements(e,t||this.indexBuffer.data.length,a.UNSIGNED_SHORT,2*(r||0)):a.drawArrays(e,r,t||this.getSize()),this},a.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},a.prototype.getSize=function(){var e=this.attributes[0];return e.buffer.data.length/(e.stride/4||e.attribute.size)}},function(e,t,r){e.exports={compileProgram:r(40),defaultValue:r(44),extractAttributes:r(41),extractUniforms:r(43),generateUniformAccessObject:r(46),setPrecision:r(45),mapSize:r(42),mapType:r(24)}},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(e){return n.default.tablet||n.default.phone?4:e};var a=r(26),n=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t){'use strict';t.__esModule=!0,t.default=function(){var e=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!e}},function(e,t){'use strict';function r(e){e.__plugins={},e.registerPlugin=function(t,r){e.__plugins[t]=r},e.prototype.initPlugins=function(){for(var t in this.plugins=this.plugins||{},e.__plugins)this.plugins[t]=new e.__plugins[t](this)},e.prototype.destroyPlugins=function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}t.__esModule=!0,t.default={mixin:function(e){r(e)}}},function(e,t){'use strict';function r(e,t){if(e&&t)for(var r=Object.keys(t),a=0,n;a<r.length;++a)n=r[a],Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}t.__esModule=!0,t.mixin=r,t.delayMixin=function(e,t){a.push(e,t)},t.performMixins=function(){for(var e=0;e<a.length;e+=2)r(a[e],a[e+1]);a.length=0};var a=[]},function(e){'use strict';e.exports=function(e,t,r){var a=e.length,n;if(!(t>=a||0===r)){r=t+r>a?a-t:r;var o=a-r;for(n=t;n<o;++n)e[n]=e[n+r];e.length=o}}},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(){for(var e=[],t=[],r=0;32>r;r++)e[r]=r,t[r]=r;e[a.BLEND_MODES.NORMAL_NPM]=a.BLEND_MODES.NORMAL,e[a.BLEND_MODES.ADD_NPM]=a.BLEND_MODES.ADD,e[a.BLEND_MODES.SCREEN_NPM]=a.BLEND_MODES.SCREEN,t[a.BLEND_MODES.NORMAL]=a.BLEND_MODES.NORMAL_NPM,t[a.BLEND_MODES.ADD]=a.BLEND_MODES.ADD_NPM,t[a.BLEND_MODES.SCREEN]=a.BLEND_MODES.SCREEN_NPM;return[t,e]};var a=r(1)},function(e,t,r){(function(e,a){var n;(function(o){function d(e){throw new RangeError(D[e])}function i(e,t){for(var r=e.length,a=[];r--;)a[r]=t(e[r]);return a}function s(e,t){var r=e.split('@'),a='';1<r.length&&(a=r[0]+'@',e=r[1]),e=e.replace(B,'.');var n=e.split('.'),o=i(n,t).join('.');return a+o}function l(e){for(var t=[],r=0,a=e.length,n,o;r<a;)n=e.charCodeAt(r++),55296<=n&&56319>=n&&r<a?(o=e.charCodeAt(r++),56320==(64512&o)?t.push(((1023&n)<<10)+(1023&o)+65536):(t.push(n),r--)):t.push(n);return t}function u(e){return i(e,function(e){var t='';return 65535<e&&(e-=65536,t+=L(55296|1023&e>>>10),e=56320|1023&e),t+=L(e),t}).join('')}function p(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:b}function c(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,r){var a=0;for(e=r?O(e/S):e>>1,e+=O(e/t);e>F*v>>1;a+=b)e=O(e/F);return O(a+(F+1)*e/(e+E))}function f(e){var r=[],a=e.length,o=0,i=I,n=C,s,l,c,f,g,_,y,m,E,t;for(l=e.lastIndexOf(P),0>l&&(l=0),c=0;c<l;++c)128<=e.charCodeAt(c)&&d('not-basic'),r.push(e.charCodeAt(c));for(f=0<l?l+1:0;f<a;){for(g=o,_=1,y=b;;y+=b){if(f>=a&&d('invalid-input'),m=p(e.charCodeAt(f++)),(m>=b||m>O((x-o)/_))&&d('overflow'),o+=m*_,E=y<=n?T:y>=n+v?v:y-n,m<E)break;t=b-E,_>O(x/t)&&d('overflow'),_*=t}s=r.length+1,n=h(o-g,s,0==g),O(o/s)>x-i&&d('overflow'),i+=O(o/s),o%=s,r.splice(o++,0,i)}return u(r)}function g(e){var r=[],a,n,o,i,s,u,p,f,g,_,t,y,m,E,S;for(e=l(e),y=e.length,a=I,n=0,s=C,u=0;u<y;++u)t=e[u],128>t&&r.push(L(t));for(o=i=r.length,i&&r.push(P);o<y;){for(p=x,u=0;u<y;++u)t=e[u],t>=a&&t<p&&(p=t);for(m=o+1,p-a>O((x-n)/m)&&d('overflow'),n+=(p-a)*m,a=p,u=0;u<y;++u)if(t=e[u],t<a&&++n>x&&d('overflow'),t==a){for(f=n,g=b;;g+=b){if(_=g<=s?T:g>=s+v?v:g-s,f<_)break;S=f-_,E=b-_,r.push(L(c(_+S%E,0))),f=O(S/E)}r.push(L(c(f,0))),s=h(n,m,o==i),n=0,++o}++n,++a}return r.join('')}var _='object'==typeof t&&t&&!t.nodeType&&t,y='object'==typeof e&&e&&!e.nodeType&&e,m='object'==typeof a&&a;(m.global===m||m.window===m||m.self===m)&&(o=m);var x=2147483647,b=36,T=1,v=26,E=38,S=700,C=72,I=128,P='-',R=/^xn--/,M=/[^\x20-\x7E]/,B=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:'Overflow: input needs wider integers to process',"not-basic":'Illegal input >= 0x80 (not a basic code point)',"invalid-input":'Invalid input'},F=b-T,O=Math.floor,L=String.fromCharCode,w;w={version:'1.4.1',ucs2:{decode:l,encode:u},decode:f,encode:g,toASCII:function(e){return s(e,function(e){return M.test(e)?'xn--'+g(e):e})},toUnicode:function(e){return s(e,function(e){return R.test(e)?f(e.slice(4).toLowerCase()):e})}};n=function(){return w}.call(t,r,t,e),!(void 0!==n&&(e.exports=n))})(this)}).call(t,r(112)(e),r(20))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e){'use strict';e.exports={isString:function(e){return'string'==typeof e},isObject:function(e){return'object'==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){'use strict';t.decode=t.parse=r(115),t.encode=t.stringify=r(116)},function(e){'use strict';function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,a,n,o){a=a||'&',n=n||'=';var d={};if('string'!=typeof e||0===e.length)return d;var s=/\+/g;e=e.split(a);var l=1e3;o&&'number'==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;0<l&&u>l&&(u=l);for(var p=0;p<u;++p){var i=e[p].replace(s,'%20'),c=i.indexOf(n),h,f,g,_;0<=c?(h=i.substr(0,c),f=i.substr(c+1)):(h=i,f=''),g=decodeURIComponent(h),_=decodeURIComponent(f),t(d,g)?r(d[g])?d[g].push(_):d[g]=[d[g],_]:d[g]=_}return d};var r=Array.isArray||function(e){return'[object Array]'===Object.prototype.toString.call(e)}},function(e){'use strict';function t(e,t){if(e.map)return e.map(t);for(var r=[],a=0;a<e.length;a++)r.push(t(e[a],a));return r}var r=function(e){switch(typeof e){case'string':return e;case'boolean':return e?'true':'false';case'number':return isFinite(e)?e:'';default:return'';}};e.exports=function(e,o,i,d){return o=o||'&',i=i||'=',null===e&&(e=void 0),'object'==typeof e?t(n(e),function(n){var d=encodeURIComponent(r(n))+i;return a(e[n])?t(e[n],function(e){return d+encodeURIComponent(r(e))}).join(o):d+encodeURIComponent(r(e[n]))}).join(o):d?encodeURIComponent(r(d))+i+encodeURIComponent(r(e)):''};var a=Array.isArray||function(e){return'[object Array]'===Object.prototype.toString.call(e)},n=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=r(3),d=a(i),s=r(1),l=r(118),u=a(l),p=function(){function e(){var t=this;n(this,e),this._head=new u.default(null,null,Infinity),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/d.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(e,t,r))},e.prototype.addOnce=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(e,t,r,!0))},e.prototype._addListener=function(e){var t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var r=this._head.next;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null},e.prototype.update=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),t;if(e>this.lastTime){t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),this.deltaTime=t*d.default.TARGET_FPMS*this.speed;for(var r=this._head,a=r.next;a;)a=a.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=e},o(e,[{key:'FPS',get:function(){return 1e3/this.elapsedMS}},{key:'minFPS',get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(Math.max(0,e)/1e3,d.default.TARGET_FPMS);this._maxElapsedMS=1/t}}]),e}();t.default=p},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];r(this,e),this.fn=t,this.context=a,this.priority=n,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(e,t){return t=t||null,this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.previous;return this.next=e?null:t,this.previous=null,t},e}();t.default=a},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=r(11),i=a(o),d=r(1),s=r(4),l=r(32),u=a(l),p=new s.Matrix,c=function(){function e(t){n(this,e),this.renderer=t}return e.prototype.render=function(e){var t=e._texture,r=this.renderer,a=t._frame.width,n=t._frame.height,o=e.transform.worldTransform,i=0,l=0;if(!(0>=t.orig.width||0>=t.orig.height||!t.baseTexture.source)&&(r.setBlendMode(e.blendMode),t.valid)){r.context.globalAlpha=e.worldAlpha;var c=t.baseTexture.scaleMode===d.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==c&&(r.context[r.smoothProperty]=c),t.trim?(i=t.trim.width/2+t.trim.x-e.anchor.x*t.orig.width,l=t.trim.height/2+t.trim.y-e.anchor.y*t.orig.height):(i=(0.5-e.anchor.x)*t.orig.width,l=(0.5-e.anchor.y)*t.orig.height),t.rotate&&(o.copy(p),o=p,s.GroupD8.matrixAppendRotationInv(o,t.rotate,i,l),i=0,l=0),i-=a/2,l-=n/2,r.roundPixels?(r.context.setTransform(o.a,o.b,o.c,o.d,0|o.tx*r.resolution,0|o.ty*r.resolution),i|=0,l|=0):r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution,o.ty*r.resolution);var h=t.baseTexture.resolution;16777215===e.tint?r.context.drawImage(t.baseTexture.source,t._frame.x*h,t._frame.y*h,a*h,n*h,i*r.resolution,l*r.resolution,a*r.resolution,n*r.resolution):((e.cachedTint!==e.tint||e.tintedTexture.tintId!==e._texture._updateID)&&(e.cachedTint=e.tint,e.tintedTexture=u.default.getTintedTexture(e,e.tint)),r.context.drawImage(e.tintedTexture,0,0,a*h,n*h,i*r.resolution,l*r.resolution,a*r.resolution,n*r.resolution))}},e.prototype.destroy=function(){this.renderer=null},e}();t.default=c,i.default.registerPlugin('sprite',c)},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(1),o=function(){function e(t){a(this,e),this.renderer=t}return e.prototype.pushMask=function(e){var t=this.renderer;t.context.save();var r=e.alpha,a=e.transform.worldTransform,n=t.resolution;t.context.setTransform(a.a*n,a.b*n,a.c*n,a.d*n,a.tx*n,a.ty*n),e._texture||(this.renderGraphicsShape(e),t.context.clip()),e.worldAlpha=r},e.prototype.renderGraphicsShape=function(e){var t=this.renderer.context,r=e.graphicsData.length;if(0!==r){t.beginPath();for(var a=0;a<r;a++){var o=e.graphicsData[a],i=o.shape;if(o.type===n.SHAPES.POLY){var d=i.points;t.moveTo(d[0],d[1]);for(var s=1;s<d.length/2;s++)t.lineTo(d[2*s],d[2*s+1]);d[0]===d[d.length-2]&&d[1]===d[d.length-1]&&t.closePath()}else if(o.type===n.SHAPES.RECT)t.rect(i.x,i.y,i.width,i.height),t.closePath();else if(o.type===n.SHAPES.CIRC)t.arc(i.x,i.y,i.radius,0,2*Math.PI),t.closePath();else if(o.type===n.SHAPES.ELIP){var l=2*i.width,u=2*i.height,p=i.x-l/2,c=i.y-u/2,h=0.5522848,f=l/2*h,g=u/2*h,_=p+l,y=c+u,m=p+l/2,x=c+u/2;t.moveTo(p,x),t.bezierCurveTo(p,x-g,m-f,c,m,c),t.bezierCurveTo(m+f,c,_,x-g,_,x),t.bezierCurveTo(_,x+g,m+f,y,m,y),t.bezierCurveTo(m-f,y,p,x+g,p,x),t.closePath()}else if(o.type===n.SHAPES.RREC){var b=i.x,T=i.y,v=i.width,E=i.height,S=i.radius,C=0|Math.min(v,E)/2;S=S>C?C:S,t.moveTo(b,T+S),t.lineTo(b,T+E-S),t.quadraticCurveTo(b,T+E,b+S,T+E),t.lineTo(b+v-S,T+E),t.quadraticCurveTo(b+v,T+E,b+v,T+E-S),t.lineTo(b+v,T+S),t.quadraticCurveTo(b+v,T,b+v-S,T),t.lineTo(b+S,T),t.quadraticCurveTo(b,T,b,T+S),t.closePath()}}}},e.prototype.popMask=function(e){e.context.restore(),e.invalidateBlendMode()},e.prototype.destroy=function(){},e}();t.default=o},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return(0,o.default)()?(e[a.BLEND_MODES.NORMAL]='source-over',e[a.BLEND_MODES.ADD]='lighter',e[a.BLEND_MODES.MULTIPLY]='multiply',e[a.BLEND_MODES.SCREEN]='screen',e[a.BLEND_MODES.OVERLAY]='overlay',e[a.BLEND_MODES.DARKEN]='darken',e[a.BLEND_MODES.LIGHTEN]='lighten',e[a.BLEND_MODES.COLOR_DODGE]='color-dodge',e[a.BLEND_MODES.COLOR_BURN]='color-burn',e[a.BLEND_MODES.HARD_LIGHT]='hard-light',e[a.BLEND_MODES.SOFT_LIGHT]='soft-light',e[a.BLEND_MODES.DIFFERENCE]='difference',e[a.BLEND_MODES.EXCLUSION]='exclusion',e[a.BLEND_MODES.HUE]='hue',e[a.BLEND_MODES.SATURATION]='saturate',e[a.BLEND_MODES.COLOR]='color',e[a.BLEND_MODES.LUMINOSITY]='luminosity'):(e[a.BLEND_MODES.NORMAL]='source-over',e[a.BLEND_MODES.ADD]='lighter',e[a.BLEND_MODES.MULTIPLY]='source-over',e[a.BLEND_MODES.SCREEN]='source-over',e[a.BLEND_MODES.OVERLAY]='source-over',e[a.BLEND_MODES.DARKEN]='source-over',e[a.BLEND_MODES.LIGHTEN]='source-over',e[a.BLEND_MODES.COLOR_DODGE]='source-over',e[a.BLEND_MODES.COLOR_BURN]='source-over',e[a.BLEND_MODES.HARD_LIGHT]='source-over',e[a.BLEND_MODES.SOFT_LIGHT]='source-over',e[a.BLEND_MODES.DIFFERENCE]='source-over',e[a.BLEND_MODES.EXCLUSION]='source-over',e[a.BLEND_MODES.HUE]='source-over',e[a.BLEND_MODES.SATURATION]='source-over',e[a.BLEND_MODES.COLOR]='source-over',e[a.BLEND_MODES.LUMINOSITY]='source-over'),e[a.BLEND_MODES.NORMAL_NPM]=e[a.BLEND_MODES.NORMAL],e[a.BLEND_MODES.ADD_NPM]=e[a.BLEND_MODES.ADD],e[a.BLEND_MODES.SCREEN_NPM]=e[a.BLEND_MODES.SCREEN],e};var a=r(1),n=r(57),o=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=Math.min;t.__esModule=!0;var s=r(16),l=a(s),u=r(17),p=a(u),c=r(33),h=a(c),f=r(135),g=a(f),_=r(136),y=a(_),m=r(137),x=a(m),b=r(3),T=a(b),v=r(2),E=r(5),S=a(E),C=r(29),I=a(C),P=0,R=0,M=function(e){function t(r){n(this,t);var a=o(this,e.call(this,r));a.vertSize=5,a.vertByteSize=4*a.vertSize,a.size=T.default.SPRITE_BATCH_SIZE,a.buffers=[];for(var d=1;d<=I.default.nextPow2(a.size);d*=2)a.buffers.push(new x.default(4*d*a.vertByteSize));a.indices=(0,h.default)(a.size),a.shader=null,a.currentIndex=0,a.groups=[];for(var i=0;i<a.size;i++)a.groups[i]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return a.sprites=[],a.vertexBuffers=[],a.vaos=[],a.vaoMax=2,a.vertexCount=0,a.renderer.on('prerender',a.onPrerender,a),a}return i(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=d(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),T.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,y.default)(this.MAX_TEXTURES,e)),this.shader=(0,g.default)(e,this.MAX_TEXTURES),this.indexBuffer=S.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.renderer.bindVao(null);for(var t=this.shader.attributes,r=0;r<this.vaoMax;r++){var a=this.vertexBuffers[r]=S.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),n=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(a,t.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(a,t.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(a,t.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);t.aTextureId&&n.addAttribute(a,t.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=n}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=Array(this.MAX_TEXTURES)},t.prototype.onPrerender=function(){this.vertexCount=0},t.prototype.render=function(e){this.currentIndex>=this.size&&this.flush(),e._texture._uvs&&(this.sprites[this.currentIndex++]=e)},t.prototype.flush=function(){if(0!==this.currentIndex){var e=this.renderer.gl,r=this.MAX_TEXTURES,a=I.default.nextPow2(this.currentIndex),n=I.default.log2(a),o=this.buffers[n],s=this.sprites,l=this.groups,u=o.float32View,p=o.uint32View,c=this.boundTextures,h=this.renderer.boundTextures,f=this.renderer.textureGC.count,g=0,_=1,y=0,m=l[0],x=v.premultiplyBlendMode[s[0]._texture.baseTexture.premultipliedAlpha?1:0][s[0].blendMode],b,E,C,M;m.textureCount=0,m.start=0,m.blend=x,P++;var B;for(B=0;B<r;++B){var i=h[B];if(i._enabled===P){c[B]=this.renderer.emptyTextures[B];continue}c[B]=i,i._virtalBoundId=B,i._enabled=P}for(P++,B=0;B<this.currentIndex;++B){var D=s[B];b=D._texture.baseTexture;var F=v.premultiplyBlendMode[+b.premultipliedAlpha][D.blendMode];if(x!==F&&(x=F,E=null,y=r,P++),E!==b&&(E=b,b._enabled!==P)){if(y===r&&(P++,m.size=B-m.start,y=0,m=l[_++],m.blend=x,m.textureCount=0,m.start=B),b.touched=f,-1===b._virtalBoundId)for(var O=0;O<r;++O){var L=(O+R)%r,w=c[L];if(w._enabled!==P){R++,w._virtalBoundId=-1,b._virtalBoundId=L,c[L]=b;break}}b._enabled=P,m.textureCount++,m.ids[y]=b._virtalBoundId,m.textures[y++]=b}if(C=D.vertexData,M=D._texture._uvs.uvsUint32,this.renderer.roundPixels){var t=this.renderer.resolution;u[g]=(0|C[0]*t)/t,u[g+1]=(0|C[1]*t)/t,u[g+5]=(0|C[2]*t)/t,u[g+6]=(0|C[3]*t)/t,u[g+10]=(0|C[4]*t)/t,u[g+11]=(0|C[5]*t)/t,u[g+15]=(0|C[6]*t)/t,u[g+16]=(0|C[7]*t)/t}else u[g]=C[0],u[g+1]=C[1],u[g+5]=C[2],u[g+6]=C[3],u[g+10]=C[4],u[g+11]=C[5],u[g+15]=C[6],u[g+16]=C[7];p[g+2]=M[0],p[g+7]=M[1],p[g+12]=M[2],p[g+17]=M[3];var A=d(D.worldAlpha,1),U=1>A&&b.premultipliedAlpha?(0,v.premultiplyTint)(D._tintRGB,A):D._tintRGB+(255*A<<24);p[g+3]=p[g+8]=p[g+13]=p[g+18]=U,u[g+4]=u[g+9]=u[g+14]=u[g+19]=b._virtalBoundId,g+=20}if(m.size=B-m.start,!T.default.CAN_UPLOAD_SAME_BUFFER){if(this.vaoMax<=this.vertexCount){this.vaoMax++;var k=this.shader.attributes,N=this.vertexBuffers[this.vertexCount]=S.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),Q=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(N,k.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(N,k.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(N,k.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);k.aTextureId&&Q.addAttribute(N,k.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=Q}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!1),this.vertexCount++}else this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!0);for(B=0;B<r;++B)h[B]._virtalBoundId=-1;for(B=0;B<_;++B){for(var X=l[B],H=X.textureCount,G=0;G<H;G++)E=X.textures[G],h[X.ids[G]]!==E&&this.renderer.bindTexture(E,X.ids[G],!0),E._virtalBoundId=-1;this.renderer.state.setBlendMode(X.blend),e.drawElements(e.TRIANGLES,6*X.size,e.UNSIGNED_SHORT,2*(6*X.start))}this.currentIndex=0}},t.prototype.start=function(){this.renderer.bindShader(this.shader),T.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this.vaoMax;t++)this.vertexBuffers[t]&&this.vertexBuffers[t].destroy(),this.vaos[t]&&this.vaos[t].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off('prerender',this.onPrerender,this),e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},t}(l.default);t.default=M,p.default.registerPlugin('sprite',M)},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=r(12),s=a(d),l=r(58),u=a(l),p=function(e){function t(r){n(this,t);var a=o(this,e.call(this,r));return a.scissor=!1,a.scissorData=null,a.scissorRenderTarget=null,a.enableScissor=!0,a.alphaMaskPool=[],a.alphaMaskIndex=0,a}return i(t,e),t.prototype.pushMask=function(e,t){if(t.texture)this.pushSpriteMask(e,t);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&t.isFastRect()){var r=t.worldTransform,a=Math.atan2(r.b,r.a);a=Math.round(a*(180/Math.PI)),a%90?this.pushStencilMask(t):this.pushScissorMask(e,t)}else this.pushStencilMask(t)},t.prototype.popMask=function(e,t){t.texture?this.popSpriteMask(e,t):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(e,t):this.popStencilMask(e,t)},t.prototype.pushSpriteMask=function(e,t){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new u.default(t)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=t,e.filterArea=t.getBounds(!0),this.renderer.filterManager.pushFilter(e,r),this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(e){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(e)},t.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},t.prototype.pushScissorMask=function(e,t){t.renderable=!0;var r=this.renderer._activeRenderTarget,a=t.getBounds();a.fit(r.size),t.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var n=this.renderer.resolution;this.renderer.gl.scissor(a.x*n,(r.root?r.size.height-a.y-a.height:a.y)*n,a.width*n,a.height*n),this.scissorRenderTarget=r,this.scissorData=t,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)},t}(s.default);t.default=p},function(e,t,r){'use strict';function a(e){for(var t=/^(projectionMatrix|uSampler|filterArea|filterClamp)$/,r={},a=void 0,n=e.replace(/\s+/g,' ').split(/\s*;\s*/),o=0,d;o<n.length;o++)if(d=n[o].trim(),-1<d.indexOf('uniform')){var s=d.split(' '),l=s[1],u=s[2],p=1;-1<u.indexOf('[')&&(a=u.split(/\[|]/),u=a[0],p*=+a[1]),u.match(t)||(r[u]={value:i(l,p),name:u,type:l})}return r}t.__esModule=!0,t.default=function(e,t,r){var n=a(e,r),o=a(t,r);return Object.assign(n,o)};var n=r(5),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i=o.default.shader.defaultValue},function(e){function t(){throw new Error('setTimeout has not been defined')}function r(){throw new Error('clearTimeout has not been defined')}function a(e){if(u===setTimeout)return setTimeout(e,0);if((u===t||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function n(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function o(){h&&g&&(h=!1,g.length?c=g.concat(c):f=-1,c.length&&d())}function d(){if(!h){var e=a(o);h=!0;for(var t=c.length;t;){for(g=c,c=[];++f<t;)g&&g[f].run();f=-1,t=c.length}g=null,h=!1,n(e)}}function s(e,t){this.fun=e,this.array=t}function i(){}var l=e.exports={},u,p;(function(){try{u='function'==typeof setTimeout?setTimeout:t}catch(r){u=t}try{p='function'==typeof clearTimeout?clearTimeout:r}catch(t){p=r}})();var c=[],h=!1,f=-1,g;l.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new s(e,t)),1!==c.length||h||a(d)},s.prototype.run=function(){this.fun.apply(null,this.array)},l.title='browser',l.browser=!0,l.env={},l.argv=[],l.version='',l.versions={},l.on=i,l.addListener=i,l.once=i,l.off=i,l.removeListener=i,l.removeAllListeners=i,l.emit=i,l.prependListener=i,l.prependOnceListener=i,l.listeners=function(){return[]},l.binding=function(){throw new Error('process.binding is not supported')},l.cwd=function(){return'/'},l.chdir=function(){throw new Error('process.chdir is not supported')},l.umask=function(){return 0}},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(12),d=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(e){function t(r){a(this,t);var o=n(this,e.call(this,r));return o.stencilMaskStack=null,o}return o(t,e),t.prototype.setMaskStack=function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)},t.prototype.pushStencil=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var t=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&t.enable(t.STENCIL_TEST),this.stencilMaskStack.push(e),t.colorMask(!1,!1,!1,!1),t.stencilFunc(t.EQUAL,r,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.INCR),this.renderer.plugins.graphics.render(e),this._useCurrent()},t.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,t=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(t),this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},t.prototype.destroy=function(){d.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},t}(d.default);t.default=s},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var d=r(12),s=a(d),l=r(18),u=a(l),p=r(61),c=a(p),h=r(4),f=r(13),g=a(f),_=r(128),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(_),m=r(29),x=a(m),b=function e(){i(this,e),this.renderTarget=null,this.sourceFrame=new h.Rectangle,this.destinationFrame=new h.Rectangle,this.filters=[],this.target=null,this.resolution=1},T=function(e){function t(r){i(this,t);var a=n(this,e.call(this,r));return a.gl=a.renderer.gl,a.quad=new c.default(a.gl,r.state.attribState),a.shaderCache={},a.pool={},a.filterData=null,a.managedFilters=[],a}return o(t,e),t.prototype.pushFilter=function(e,t){var r=this.renderer,a=this.filterData;if(!a){a=this.renderer._activeRenderTarget.filterStack;var n=new b;n.sourceFrame=n.destinationFrame=this.renderer._activeRenderTarget.size,n.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=a={index:0,stack:[n]},this.filterData=a}var o=a.stack[++a.index];o||(o=a.stack[a.index]=new b);var i=t[0].resolution,d=0|t[0].padding,s=e.filterArea||e.getBounds(!0),l=o.sourceFrame,u=o.destinationFrame;l.x=(0|s.x*i)/i,l.y=(0|s.y*i)/i,l.width=(0|s.width*i)/i,l.height=(0|s.height*i)/i,a.stack[0].renderTarget.transform||t[0].autoFit&&l.fit(a.stack[0].destinationFrame),l.pad(d),u.width=l.width,u.height=l.height;var p=this.getPotRenderTarget(r.gl,l.width,l.height,i);o.target=e,o.filters=t,o.resolution=i,o.renderTarget=p,p.setFrame(u,l),r.bindRenderTarget(p),p.clear()},t.prototype.popFilter=function(){var e=this.filterData,r=e.stack[e.index-1],a=e.stack[e.index];this.quad.map(a.renderTarget.size,a.sourceFrame).upload();var n=a.filters;if(1===n.length)n[0].apply(this,a.renderTarget,r.renderTarget,!1,a),this.freePotRenderTarget(a.renderTarget);else{var o=a.renderTarget,d=this.getPotRenderTarget(this.renderer.gl,a.sourceFrame.width,a.sourceFrame.height,a.resolution);d.setFrame(a.destinationFrame,a.sourceFrame),d.clear();var s=0;for(s=0;s<n.length-1;++s){n[s].apply(this,o,d,!0,a);var i=o;o=d,d=i}n[s].apply(this,o,r.renderTarget,!1,a),this.freePotRenderTarget(o),this.freePotRenderTarget(d)}e.index--,0===e.index&&(this.filterData=null)},t.prototype.applyFilter=function(e,t,r,a){var n=this.renderer,o=n.gl,i=e.glShaders[n.CONTEXT_UID];i||(e.glShaderKey?(i=this.shaderCache[e.glShaderKey],!i&&(i=new g.default(this.gl,e.vertexSrc,e.fragmentSrc),e.glShaders[n.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=i,this.managedFilters.push(e))):(i=e.glShaders[n.CONTEXT_UID]=new g.default(this.gl,e.vertexSrc,e.fragmentSrc),this.managedFilters.push(e)),n.bindVao(null),this.quad.initVao(i)),n.bindVao(this.quad.vao),n.bindRenderTarget(r),a&&(o.disable(o.SCISSOR_TEST),n.clear(),o.enable(o.SCISSOR_TEST)),r===n.maskManager.scissorRenderTarget&&n.maskManager.pushScissorMask(null,n.maskManager.scissorData),n.bindShader(i);var d=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=d,this.syncUniforms(i,e),n.state.setBlendMode(e.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,d._glTextures[this.renderer.CONTEXT_UID].texture)},t.prototype.syncUniforms=function(e,t){var r=t.uniformData,a=t.uniforms,n=1,o;if(e.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var d=e.uniforms.filterArea;d[0]=o.renderTarget.size.width,d[1]=o.renderTarget.size.height,d[2]=o.sourceFrame.x,d[3]=o.sourceFrame.y,e.uniforms.filterArea=d}if(e.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var s=e.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,s[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,e.uniforms.filterClamp=s}for(var l in r){var i=r[l].type;if('sampler2d'===i&&0!==a[l]){if(a[l].baseTexture)e.uniforms[l]=this.renderer.bindTexture(a[l].baseTexture,n);else{e.uniforms[l]=n;var u=this.renderer.gl;this.renderer.boundTextures[n]=this.renderer.emptyTextures[n],u.activeTexture(u.TEXTURE0+n),a[l].texture.bind()}n++}else if('mat3'===i)e.uniforms[l]=void 0===a[l].a?a[l]:a[l].toArray(!0);else if('vec2'!==i)'float'===i?e.uniforms.data[l].value!==r[l]&&(e.uniforms[l]=a[l]):e.uniforms[l]=a[l];else if(void 0!==a[l].x){var p=e.uniforms[l]||new Float32Array(2);p[0]=a[l].x,p[1]=a[l].y,e.uniforms[l]=p}else e.uniforms[l]=a[l]}},t.prototype.getRenderTarget=function(e,t){var r=this.filterData.stack[this.filterData.index],a=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,t||r.resolution);return a.setFrame(r.destinationFrame,r.sourceFrame),a},t.prototype.returnRenderTarget=function(e){this.freePotRenderTarget(e)},t.prototype.calculateScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return y.calculateScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size)},t.prototype.calculateNormalizedScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return y.calculateNormalizedScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size,t.destinationFrame)},t.prototype.calculateSpriteMatrix=function(e,t){var r=this.filterData.stack[this.filterData.index];return y.calculateSpriteMatrix(e,r.sourceFrame,r.renderTarget.size,t)},t.prototype.destroy=function(){for(var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.renderer,r=this.managedFilters,a=0;a<r.length;a++)e||r[a].glShaders[t.CONTEXT_UID].destroy(),delete r[a].glShaders[t.CONTEXT_UID];this.shaderCache={},e?this.pool={}:this.emptyPool()},t.prototype.getPotRenderTarget=function(e,t,r,a){t=x.default.nextPow2(t*a),r=x.default.nextPow2(r*a);var n=(65535&t)<<16|65535&r;this.pool[n]||(this.pool[n]=[]);var o=this.pool[n].pop();if(!o){var i=this.renderer.boundTextures[0];e.activeTexture(e.TEXTURE0),o=new u.default(e,t,r,null,1),e.bindTexture(e.TEXTURE_2D,i._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=a,o.defaultFrame.width=o.size.width=t/a,o.defaultFrame.height=o.size.height=r/a,o},t.prototype.emptyPool=function(){for(var e in this.pool){var t=this.pool[e];if(t)for(var r=0;r<t.length;r++)t[r].destroy(!0)}this.pool={}},t.prototype.freePotRenderTarget=function(e){var t=e.size.width*e.resolution,r=e.size.height*e.resolution;this.pool[(65535&t)<<16|65535&r].push(e)},t}(s.default);t.default=T},function(e,t,r){'use strict';t.__esModule=!0,t.calculateScreenSpaceMatrix=function(e,t,r){var a=e.identity();return a.translate(t.x/r.width,t.y/r.height),a.scale(r.width,r.height),a},t.calculateNormalizedScreenSpaceMatrix=function(e,t,r){var a=e.identity();a.translate(t.x/r.width,t.y/r.height);var n=r.width/t.width,o=r.height/t.height;return a.scale(n,o),a},t.calculateSpriteMatrix=function(e,t,r,n){var o=n._texture.orig,i=e.set(r.width,0,0,r.height,t.x,t.y),d=n.worldTransform.copy(a.Matrix.TEMP_MATRIX);return d.invert(),i.prepend(d),i.scale(1/o.width,1/o.height),i.translate(n.anchor.x,n.anchor.y),i};var a=r(4)},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(5),o=r(1),i=r(18),d=function(e){return e&&e.__esModule?e:{default:e}}(i),s=r(2),l=function(){function e(t){a(this,e),this.renderer=t,this.gl=t.gl,this._managedTextures=[]}return e.prototype.bindTexture=function(){},e.prototype.getTexture=function(){},e.prototype.updateTexture=function(e,t){var r=this.gl,a=!!e._glRenderTargets;if(!e.hasLoaded)return null;var s=this.renderer.boundTextures;if(void 0===t){t=0;for(var l=0;l<s.length;++l)if(s[l]===e){t=l;break}}s[t]=e,r.activeTexture(r.TEXTURE0+t);var i=e._glTextures[this.renderer.CONTEXT_UID];if(!i){if(a){var u=new d.default(this.gl,e.width,e.height,e.scaleMode,e.resolution);u.resize(e.width,e.height),e._glRenderTargets[this.renderer.CONTEXT_UID]=u,i=u.texture}else i=new n.GLTexture(this.gl,null,null,null,null),i.bind(t),i.premultiplyAlpha=!0,i.upload(e.source);e._glTextures[this.renderer.CONTEXT_UID]=i,e.on('update',this.updateTexture,this),e.on('dispose',this.destroyTexture,this),this._managedTextures.push(e),e.isPowerOfTwo?(e.mipmap&&i.enableMipmap(),e.wrapMode===o.WRAP_MODES.CLAMP?i.enableWrapClamp():e.wrapMode===o.WRAP_MODES.REPEAT?i.enableWrapRepeat():i.enableWrapMirrorRepeat()):i.enableWrapClamp(),e.scaleMode===o.SCALE_MODES.NEAREST?i.enableNearestScaling():i.enableLinearScaling()}else a?e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height):i.upload(e.source);return i},e.prototype.destroyTexture=function(e,t){if(e=e.baseTexture||e,!!e.hasLoaded){var r=this.renderer.CONTEXT_UID,a=e._glTextures,n=e._glRenderTargets;if(a[r]&&(this.renderer.unbindTexture(e),a[r].destroy(),e.off('update',this.updateTexture,this),e.off('dispose',this.destroyTexture,this),delete a[r],!t)){var o=this._managedTextures.indexOf(e);-1!==o&&(0,s.removeItems)(this._managedTextures,o,1)}n&&n[r]&&(n[r].destroy(),delete n[r])}},e.prototype.removeAll=function(){for(var e=0,t;e<this._managedTextures.length;++e)t=this._managedTextures[e],t._glTextures[this.renderer.CONTEXT_UID]&&delete t._glTextures[this.renderer.CONTEXT_UID]},e.prototype.destroy=function(){for(var e=0,t;e<this._managedTextures.length;++e)t=this._managedTextures[e],this.destroyTexture(t,!0),t.off('update',this.updateTexture,this),t.off('dispose',this.destroyTexture,this);this._managedTextures=null},e}();t.default=l},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(1),o=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(o),d=function(){function e(t){a(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=i.default.GC_MAX_IDLE,this.checkCountMax=i.default.GC_MAX_CHECK_COUNT,this.mode=i.default.GC_MODE}return e.prototype.update=function(){this.count++,this.mode===n.GC_MODES.MANUAL||(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var e=this.renderer.textureManager,t=e._managedTextures,r=!1,a=0,n;a<t.length;a++)n=t[a],!n._glRenderTargets&&this.count-n.touched>this.maxIdle&&(e.destroyTexture(n,!0),t[a]=null,r=!0);if(r){for(var o=0,i=0;i<t.length;i++)null!==t[i]&&(t[o++]=t[i]);t.length=o}},e.prototype.unload=function(e){var t=this.renderer.textureManager;e._texture&&e._texture._glRenderTargets&&t.destroyTexture(e._texture,!0);for(var r=e.children.length-1;0<=r;r--)this.unload(e.children[r])},e}();t.default=d},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(132),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i=0,d=1,s=2,l=3,u=4,p=function(){function e(t){a(this,e),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)},this.blendModes=(0,o.default)(t),this.nativeVaoExtension=t.getExtension('OES_vertex_array_object')||t.getExtension('MOZ_OES_vertex_array_object')||t.getExtension('WEBKIT_OES_vertex_array_object')}return e.prototype.push=function(){var e=this.stack[this.stackIndex];e||(e=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var t=0;t<this.activeState.length;t++)e[t]=this.activeState[t]},e.prototype.pop=function(){var e=this.stack[--this.stackIndex];this.setState(e)},e.prototype.setState=function(e){this.setBlend(e[i]),this.setDepthTest(e[d]),this.setFrontFace(e[s]),this.setCullFace(e[l]),this.setBlendMode(e[u])},e.prototype.setBlend=function(e){e=e?1:0,this.activeState[i]===e||(this.activeState[i]=e,this.gl[e?'enable':'disable'](this.gl.BLEND))},e.prototype.setBlendMode=function(e){if(e!==this.activeState[u]){this.activeState[u]=e;var t=this.blendModes[e];2===t.length?this.gl.blendFunc(t[0],t[1]):this.gl.blendFuncSeparate(t[0],t[1],t[2],t[3])}},e.prototype.setDepthTest=function(e){e=e?1:0,this.activeState[d]===e||(this.activeState[d]=e,this.gl[e?'enable':'disable'](this.gl.DEPTH_TEST))},e.prototype.setCullFace=function(e){e=e?1:0,this.activeState[l]===e||(this.activeState[l]=e,this.gl[e?'enable':'disable'](this.gl.CULL_FACE))},e.prototype.setFrontFace=function(e){e=e?1:0,this.activeState[s]===e||(this.activeState[s]=e,this.gl.frontFace(this.gl[e?'CW':'CCW']))},e.prototype.resetAttributes=function(){for(var e=0;e<this.attribState.tempAttribState.length;e++)this.attribState.tempAttribState[e]=0;for(var t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},e.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var e=0;e<this.activeState.length;++e)this.activeState[e]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},e}();t.default=p},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t[a.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.ADD]=[e.ONE,e.DST_ALPHA],t[a.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR],t[a.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.DST_ALPHA,e.ONE,e.DST_ALPHA],t[a.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_COLOR],t};var a=r(1)},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t[a.DRAW_MODES.POINTS]=e.POINTS,t[a.DRAW_MODES.LINES]=e.LINES,t[a.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,t[a.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,t[a.DRAW_MODES.TRIANGLES]=e.TRIANGLES,t[a.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,t[a.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN,t};var a=r(1)},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){var t=e.getContextAttributes();t.stencil||console.warn('Provided WebGL context does not have a stencil buffer, masks may not render correctly')}},function(e,t,r){'use strict';function a(e){var t='';t+='\n',t+='\n';for(var r=0;r<e;r++)0<r&&(t+='\nelse '),r<e-1&&(t+='if(textureId == '+r+'.0)'),t+='\n{',t+='\n\tcolor = texture2D(uSamplers['+r+'], vTextureCoord);',t+='\n}';return t+='\n',t+='\n',t}t.__esModule=!0,t.default=function(e,t){var r=d;r=r.replace(/%count%/gi,t),r=r.replace(/%forloop%/gi,a(t));for(var n=new o.default(e,'precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n',r),s=[],l=0;l<t;l++)s[l]=l;return n.bind(),n.uniforms.uSamplers=s,n};var n=r(13),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r(6),d='varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\nvoid main(void){\nvec4 color;\nfloat textureId = floor(vTextureId+0.5);\n%forloop%\ngl_FragColor = color * vColor;\n}'},function(e,t,r){'use strict';function a(e){for(var t='',r=0;r<e;++r)0<r&&(t+='\nelse '),r<e-1&&(t+='if(test == '+r+'.0){}');return t}t.__esModule=!0,t.default=function(e,t){var r=!t;if(0===e)throw new Error('Invalid value of `0` passed to `checkMaxIfStatementsInShader`');if(r){var n=document.createElement('canvas');n.width=1,n.height=1,t=o.default.createContext(n)}for(var d=t.createShader(t.FRAGMENT_SHADER),s;s=i.replace(/%forloop%/gi,a(e)),t.shaderSource(d,s),t.compileShader(d),!t.getShaderParameter(d,t.COMPILE_STATUS);)e=0|e/2;return r&&t.getExtension('WEBGL_lose_context')&&t.getExtension('WEBGL_lose_context').loseContext(),e};var n=r(5),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i='precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}'},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(t){r(this,e),this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return e.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},e}();t.default=a},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=Math.ceil,s=Math.abs;t.__esModule=!0;var l=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),u=r(28),p=a(u),c=r(7),h=a(c),f=r(4),g=r(2),_=r(1),y=r(3),m=a(y),x=r(62),b=a(x),T=r(63),v=a(T),E=r(139),S=a(E),C={texture:!0,children:!1,baseTexture:!0},I=function(e){function t(r,a,i){n(this,t),i=i||document.createElement('canvas'),i.width=3,i.height=3;var d=h.default.fromCanvas(i,m.default.SCALE_MODE,'text');d.orig=new f.Rectangle,d.trim=new f.Rectangle;var s=o(this,e.call(this,d));return h.default.addToCache(s._texture,s._texture.baseTexture.textureCacheIds[0]),s.canvas=i,s.context=s.canvas.getContext('2d'),s.resolution=m.default.RESOLUTION,s._text=null,s._style=null,s._styleListener=null,s._font='',s.text=r,s.style=a,s.localStyleID=-1,s}return i(t,e),t.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var r=this.context,a=v.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),n=a.width,o=a.height,s=a.lines,l=a.lineHeight,u=a.lineWidths,p=a.maxLineWidth,c=a.fontProperties;this.canvas.width=d((n+2*t.padding)*this.resolution),this.canvas.height=d((o+2*t.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=t.stroke,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;var h,f;if(t.dropShadow){r.fillStyle=t.dropShadowColor,r.globalAlpha=t.dropShadowAlpha,r.shadowBlur=t.dropShadowBlur,0<t.dropShadowBlur&&(r.shadowColor=t.dropShadowColor);for(var g=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,_=Math.sin(t.dropShadowAngle)*t.dropShadowDistance,y=0;y<s.length;y++)h=t.strokeThickness/2,f=t.strokeThickness/2+y*l+c.ascent,'right'===t.align?h+=p-u[y]:'center'===t.align&&(h+=(p-u[y])/2),t.fill&&(this.drawLetterSpacing(s[y],h+g+t.padding,f+_+t.padding),t.stroke&&t.strokeThickness&&(r.strokeStyle=t.dropShadowColor,this.drawLetterSpacing(s[y],h+g+t.padding,f+_+t.padding,!0),r.strokeStyle=t.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(t,s);for(var i=0;i<s.length;i++)h=t.strokeThickness/2,f=t.strokeThickness/2+i*l+c.ascent,'right'===t.align?h+=p-u[i]:'center'===t.align&&(h+=(p-u[i])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(s[i],h+t.padding,f+t.padding,!0),t.fill&&this.drawLetterSpacing(s[i],h+t.padding,f+t.padding);this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]&&arguments[3],n=this._style,o=n.letterSpacing;if(0===o)return void(a?this.context.strokeText(e,t,r):this.context.fillText(e,t,r));for(var i=String.prototype.split.call(e,''),d=t,s=0,l='';s<e.length;)l=i[s++],a?this.context.strokeText(l,d,r):this.context.fillText(l,d,r),d+=this.context.measureText(l).width+o},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=(0,S.default)(e);e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0)}var r=this._texture,a=this._style,n=a.trim?0:a.padding,o=r.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=e.width,o.realHeight=e.height,o.width=e.width/this.resolution,o.height=e.height/this.resolution,r.trim.width=r._frame.width=e.width/this.resolution,r.trim.height=r._frame.height=e.height/this.resolution,r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.emit('update',o),this.dirty=!1},t.prototype.renderWebGL=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype.renderWebGL.call(this,t)},t.prototype._renderCanvas=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._renderCanvas.call(this,t)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._onStyleChange=function(){this.dirty=!0},t.prototype._generateFillStyle=function(e,t){if(!Array.isArray(e.fill))return e.fill;if(navigator.isCocoonJS)return e.fill[0];var r=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,n=e.fill.slice(),o=e.fillGradientStops.slice(),d,s,l,u;if(!o.length)for(var p=n.length+1,c=1;c<p;++c)o.push(c/p);if(n.unshift(e.fill[0]),o.unshift(0),n.push(e.fill[e.fill.length-1]),o.push(1),e.fillGradientType===_.TEXT_GRADIENT.LINEAR_VERTICAL){d=this.context.createLinearGradient(r/2,0,r/2,a),s=(n.length+1)*t.length,l=0;for(var i=0;i<t.length;i++){l+=1;for(var h=0;h<n.length;h++)u='number'==typeof o[h]?o[h]/t.length+i/t.length:l/s,d.addColorStop(u,n[h]),l++}}else{d=this.context.createLinearGradient(0,a/2,r,a/2),s=n.length+1,l=1;for(var f=0;f<n.length;f++)u='number'==typeof o[f]?o[f]:l/s,d.addColorStop(u,n[f]),l++}return d},t.prototype.destroy=function(t){'boolean'==typeof t&&(t={children:t}),t=Object.assign({},C,t),e.prototype.destroy.call(this,t),this.context=null,this.canvas=null,this._style=null},l(t,[{key:'width',get:function(){return this.updateText(!0),s(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=(0,g.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:'height',get:function(){return this.updateText(!0),s(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=(0,g.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:'style',get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof b.default?e:new b.default(e),this.localStyleID=-1,this.dirty=!0}},{key:'text',get:function(){return this._text},set:function(e){e=(''===e||null===e||void 0===e?' ':e)+'',this._text===e||(this._text=e,this.dirty=!0)}}]),t}(p.default);t.default=I},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){var t=e.width,r=e.height,a=e.getContext('2d'),n=a.getImageData(0,0,t,r),o=n.data,d=o.length,s={top:null,left:null,right:null,bottom:null},l,i,u;for(l=0;l<d;l+=4)0!==o[l+3]&&(i=l/4%t,u=~~(l/4/t),null===s.top&&(s.top=u),null===s.left?s.left=i:i<s.left&&(s.left=i),null===s.right?s.right=i+1:s.right<i&&(s.right=i+1),null===s.bottom?s.bottom=u:s.bottom<u&&(s.bottom=u));t=s.right-s.left,r=s.bottom-s.top+1;var p=a.getImageData(s.left,s.top,t,r);return{height:r,width:t,data:p}}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=Math.atan2,l=Math.sin,u=Math.cos,p=Math.abs,s=Math.sqrt,h=Math.PI;t.__esModule=!0;var c=r(10),f=a(c),g=r(31),_=a(g),y=r(7),m=a(y),x=r(64),b=a(x),T=r(28),v=a(T),E=r(4),S=r(2),C=r(1),I=r(25),P=a(I),R=r(141),M=a(R),B=r(11),D=a(B),F=new E.Matrix,O=new E.Point,L=new Float32Array(4),w=new Float32Array(4),A=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]&&arguments[0];n(this,t);var a=o(this,e.call(this));return a.fillAlpha=1,a.lineWidth=0,a.nativeLines=r,a.lineColor=0,a.graphicsData=[],a.tint=16777215,a._prevTint=16777215,a.blendMode=C.BLEND_MODES.NORMAL,a.currentPath=null,a._webGL={},a.isMask=!1,a.boundsPadding=0,a._localBounds=new P.default,a.dirty=0,a.fastRectDirty=-1,a.clearDirty=0,a.boundsDirty=-1,a.cachedSpriteDirty=!1,a._spriteRect=null,a._fastRect=!1,a}return i(t,e),t.prototype.clone=function(){var e=new t;e.renderable=this.renderable,e.fillAlpha=this.fillAlpha,e.lineWidth=this.lineWidth,e.lineColor=this.lineColor,e.tint=this.tint,e.blendMode=this.blendMode,e.isMask=this.isMask,e.boundsPadding=this.boundsPadding,e.dirty=0,e.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)e.graphicsData.push(this.graphicsData[r].clone());return e.currentPath=e.graphicsData[e.graphicsData.length-1],e.updateLocalBounds(),e},t.prototype.lineStyle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=e,this.lineColor=t,this.lineAlpha=r,this.currentPath)if(this.currentPath.shape.points.length){var a=new E.Polygon(this.currentPath.shape.points.slice(-2));a.closed=!1,this.drawShape(a)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},t.prototype.moveTo=function(e,t){var r=new E.Polygon([e,t]);return r.closed=!1,this.drawShape(r),this},t.prototype.lineTo=function(e,t){return this.currentPath.shape.points.push(e,t),this.dirty++,this},t.prototype.quadraticCurveTo=function(e,t,r,a){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=20,n=this.currentPath.shape.points,d=0,s=0;0===n.length&&this.moveTo(0,0);for(var l=n[n.length-2],u=n[n.length-1],p=1,i;p<=o;++p)i=p/o,d=l+(e-l)*i,s=u+(t-u)*i,n.push(d+(e+(r-e)*i-d)*i,s+(t+(a-t)*i-s)*i);return this.dirty++,this},t.prototype.bezierCurveTo=function(e,t,r,a,n,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i=this.currentPath.shape.points,d=i[i.length-2],s=i[i.length-1];return i.length-=2,(0,M.default)(d,s,e,t,r,a,n,o,i),this.dirty++,this},t.prototype.arcTo=function(e,t,r,a,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,t):this.moveTo(e,t);var o=this.currentPath.shape.points,i=o[o.length-2],l=o[o.length-1],u=l-t,c=i-e,h=a-t,f=r-e,g=p(u*f-c*h);if(1e-8>g||0===n)(o[o.length-2]!==e||o[o.length-1]!==t)&&o.push(e,t);else{var _=u*u+c*c,y=h*h+f*f,m=u*h+c*f,x=n*s(_)/g,b=n*s(y)/g,T=x*m/_,v=b*m/y,E=x*f+b*c,S=x*h+b*u,C=d(u*(b+T)-S,c*(b+T)-E),I=d(h*(x+v)-S,f*(x+v)-E);this.arc(E+e,S+t,n,C,I,c*h>f*u)}return this.dirty++,this},t.prototype.arc=function(e,t,r,a,n){var o=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(a===n)return this;!o&&n<=a?n+=2*h:o&&a<=n&&(a+=2*h);var d=n-a,f=40*Math.ceil(p(d)/(2*h));if(0==d)return this;var g=e+u(a)*r,_=t+l(a)*r,y=this.currentPath?this.currentPath.shape.points:null;y?(y[y.length-2]!==g||y[y.length-1]!==_)&&y.push(g,_):(this.moveTo(g,_),y=this.currentPath.shape.points);for(var m=d/(2*f),x=u(m),b=l(m),T=f-1,v=0;v<=T;++v){var i=v+T%1/T*v,E=m+a+2*m*i,S=u(E),c=-l(E);y.push((x*S+b*c)*r+e,(x*-c+b*S)*r+t)}return this.dirty++,this},t.prototype.beginFill=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=e,this.fillAlpha=t,this.currentPath&&2>=this.currentPath.shape.points.length&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},t.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},t.prototype.drawRect=function(e,t,r,a){return this.drawShape(new E.Rectangle(e,t,r,a)),this},t.prototype.drawRoundedRect=function(e,t,r,a,n){return this.drawShape(new E.RoundedRectangle(e,t,r,a,n)),this},t.prototype.drawCircle=function(e,t,r){return this.drawShape(new E.Circle(e,t,r)),this},t.prototype.drawEllipse=function(e,t,r,a){return this.drawShape(new E.Ellipse(e,t,r,a)),this},t.prototype.drawPolygon=function(e){var t=e,r=!0;if(t instanceof E.Polygon&&(r=t.closed,t=t.points),!Array.isArray(t)){t=Array(arguments.length);for(var a=0;a<t.length;++a)t[a]=arguments[a]}var n=new E.Polygon(t);return n.closed=r,this.drawShape(n),this},t.prototype.clear=function(){return(this.lineWidth||this.filling||0<this.graphicsData.length)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},t.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===C.SHAPES.RECT&&!this.graphicsData[0].lineWidth},t.prototype._renderWebGL=function(e){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(e):(e.setObjectRenderer(e.plugins.graphics),e.plugins.graphics.render(this))},t.prototype._renderSpriteRect=function(e){var t=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new v.default(new m.default(m.default.WHITE)));var r=this._spriteRect;if(16777215===this.tint)r.tint=this.graphicsData[0].fillColor;else{var a=L,n=w;(0,S.hex2rgb)(this.graphicsData[0].fillColor,a),(0,S.hex2rgb)(this.tint,n),a[0]*=n[0],a[1]*=n[1],a[2]*=n[2],r.tint=(0,S.rgb2hex)(a)}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=t.width,r._texture._frame.height=t.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-t.x/t.width,-t.y/t.height),r._onAnchorUpdate(),r._renderWebGL(e)},t.prototype._renderCanvas=function(e){!0===this.isMask||e.plugins.graphics.render(this)},t.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var e=this._localBounds;this._bounds.addFrame(this.transform,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,O);for(var t=this.graphicsData,r=0,a;r<t.length;++r)if((a=t[r],!!a.fill)&&a.shape&&a.shape.contains(O.x,O.y)){if(a.holes)for(var n=0,o;n<a.holes.length;n++)if(o=a.holes[n],o.contains(O.x,O.y))return!1;return!0}return!1},t.prototype.updateLocalBounds=function(){var e=Infinity,t=-Infinity,r=Infinity,a=-Infinity;if(this.graphicsData.length)for(var n=0,o=0,d=0,l=0,u=0,c=0;c<this.graphicsData.length;c++){var i=this.graphicsData[c],h=i.type,f=i.lineWidth;if(n=i.shape,h===C.SHAPES.RECT||h===C.SHAPES.RREC)o=n.x-f/2,d=n.y-f/2,l=n.width+f,u=n.height+f,e=o<e?o:e,t=o+l>t?o+l:t,r=d<r?d:r,a=d+u>a?d+u:a;else if(h===C.SHAPES.CIRC)o=n.x,d=n.y,l=n.radius+f/2,u=n.radius+f/2,e=o-l<e?o-l:e,t=o+l>t?o+l:t,r=d-u<r?d-u:r,a=d+u>a?d+u:a;else if(h===C.SHAPES.ELIP)o=n.x,d=n.y,l=n.width+f/2,u=n.height+f/2,e=o-l<e?o-l:e,t=o+l>t?o+l:t,r=d-u<r?d-u:r,a=d+u>a?d+u:a;else for(var g=n.points,_=0,y=0,m=0,x=0,b=0,T=0,v=0,E=0,S=0;S+2<g.length;S+=2)(o=g[S],d=g[S+1],_=g[S+2],y=g[S+3],m=p(_-o),x=p(y-d),u=f,l=s(m*m+x*x),!(1e-9>l))&&(b=(u/l*x+m)/2,T=(u/l*m+x)/2,v=(_+o)/2,E=(y+d)/2,e=v-b<e?v-b:e,t=v+b>t?v+b:t,r=E-T<r?E-T:r,a=E+T>a?E+T:a)}else e=0,t=0,r=0,a=0;var I=this.boundsPadding;this._localBounds.minX=e-I,this._localBounds.maxX=t+I,this._localBounds.minY=r-I,this._localBounds.maxY=a+I},t.prototype.drawShape=function(e){this.currentPath&&2>=this.currentPath.shape.points.length&&this.graphicsData.pop(),this.currentPath=null;var t=new b.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,e);return this.graphicsData.push(t),t.type===C.SHAPES.POLY&&(t.shape.closed=t.shape.closed||this.filling,this.currentPath=t),this.dirty++,t},t.prototype.generateCanvasTexture=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),a=_.default.create(r.width,r.height,e,t);U||(U=new D.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(F),F.invert(),F.tx-=r.x,F.ty-=r.y,U.render(this,a,!0,F);var n=m.default.fromCanvas(a.baseTexture._canvasRenderTarget.canvas,e,'graphics');return n.baseTexture.resolution=t,n.baseTexture.update(),n},t.prototype.closePath=function(){var e=this.currentPath;return e&&e.shape&&e.shape.close(),this},t.prototype.addHole=function(){var e=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(e.shape),this.currentPath=null,this},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var a in this._webgl)for(var n=0;n<this._webgl[a].data.length;++n)this._webgl[a].data[n].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},t}(f.default),U;t.default=A,A._SPRITE_TEXTURE=null},function(e,t){'use strict';t.__esModule=!0,t.default=function(e,t,r,a,o,d,s,l){var u=8<arguments.length&&arguments[8]!==void 0?arguments[8]:[],p=20,n=0,c=0,h=0,f=0,g=0;u.push(e,t);for(var _=1,i=0;_<=p;++_)i=_/p,n=1-i,c=n*n,h=c*n,f=i*i,g=f*i,u.push(h*e+3*c*i*r+3*n*f*o+g*s,h*t+3*c*i*a+3*n*f*d+g*l);return u}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=r(2),s=r(1),l=r(16),u=a(l),p=r(17),c=a(p),h=r(143),f=a(h),g=r(144),_=a(g),y=r(145),m=a(y),x=r(146),b=a(x),T=r(147),v=a(T),E=r(148),S=a(E),C=function(e){function t(r){n(this,t);var a=o(this,e.call(this,r));return a.graphicsDataPool=[],a.primitiveShader=null,a.gl=r.gl,a.CONTEXT_UID=0,a}return i(t,e),t.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new _.default(this.gl)},t.prototype.destroy=function(){u.default.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},t.prototype.render=function(e){var t=this.renderer,r=t.gl,a=e._webGL[this.CONTEXT_UID],o;a&&e.dirty===a.dirty||(this.updateGraphics(e),a=e._webGL[this.CONTEXT_UID]);var s=this.primitiveShader;t.bindShader(s),t.state.setBlendMode(e.blendMode);for(var l=0,i=a.data.length;l<i;l++){o=a.data[l];var n=o.shader;t.bindShader(n),n.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),n.uniforms.tint=(0,d.hex2rgb)(e.tint),n.uniforms.alpha=e.worldAlpha,t.bindVao(o.vao),o.nativeLines?r.drawArrays(r.LINES,0,o.points.length/6):o.vao.draw(r.TRIANGLE_STRIP,o.indices.length)}},t.prototype.updateGraphics=function(e){var t=this.renderer.gl,r=e._webGL[this.CONTEXT_UID];if(r||(r=e._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:t,clearDirty:-1,dirty:-1}),r.dirty=e.dirty,e.clearDirty!==r.clearDirty){r.clearDirty=e.clearDirty;for(var a=0;a<r.data.length;a++)this.graphicsDataPool.push(r.data[a]);r.data.length=0,r.lastIndex=0}for(var n=void 0,o=void 0,i=r.lastIndex,d;i<e.graphicsData.length;i++)d=e.graphicsData[i],n=this.getWebGLData(r,0),d.nativeLines&&d.lineWidth&&(o=this.getWebGLData(r,0,!0),r.lastIndex++),d.type===s.SHAPES.POLY&&(0,m.default)(d,n,o),d.type===s.SHAPES.RECT?(0,b.default)(d,n,o):d.type===s.SHAPES.CIRC||d.type===s.SHAPES.ELIP?(0,S.default)(d,n,o):d.type===s.SHAPES.RREC&&(0,v.default)(d,n,o),r.lastIndex++;this.renderer.bindVao(null);for(var l=0;l<r.data.length;l++)n=r.data[l],n.dirty&&n.upload()},t.prototype.getWebGLData=function(e,t,r){var a=e.data[e.data.length-1];return(!a||a.nativeLines!==r||3.2e5<a.points.length)&&(a=this.graphicsDataPool.pop()||new f.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),a.nativeLines=r,a.reset(t),e.data.push(a)),a.dirty=!0,a},t}(u.default);t.default=C,c.default.registerPlugin('graphics',C)},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(5),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i=function(){function e(t,r,n){a(this,e),this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(t),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(t),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new o.default.VertexArrayObject(t,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,t.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,t.FLOAT,!1,24,8)}return e.prototype.reset=function(){this.points.length=0,this.indices.length=0},e.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},e.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},e}();t.default=i},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(13),d=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(e){function t(r){return a(this,t),n(this,e.call(this,r,'attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}','varying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}'))}return o(t,e),t}(d.default);t.default=s},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e,t,a){e.points=e.shape.points.slice();var n=e.points;if(e.fill&&6<=n.length){for(var l=[],u=e.holes,p=0,i;p<u.length;p++)i=u[p],l.push(n.length/2),n=n.concat(i.points);var c=t.points,h=t.indices,f=n.length/2,_=(0,d.hex2rgb)(e.fillColor),y=e.fillAlpha,m=_[0]*y,r=_[1]*y,g=_[2]*y,x=(0,s.default)(n,l,2);if(!x)return;for(var b=c.length/6,T=0;T<x.length;T+=3)h.push(x[T]+b),h.push(x[T]+b),h.push(x[T+1]+b),h.push(x[T+2]+b),h.push(x[T+2]+b);for(var v=0;v<f;v++)c.push(n[2*v],n[2*v+1],m,r,g,y)}0<e.lineWidth&&(0,o.default)(e,t,a)};var n=r(19),o=a(n),d=r(2),i=r(65),s=a(i)},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(e,t,a){var i=e.shape,d=i.x,s=i.y,l=i.width,u=i.height;if(e.fill){var p=(0,o.hex2rgb)(e.fillColor),c=e.fillAlpha,h=p[0]*c,r=p[1]*c,f=p[2]*c,g=t.points,_=t.indices,y=g.length/6;g.push(d,s),g.push(h,r,f,c),g.push(d+l,s),g.push(h,r,f,c),g.push(d,s+u),g.push(h,r,f,c),g.push(d+l,s+u),g.push(h,r,f,c),_.push(y,y,y+1,y+2,y+3,y+3)}if(e.lineWidth){var m=e.points;e.points=[d,s,d+l,s,d+l,s+u,d,s+u,d,s],(0,n.default)(e,t,a),e.points=m}};var a=r(19),n=function(e){return e&&e.__esModule?e:{default:e}}(a),o=r(2)},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return e+(t-e)*r}function n(e,t,r,a,d,s){for(var l=6<arguments.length&&arguments[6]!==void 0?arguments[6]:[],u=20,n=l,p=0,c=0,h=0,f=0,g=0,_=0,y=0,i=0;y<=u;++y)i=y/u,p=o(e,r,i),c=o(t,a,i),h=o(r,d,i),f=o(a,s,i),g=o(p,h,i),_=o(c,f,i),n.push(g,_);return n}t.__esModule=!0,t.default=function(e,t,a){var o=e.shape,s=o.x,p=o.y,c=o.width,h=o.height,f=o.radius,_=[];if(_.push(s,p+f),n(s,p+h-f,s,p+h,s+f,p+h,_),n(s+c-f,p+h,s+c,p+h,s+c,p+h-f,_),n(s+c,p+f,s+c,p,s+c-f,p,_),n(s+f,p,s,p,s,p+f+1e-10,_),e.fill){for(var y=(0,u.hex2rgb)(e.fillColor),m=e.fillAlpha,x=y[0]*m,r=y[1]*m,g=y[2]*m,b=t.points,T=t.indices,v=b.length/6,E=(0,d.default)(_,null,2),S=0,i=E.length;S<i;S+=3)T.push(E[S]+v),T.push(E[S]+v),T.push(E[S+1]+v),T.push(E[S+2]+v),T.push(E[S+2]+v);for(var C=0,I=_.length;C<I;C++)b.push(_[C],_[++C],x,r,g,m)}if(e.lineWidth){var P=e.points;e.points=_,(0,l.default)(e,t,a),e.points=P}};var i=r(65),d=a(i),s=r(19),l=a(s),u=r(2)},function(e,t,r){'use strict';var a=Math.floor,n=Math.sin,o=Math.cos,d=Math.sqrt;t.__esModule=!0,t.default=function(e,t,p){var c=e.shape,h=c.x,f=c.y,_,y;if(e.type===l.SHAPES.CIRC?(_=c.radius,y=c.radius):(_=c.width,y=c.height),0!==_&&0!==y){var m=a(30*d(c.radius))||a(15*d(c.width+c.height)),x=2*Math.PI/m;if(e.fill){var T=(0,u.hex2rgb)(e.fillColor),v=e.fillAlpha,E=T[0]*v,r=T[1]*v,g=T[2]*v,b=t.points,S=t.indices,C=b.length/6;S.push(C);for(var I=0;I<m+1;I++)b.push(h,f,E,r,g,v),b.push(h+n(x*I)*_,f+o(x*I)*y,E,r,g,v),S.push(C++,C++);S.push(C-1)}if(e.lineWidth){var i=e.points;e.points=[];for(var P=0;P<m+1;P++)e.points.push(h+n(x*P)*_,f+o(x*P)*y);(0,s.default)(e,t,p),e.points=i}}};var i=r(19),s=function(e){return e&&e.__esModule?e:{default:e}}(i),l=r(1),u=r(2)},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(11),o=function(e){return e&&e.__esModule?e:{default:e}}(n),d=r(1),i=function(){function e(t){a(this,e),this.renderer=t}return e.prototype.render=function(e){var t=this.renderer,r=t.context,a=e.worldAlpha,n=e.transform.worldTransform,o=t.resolution;this._prevTint!==this.tint&&(this.dirty=!0),r.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o,n.ty*o),e.dirty&&(this.updateGraphicsTint(e),e.dirty=!1),t.setBlendMode(e.blendMode);for(var s=0;s<e.graphicsData.length;s++){var i=e.graphicsData[s],l=i.shape,u=i._fillTint,p=i._lineTint;if(r.lineWidth=i.lineWidth,i.type===d.SHAPES.POLY){r.beginPath(),this.renderPolygon(l.points,l.closed,r);for(var c=0;c<i.holes.length;c++)this.renderPolygon(i.holes[c].points,!0,r);i.fill&&(r.globalAlpha=i.fillAlpha*a,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*a,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.stroke())}else if(i.type===d.SHAPES.RECT)(i.fillColor||0===i.fillColor)&&(r.globalAlpha=i.fillAlpha*a,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fillRect(l.x,l.y,l.width,l.height)),i.lineWidth&&(r.globalAlpha=i.lineAlpha*a,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.strokeRect(l.x,l.y,l.width,l.height));else if(i.type===d.SHAPES.CIRC)r.beginPath(),r.arc(l.x,l.y,l.radius,0,2*Math.PI),r.closePath(),i.fill&&(r.globalAlpha=i.fillAlpha*a,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*a,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.stroke());else if(i.type===d.SHAPES.ELIP){var f=2*l.width,g=2*l.height,h=l.x-f/2,_=l.y-g/2;r.beginPath();var y=0.5522848,m=f/2*y,x=g/2*y,b=h+f,T=_+g,v=h+f/2,E=_+g/2;r.moveTo(h,E),r.bezierCurveTo(h,E-x,v-m,_,v,_),r.bezierCurveTo(v+m,_,b,E-x,b,E),r.bezierCurveTo(b,E+x,v+m,T,v,T),r.bezierCurveTo(v-m,T,h,E+x,h,E),r.closePath(),i.fill&&(r.globalAlpha=i.fillAlpha*a,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*a,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.stroke())}else if(i.type===d.SHAPES.RREC){var S=l.x,C=l.y,I=l.width,P=l.height,R=l.radius,M=0|Math.min(I,P)/2;R=R>M?M:R,r.beginPath(),r.moveTo(S,C+R),r.lineTo(S,C+P-R),r.quadraticCurveTo(S,C+P,S+R,C+P),r.lineTo(S+I-R,C+P),r.quadraticCurveTo(S+I,C+P,S+I,C+P-R),r.lineTo(S+I,C+R),r.quadraticCurveTo(S+I,C,S+I-R,C),r.lineTo(S+R,C),r.quadraticCurveTo(S,C,S,C+R),r.closePath(),(i.fillColor||0===i.fillColor)&&(r.globalAlpha=i.fillAlpha*a,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*a,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.stroke())}}},e.prototype.updateGraphicsTint=function(e){e._prevTint=e.tint;for(var t=(255&e.tint>>16)/255,r=(255&e.tint>>8)/255,a=(255&e.tint)/255,n=0;n<e.graphicsData.length;++n){var o=e.graphicsData[n],i=0|o.fillColor,d=0|o.lineColor;o._fillTint=(255*((255&i>>16)/255*t)<<16)+(255*((255&i>>8)/255*r)<<8)+255*((255&i)/255*a),o._lineTint=(255*((255&d>>16)/255*t)<<16)+(255*((255&d>>8)/255*r)<<8)+255*((255&d)/255*a)}},e.prototype.renderPolygon=function(e,t,r){r.moveTo(e[0],e[1]);for(var a=1;a<e.length/2;++a)r.lineTo(e[2*a],e[2*a+1]);t&&r.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();t.default=i,o.default.registerPlugin('graphics',i)},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=Math.floor;t.__esModule=!0;var o=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(0),i=r(2),s=function(){function e(t,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;a(this,e),this.baseTexture=t,this.textures={},this.data=r,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return o(e,null,[{key:'BATCH_SIZE',get:function(){return 1e3}}]),e.prototype._updateResolution=function(e){var t=this.data.meta.scale,r=(0,i.getResolutionOfUrl)(e,null);return null===r&&(r=void 0===t?1:parseFloat(t)),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,a=e.BATCH_SIZE,o=this.baseTexture.sourceScale;r-t<a&&r<this._frameKeys.length;){var s=this._frameKeys[r],i=this._frames[s].frame;if(i){var l=null,u=null,p=new d.Rectangle(0,0,n(this._frames[s].sourceSize.w*o)/this.resolution,n(this._frames[s].sourceSize.h*o)/this.resolution);l=this._frames[s].rotated?new d.Rectangle(n(i.x*o)/this.resolution,n(i.y*o)/this.resolution,n(i.h*o)/this.resolution,n(i.w*o)/this.resolution):new d.Rectangle(n(i.x*o)/this.resolution,n(i.y*o)/this.resolution,n(i.w*o)/this.resolution,n(i.h*o)/this.resolution),this._frames[s].trimmed&&(u=new d.Rectangle(n(this._frames[s].spriteSourceSize.x*o)/this.resolution,n(this._frames[s].spriteSourceSize.y*o)/this.resolution,n(i.w*o)/this.resolution,n(i.h*o)/this.resolution)),this.textures[s]=new d.Texture(this.baseTexture,l,p,u,this._frames[s].rotated?2:0),d.Texture.addToCache(this.textures[s],s)}r++}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():t._parseComplete()},0)},e.prototype.destroy=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];for(var t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&this.baseTexture.destroy(),this.baseTexture=null},e}();t.default=s},function(e,t){'use strict';function r(e){var t=new Error().stack;'undefined'==typeof t?console.warn('Deprecation Warning: ',e):(t=t.split('\n').splice(3).join('\n'),console.groupCollapsed?(console.groupCollapsed('%cDeprecation Warning: %c%s','color:#614108;background:#fffbe6','font-weight:normal;color:#614108;background:#fffbe6',e),console.warn(t),console.groupEnd()):(console.warn('Deprecation Warning: ',e),console.warn(t)))}t.__esModule=!0,t.default=function(e){var t=e.mesh,a=e.particles,n=e.extras,o=e.filters,d=e.prepare,s=e.loaders,l=e.interaction;Object.defineProperties(e,{SpriteBatch:{get:function(){throw new ReferenceError('SpriteBatch does not exist any more, please use the new ParticleContainer instead.')}},AssetLoader:{get:function(){throw new ReferenceError('The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.')}},Stage:{get:function(){return r('You do not need to use a PIXI Stage any more, you can simply render any container.'),e.Container}},DisplayObjectContainer:{get:function(){return r('DisplayObjectContainer has been shortened to Container, please use Container from now on.'),e.Container}},Strip:{get:function(){return r('The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.'),t.Mesh}},Rope:{get:function(){return r('The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.'),t.Rope}},ParticleContainer:{get:function(){return r('The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.'),a.ParticleContainer}},MovieClip:{get:function(){return r('The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.'),n.AnimatedSprite}},TilingSprite:{get:function(){return r('The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.'),n.TilingSprite}},BitmapText:{get:function(){return r('The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.'),n.BitmapText}},blendModes:{get:function(){return r('The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.'),e.BLEND_MODES}},scaleModes:{get:function(){return r('The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.'),e.SCALE_MODES}},BaseTextureCache:{get:function(){return r('The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.'),e.utils.BaseTextureCache}},TextureCache:{get:function(){return r('The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.'),e.utils.TextureCache}},math:{get:function(){return r('The math namespace is deprecated, please access members already accessible on PIXI.'),e}},AbstractFilter:{get:function(){return r('AstractFilter has been renamed to Filter, please use PIXI.Filter'),e.Filter}},TransformManual:{get:function(){return r('TransformManual has been renamed to TransformBase, please update your pixi-spine'),e.TransformBase}},TARGET_FPMS:{get:function(){return r('PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS'),e.settings.TARGET_FPMS},set:function(t){r('PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS'),e.settings.TARGET_FPMS=t}},FILTER_RESOLUTION:{get:function(){return r('PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION'),e.settings.FILTER_RESOLUTION},set:function(t){r('PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION'),e.settings.FILTER_RESOLUTION=t}},RESOLUTION:{get:function(){return r('PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION'),e.settings.RESOLUTION},set:function(t){r('PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION'),e.settings.RESOLUTION=t}},MIPMAP_TEXTURES:{get:function(){return r('PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES'),e.settings.MIPMAP_TEXTURES},set:function(t){r('PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES'),e.settings.MIPMAP_TEXTURES=t}},SPRITE_BATCH_SIZE:{get:function(){return r('PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE'),e.settings.SPRITE_BATCH_SIZE},set:function(t){r('PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE'),e.settings.SPRITE_BATCH_SIZE=t}},SPRITE_MAX_TEXTURES:{get:function(){return r('PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES'),e.settings.SPRITE_MAX_TEXTURES},set:function(t){r('PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES'),e.settings.SPRITE_MAX_TEXTURES=t}},RETINA_PREFIX:{get:function(){return r('PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX'),e.settings.RETINA_PREFIX},set:function(t){r('PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX'),e.settings.RETINA_PREFIX=t}},DEFAULT_RENDER_OPTIONS:{get:function(){return r('PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS'),e.settings.RENDER_OPTIONS}}});for(var u=[{parent:'TRANSFORM_MODE',target:'TRANSFORM_MODE'},{parent:'GC_MODES',target:'GC_MODE'},{parent:'WRAP_MODES',target:'WRAP_MODE'},{parent:'SCALE_MODES',target:'SCALE_MODE'},{parent:'PRECISION',target:'PRECISION_FRAGMENT'}],p=function(t){var a=u[t];Object.defineProperty(e[a.parent],'DEFAULT',{get:function(){return r('PIXI.'+a.parent+'.DEFAULT has been deprecated, '+('please use PIXI.settings.'+a.target)),e.settings[a.target]},set:function(t){r('PIXI.'+a.parent+'.DEFAULT has been deprecated, '+('please use PIXI.settings.'+a.target)),e.settings[a.target]=t}})},c=0;c<u.length;c++)p(c);Object.defineProperties(e.settings,{PRECISION:{get:function(){return r('PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT'),e.settings.PRECISION_FRAGMENT},set:function(t){r('PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT'),e.settings.PRECISION_FRAGMENT=t}}}),n.AnimatedSprite&&Object.defineProperties(n,{MovieClip:{get:function(){return r('The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.'),n.AnimatedSprite}}}),n&&Object.defineProperties(n,{TextureTransform:{get:function(){return r('The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on.'),e.TextureMatrix}}}),e.DisplayObject.prototype.generateTexture=function(e,t,a){return r('generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)'),e.generateTexture(this,t,a)},e.Graphics.prototype.generateTexture=function(e,t){return r('graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture'),this.generateCanvasTexture(e,t)},e.GroupD8.isSwapWidthHeight=function(t){return r('GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical'),e.GroupD8.isVertical(t)},e.RenderTexture.prototype.render=function(e,t,a,n){this.legacyRenderer.render(e,this,a,t,!n),r('RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)')},e.RenderTexture.prototype.getImage=function(e){return r('RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)'),this.legacyRenderer.extract.image(e)},e.RenderTexture.prototype.getBase64=function(e){return r('RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)'),this.legacyRenderer.extract.base64(e)},e.RenderTexture.prototype.getCanvas=function(e){return r('RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)'),this.legacyRenderer.extract.canvas(e)},e.RenderTexture.prototype.getPixels=function(e){return r('RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)'),this.legacyRenderer.pixels(e)},e.Sprite.prototype.setTexture=function(e){this.texture=e,r('setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;')},n.BitmapText&&(n.BitmapText.prototype.setText=function(e){this.text=e,r('setText is now deprecated, please use the text property, e.g : myBitmapText.text = \'my text\';')}),e.Text.prototype.setText=function(e){this.text=e,r('setText is now deprecated, please use the text property, e.g : myText.text = \'my text\';')},e.Text.calculateFontProperties=function(t){return r('Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont'),e.TextMetrics.measureFont(t)},Object.defineProperties(e.Text,{fontPropertiesCache:{get:function(){return r('Text.fontPropertiesCache is deprecated'),e.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return r('Text.fontPropertiesCanvas is deprecated'),e.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return r('Text.fontPropertiesContext is deprecated'),e.TextMetrics._context}}}),e.Text.prototype.setStyle=function(e){this.style=e,r('setStyle is now deprecated, please use the style property, e.g : myText.style = style;')},e.Text.prototype.determineFontProperties=function(t){return r('determineFontProperties is now deprecated, please use TextMetrics.measureFont method'),e.TextMetrics.measureFont(t)},e.Text.getFontStyle=function(t){return r('getFontStyle is now deprecated, please use TextStyle.toFontString() instead'),t=t||{},t instanceof e.TextStyle||(t=new e.TextStyle(t)),t.toFontString()},Object.defineProperties(e.TextStyle.prototype,{font:{get:function(){r('text style property \'font\' is now deprecated, please use the \'fontFamily\', \'fontSize\', \'fontStyle\', \'fontVariant\' and \'fontWeight\' properties from now on');var e='number'==typeof this._fontSize?this._fontSize+'px':this._fontSize;return this._fontStyle+' '+this._fontVariant+' '+this._fontWeight+' '+e+' '+this._fontFamily},set:function(e){r('text style property \'font\' is now deprecated, please use the \'fontFamily\',\'fontSize\',fontStyle\',\'fontVariant\' and \'fontWeight\' properties from now on'),this._fontStyle=1<e.indexOf('italic')?'italic':-1<e.indexOf('oblique')?'oblique':'normal',this._fontVariant=-1<e.indexOf('small-caps')?'small-caps':'normal';var t=e.split(' '),a=-1;this._fontSize=26;for(var n=0;n<t.length;++n)if(t[n].match(/(px|pt|em|%)/)){a=n,this._fontSize=t[n];break}this._fontWeight='normal';for(var o=0;o<a;++o)if(t[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=t[o];break}if(-1<a&&a<t.length-1){this._fontFamily='';for(var i=a+1;i<t.length;++i)this._fontFamily+=t[i]+' ';this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily='Arial';this.styleID++}}}),e.Texture.prototype.setFrame=function(e){this.frame=e,r('setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;')},e.Texture.addTextureToCache=function(t,a){e.Texture.addToCache(t,a),r('Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.')},e.Texture.removeTextureFromCache=function(t){return r('Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache'),e.BaseTexture.removeFromCache(t),e.Texture.removeFromCache(t)},Object.defineProperties(o,{AbstractFilter:{get:function(){return r('AstractFilter has been renamed to Filter, please use PIXI.Filter'),e.AbstractFilter}},SpriteMaskFilter:{get:function(){return r('filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.'),e.SpriteMaskFilter}},VoidFilter:{get:function(){return r('VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter'),o.AlphaFilter}}}),e.utils.uuid=function(){return r('utils.uuid() is deprecated, please use utils.uid() from now on.'),e.utils.uid()},e.utils.canUseNewCanvasBlendModes=function(){return r('utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on'),e.CanvasTinter.canUseMultiply};var i=!0;if(Object.defineProperty(e.utils,'_saidHello',{set:function(e){e&&(r('PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()'),this.skipHello()),i=e},get:function(){return i}}),d.BasePrepare&&(d.BasePrepare.prototype.register=function(e,t){return r('renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook'),e&&this.registerFindHook(e),t&&this.registerUploadHook(t),this}),d.canvas&&Object.defineProperty(d.canvas,'UPLOADS_PER_FRAME',{set:function(){r('PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer')},get:function(){return r('PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter'),NaN}}),d.webgl&&Object.defineProperty(d.webgl,'UPLOADS_PER_FRAME',{set:function(){r('PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer')},get:function(){return r('PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter'),NaN}}),s.Loader){var h=s.Resource,f=s.Loader;Object.defineProperties(h.prototype,{isJson:{get:function(){return r('The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.'),this.type===h.TYPE.JSON}},isXml:{get:function(){return r('The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.'),this.type===h.TYPE.XML}},isImage:{get:function(){return r('The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.'),this.type===h.TYPE.IMAGE}},isAudio:{get:function(){return r('The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.'),this.type===h.TYPE.AUDIO}},isVideo:{get:function(){return r('The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.'),this.type===h.TYPE.VIDEO}}}),Object.defineProperties(f.prototype,{before:{get:function(){return r('The before() method is deprecated, please use pre().'),this.pre}},after:{get:function(){return r('The after() method is deprecated, please use use().'),this.use}}})}l.interactiveTarget&&Object.defineProperty(l.interactiveTarget,'defaultCursor',{set:function(e){r('Property defaultCursor has been replaced with \'cursor\'. '),this.cursor=e},get:function(){return r('Property defaultCursor has been replaced with \'cursor\'. '),this.cursor}}),l.InteractionManager&&(Object.defineProperty(l.InteractionManager,'defaultCursorStyle',{set:function(e){r('Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. '),this.cursorStyles.default=e},get:function(){return r('Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. '),this.cursorStyles.default}}),Object.defineProperty(l.InteractionManager,'currentCursorStyle',{set:function(e){r('Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.'),this.currentCursorMode=e},get:function(){return r('Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.'),this.currentCursorMode}}))}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(68);Object.defineProperty(t,'accessibleTarget',{enumerable:!0,get:function(){return a(n).default}});var o=r(153);Object.defineProperty(t,'AccessibilityManager',{enumerable:!0,get:function(){return a(o).default}})},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=r(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),i=r(26),s=a(i),l=r(68),u=a(l);d.utils.mixins.delayMixin(d.DisplayObject.prototype,u.default);var p=100,c=2,h=1,f=function(){function e(t){n(this,e),(s.default.tablet||s.default.phone)&&!navigator.isCocoonJS&&this.createTouchHook();var r=document.createElement('div');r.style.width=p+'px',r.style.height=p+'px',r.style.position='absolute',r.style.top=0+'px',r.style.left=0+'px',r.style.zIndex=c,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener('keydown',this._onKeyDown,!1)}return e.prototype.createTouchHook=function(){var e=this,t=document.createElement('button');t.style.width=h+'px',t.style.height=h+'px',t.style.position='absolute',t.style.top=-1e3+'px',t.style.left=-1e3+'px',t.style.zIndex=2,t.style.backgroundColor='#FF0000',t.title='HOOK DIV',t.addEventListener('focus',function(){e.isMobileAccessabillity=!0,e.activate(),document.body.removeChild(t)}),document.body.appendChild(t)},e.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener('mousemove',this._onMouseMove,!0),window.removeEventListener('keydown',this._onKeyDown,!1),this.renderer.on('postrender',this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){!this.isActive||this.isMobileAccessabillity||(this.isActive=!1,window.document.removeEventListener('mousemove',this._onMouseMove),window.addEventListener('keydown',this._onKeyDown,!1),this.renderer.off('postrender',this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible){e.accessible&&e.interactive&&(!e._accessibleActive&&this.addChild(e),e.renderId=this.renderId);for(var t=e.children,r=t.length-1;0<=r;r--)this.updateAccessibleObjects(t[r])}},e.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=e.width/this.renderer.width,r=e.height/this.renderer.height,a=this.div;a.style.left=e.left+'px',a.style.top=e.top+'px',a.style.width=this.renderer.width+'px',a.style.height=this.renderer.height+'px';for(var n=0,o;n<this.children.length;n++)if(o=this.children[n],o.renderId!==this.renderId)o._accessibleActive=!1,d.utils.removeItems(this.children,n,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,n--,0===this.children.length&&this.deactivate();else{a=o._accessibleDiv;var i=o.hitArea,s=o.worldTransform;o.hitArea?(a.style.left=(s.tx+i.x*s.a)*t+'px',a.style.top=(s.ty+i.y*s.d)*r+'px',a.style.width=i.width*s.a*t+'px',a.style.height=i.height*s.d*r+'px'):(i=o.getBounds(),this.capHitArea(i),a.style.left=i.x*t+'px',a.style.top=i.y*r+'px',a.style.width=i.width*t+'px',a.style.height=i.height*r+'px')}this.renderId++}},e.prototype.capHitArea=function(e){0>e.x&&(e.width+=e.x,e.x=0),0>e.y&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||(t=document.createElement('button'),t.style.width=p+'px',t.style.height=p+'px',t.style.backgroundColor=this.debug?'rgba(255,0,0,0.5)':'transparent',t.style.position='absolute',t.style.zIndex=c,t.style.borderStyle='none',t.addEventListener('click',this._onClick.bind(this)),t.addEventListener('focus',this._onFocus.bind(this)),t.addEventListener('focusout',this._onFocusOut.bind(this))),e.accessibleTitle?t.title=e.accessibleTitle:!e.accessibleTitle&&!e.accessibleHint&&(t.title='displayObject '+this.tabIndex),e.accessibleHint&&t.setAttribute('aria-label',e.accessibleHint),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,'click',e.eventData)},e.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,'mouseover',e.eventData)},e.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,'mouseout',e.eventData)},e.prototype._onKeyDown=function(t){t.keyCode!==9||this.activate()},e.prototype._onMouseMove=function(){this.deactivate()},e.prototype.destroy=function(){this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener('mousemove',this._onMouseMove),window.removeEventListener('keydown',this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();t.default=f,d.WebGLRenderer.registerPlugin('accessibility',f),d.CanvasRenderer.registerPlugin('accessibility',f)},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(155);Object.defineProperty(t,'webgl',{enumerable:!0,get:function(){return a(n).default}});var o=r(156);Object.defineProperty(t,'canvas',{enumerable:!0,get:function(){return a(o).default}})},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n),i=new o.Rectangle,d=4,s=function(){function e(t){a(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function(e){var t=new Image;return t.src=this.base64(e),t},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var t=this.renderer,r=!1,a,n,s,l;e&&(e instanceof o.RenderTexture?l=e:l=this.renderer.generateTexture(e)),l?(a=l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=a.resolution,s=l.frame,r=!1):(a=this.renderer.rootRenderTarget,n=a.resolution,r=!0,s=i,s.width=a.size.width,s.height=a.size.height);var u=s.width*n,p=s.height*n,c=new o.CanvasRenderTarget(u,p);if(a){t.bindRenderTarget(a);var h=new Uint8Array(d*u*p),f=t.gl;f.readPixels(s.x*n,s.y*n,u,p,f.RGBA,f.UNSIGNED_BYTE,h);var g=c.context.getImageData(0,0,u,p);g.data.set(h),c.context.putImageData(g,0,0),r&&(c.context.scale(1,-1),c.context.drawImage(c.canvas,0,-p))}return c.canvas},e.prototype.pixels=function(e){var t=this.renderer,r,a,n,s;e&&(e instanceof o.RenderTexture?s=e:s=this.renderer.generateTexture(e)),s?(r=s.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],a=r.resolution,n=s.frame):(r=this.renderer.rootRenderTarget,a=r.resolution,n=i,n.width=r.size.width,n.height=r.size.height);var l=n.width*a,u=n.height*a,p=new Uint8Array(d*l*u);if(r){t.bindRenderTarget(r);var c=t.gl;c.readPixels(n.x*a,n.y*a,l,u,c.RGBA,c.UNSIGNED_BYTE,p)}return p},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();t.default=s,o.WebGLRenderer.registerPlugin('extract',s)},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=r(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n),i=new o.Rectangle,d=function(){function e(t){a(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function(e){var t=new Image;return t.src=this.base64(e),t},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var t=this.renderer,r,a,n,d;e&&(e instanceof o.RenderTexture?d=e:d=t.generateTexture(e)),d?(r=d.baseTexture._canvasRenderTarget.context,a=d.baseTexture._canvasRenderTarget.resolution,n=d.frame):(r=t.rootContext,n=i,n.width=this.renderer.width,n.height=this.renderer.height);var s=n.width*a,l=n.height*a,u=new o.CanvasRenderTarget(s,l),p=r.getImageData(n.x*a,n.y*a,s,l);return u.context.putImageData(p,0,0),u.canvas},e.prototype.pixels=function(e){var t=this.renderer,r,a,n,d;return e&&(e instanceof o.RenderTexture?d=e:d=t.generateTexture(e)),d?(r=d.baseTexture._canvasRenderTarget.context,a=d.baseTexture._canvasRenderTarget.resolution,n=d.frame):(r=t.rootContext,n=i,n.width=t.width,n.height=t.height),r.getImageData(0,0,n.width*a,n.height*a).data},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();t.default=d,o.CanvasRenderer.registerPlugin('extract',d)},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Math.floor;t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),u=function(e){function t(r,o){a(this,t);var i=n(this,e.call(this,r[0]instanceof l.Texture?r[0]:r[0].texture));return i._textures=null,i._durations=null,i.textures=r,i._autoUpdate=!1!==o,i.animationSpeed=1,i.loop=!0,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i.playing=!1,i}return o(t,e),t.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&l.ticker.shared.remove(this.update,this))},t.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&l.ticker.shared.add(this.update,this,l.UPDATE_PRIORITY.HIGH))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){var t=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=1e3*(t/60);0>a;)this._currentTime--,a+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*e);for(this._currentTime=i(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=t;0>this._currentTime&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<r?this.onLoop():0>this.animationSpeed&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},t.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t)},t.fromFrames=function(e){for(var r=[],a=0;a<e.length;++a)r.push(l.Texture.fromFrame(e[a]));return new t(r)},t.fromImages=function(e){for(var r=[],a=0;a<e.length;++a)r.push(l.Texture.fromImage(e[a]));return new t(r)},d(t,[{key:'totalFrames',get:function(){return this._textures.length}},{key:'textures',get:function(){return this._textures},set:function(e){if(e[0]instanceof l.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this.gotoAndStop(0),this.updateTexture()}},{key:'currentFrame',get:function(){var e=i(this._currentTime)%this._textures.length;return 0>e&&(e+=this._textures.length),e}}]),t}(l.Sprite);t.default=u},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),l=r(32),u=function(e){return e&&e.__esModule?e:{default:e}}(l),p=new s.Point,c=function(e){function t(r){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;a(this,t);var d=n(this,e.call(this,r));return d.tileTransform=new s.TransformStatic,d._width=o,d._height=i,d._canvasPattern=null,d.uvTransform=r.transform||new s.TextureMatrix(r),d.pluginName='tilingSprite',d.uvRespectAnchor=!1,d}return o(t,e),t.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},t.prototype._renderWebGL=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._renderCanvas=function(e){var t=this._texture;if(t.baseTexture.hasLoaded){var r=e.context,a=this.worldTransform,n=e.resolution,o=t.baseTexture,i=o.resolution,d=this.tilePosition.x/this.tileScale.x%t._frame.width*i,l=this.tilePosition.y/this.tileScale.y%t._frame.height*i;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var p=new s.CanvasRenderTarget(t._frame.width,t._frame.height,i);16777215===this.tint?p.context.drawImage(o.source,-t._frame.x*i,-t._frame.y*i):(this.tintedTexture=u.default.getTintedTexture(this,this.tint),p.context.drawImage(this.tintedTexture,0,0)),this.cachedTint=this.tint,this._canvasPattern=p.context.createPattern(p.canvas,'repeat')}r.globalAlpha=this.worldAlpha,r.setTransform(a.a*n,a.b*n,a.c*n,a.d*n,a.tx*n,a.ty*n),e.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/i,this.tileScale.y/i);var c=this.anchor.x*-this._width,h=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(d,l),r.fillRect(-d+c,-l+h,this._width/this.tileScale.x*i,this._height/this.tileScale.y*i)):(r.translate(d+c,l+h),r.fillRect(-d,-l,this._width/this.tileScale.x*i,this._height/this.tileScale.y*i))}},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,a)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),t||(!this._localBoundsRect&&(this._localBoundsRect=new s.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,p);var t=this._width,r=this._height,a=-t*this.anchor._x;if(p.x>=a&&p.x<a+t){var n=-r*this.anchor._y;if(p.y>=n&&p.y<n+r)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvTransform=null},t.from=function(e,r,a){return new t(s.Texture.from(e),r,a)},t.fromFrame=function(e,r,a){var n=s.utils.TextureCache[e];if(!n)throw new Error('The frameId "'+e+'" does not exist in the texture cache '+this);return new t(n,r,a)},t.fromImage=function(e,r,a,n,o){return new t(s.Texture.fromImage(e,n,o),r,a)},i(t,[{key:'clampMargin',get:function(){return this.uvTransform.clampMargin},set:function(e){this.uvTransform.clampMargin=e,this.uvTransform.update(!0)}},{key:'tileScale',get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copy(e)}},{key:'tilePosition',get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copy(e)}},{key:'width',get:function(){return this._width},set:function(e){this._width=e}},{key:'height',get:function(){return this._height},set:function(e){this._height=e}}]),t}(s.Sprite);t.default=c},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(i),s=r(1),l=r(6),u=new d.Matrix,p=function(e){function t(r){a(this,t);var o=n(this,e.call(this,r));return o.shader=null,o.simpleShader=null,o.quad=null,o}return o(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new d.Shader(e,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n'),this.simpleShader=new d.Shader(e,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n'),this.renderer.bindVao(null),this.quad=new d.Quad(e,this.renderer.state.attribState),this.quad.initVao(this.shader)},t.prototype.render=function(e){var t=this.renderer,r=this.quad;t.bindVao(r.vao);var a=r.vertices;a[0]=a[6]=e._width*-e.anchor.x,a[1]=a[3]=e._height*-e.anchor.y,a[2]=a[4]=e._width*(1-e.anchor.x),a[5]=a[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&(a=r.uvs,a[0]=a[6]=-e.anchor.x,a[1]=a[3]=-e.anchor.y,a[2]=a[4]=1-e.anchor.x,a[5]=a[7]=1-e.anchor.y),r.upload();var n=e._texture,o=n.baseTexture,i=e.tileTransform.localTransform,l=e.uvTransform,p=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;p&&(o._glTextures[t.CONTEXT_UID]?p=o.wrapMode!==s.WRAP_MODES.CLAMP:o.wrapMode===s.WRAP_MODES.CLAMP&&(o.wrapMode=s.WRAP_MODES.REPEAT));var c=p?this.simpleShader:this.shader;t.bindShader(c);var f=n.width,g=n.height,h=e._width,_=e._height;u.set(i.a*f/h,i.b*f/_,i.c*g/h,i.d*g/_,i.tx/h,i.ty/_),u.invert(),p?u.prepend(l.mapCoord):(c.uniforms.uMapCoord=l.mapCoord.toArray(!0),c.uniforms.uClampFrame=l.uClampFrame,c.uniforms.uClampOffset=l.uClampOffset),c.uniforms.uTransform=u.toArray(!0),c.uniforms.uColor=d.utils.premultiplyTintToRgba(e.tint,e.worldAlpha,c.uniforms.uColor,o.premultipliedAlpha),c.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),c.uniforms.uSampler=t.bindTexture(n),t.setBlendMode(d.utils.correctBlendMode(e.blendMode,o.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},t}(d.ObjectRenderer);t.default=p,d.WebGLRenderer.registerPlugin('tilingSprite',p)},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=Math.max;t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l),p=r(36),c=a(p),h=r(2),f=r(3),g=a(f),_=function(e){function t(r){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};n(this,t);var i=o(this,e.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0===a.tint?16777215:a.tint,align:a.align||'left',name:null,size:0},i.font=a.font,i._text=r,i._maxWidth=0,i._maxLineHeight=0,i._anchor=new c.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return i(t,e),t.prototype.updateText=function(){for(var e=t.fonts[this._font.name],r=this._font.size/e.size,a=new u.Point,n=[],o=[],s=null,l=0,p=0,h=0,f=-1,g=0,_=0,y=0,m=0,i;m<this.text.length;m++){if(i=this.text.charCodeAt(m),/(\s)/.test(this.text.charAt(m))&&(f=m,g=l),/(?:\r\n|\r|\n)/.test(this.text.charAt(m))){o.push(l),p=d(p,l),h++,a.x=0,a.y+=e.lineHeight,s=null;continue}if(-1!==f&&0<this._maxWidth&&a.x*r>this._maxWidth){u.utils.removeItems(n,f-_,m-f),m=f,f=-1,++_,o.push(g),p=d(p,g),h++,a.x=0,a.y+=e.lineHeight,s=null;continue}var x=e.chars[i];x&&(s&&x.kerning[s]&&(a.x+=x.kerning[s]),n.push({texture:x.texture,line:h,charCode:i,position:new u.Point(a.x+x.xOffset,a.y+x.yOffset)}),l=a.x+(x.texture.width+x.xOffset),a.x+=x.xAdvance,y=d(y,x.yOffset+x.texture.height),s=i)}o.push(l),p=d(p,l);for(var b=[],T=0,v;T<=h;T++)v=0,'right'===this._font.align?v=p-o[T]:'center'===this._font.align&&(v=(p-o[T])/2),b.push(v);for(var E=n.length,S=this.tint,C=0,I;C<E;C++)I=this._glyphs[C],I?I.texture=n[C].texture:(I=new u.Sprite(n[C].texture),this._glyphs.push(I)),I.position.x=(n[C].position.x+b[n[C].line])*r,I.position.y=n[C].position.y*r,I.scale.x=I.scale.y=r,I.tint=S,I.parent||this.addChild(I);for(var c=E;c<this._glyphs.length;++c)this.removeChild(this._glyphs[c]);if(this._textWidth=p*r,this._textHeight=(a.y+e.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var P=0;P<E;P++)this._glyphs[P].x-=this._textWidth*this.anchor.x,this._glyphs[P].y-=this._textHeight*this.anchor.y;this._maxLineHeight=y*r},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},t.registerFont=function(e,r){var a={},n=e.getElementsByTagName('info')[0],o=e.getElementsByTagName('common')[0],d=e.getElementsByTagName('page')[0].getAttribute('file'),s=(0,h.getResolutionOfUrl)(d,g.default.RESOLUTION);a.font=n.getAttribute('face'),a.size=parseInt(n.getAttribute('size'),10),a.lineHeight=parseInt(o.getAttribute('lineHeight'),10)/s,a.chars={};for(var l=e.getElementsByTagName('char'),p=0;p<l.length;p++){var i=l[p],c=parseInt(i.getAttribute('id'),10),f=new u.Rectangle(parseInt(i.getAttribute('x'),10)/s+r.frame.x/s,parseInt(i.getAttribute('y'),10)/s+r.frame.y/s,parseInt(i.getAttribute('width'),10)/s,parseInt(i.getAttribute('height'),10)/s);a.chars[c]={xOffset:parseInt(i.getAttribute('xoffset'),10)/s,yOffset:parseInt(i.getAttribute('yoffset'),10)/s,xAdvance:parseInt(i.getAttribute('xadvance'),10)/s,kerning:{},texture:new u.Texture(r.baseTexture,f)}}for(var _=e.getElementsByTagName('kerning'),y=0;y<_.length;y++){var m=_[y],x=parseInt(m.getAttribute('first'),10)/s,b=parseInt(m.getAttribute('second'),10)/s,T=parseInt(m.getAttribute('amount'),10)/s;a.chars[b]&&(a.chars[b].kerning[x]=T)}return t.fonts[a.font]=a,a},s(t,[{key:'tint',get:function(){return this._font.tint},set:function(e){this._font.tint='number'==typeof e&&0<=e?e:16777215,this.dirty=!0}},{key:'align',get:function(){return this._font.align},set:function(e){this._font.align=e||'left',this.dirty=!0}},{key:'anchor',get:function(){return this._anchor},set:function(e){'number'==typeof e?this._anchor.set(e):this._anchor.copy(e)}},{key:'font',get:function(){return this._font},set:function(e){e&&('string'==typeof e?(e=e.split(' '),this._font.name=1===e.length?e[0]:e.slice(1).join(' '),this._font.size=2<=e.length?parseInt(e[0],10):t.fonts[this._font.name].size):(this._font.name=e.name,this._font.size='number'==typeof e.size?e.size:parseInt(e.size,10)),this.dirty=!0)}},{key:'text',get:function(){return this._text},set:function(e){e=e.toString()||' ',this._text===e||(this._text=e,this.dirty=!0)}},{key:'maxWidth',get:function(){return this._maxWidth},set:function(e){this._maxWidth===e||(this._maxWidth=e,this.dirty=!0)}},{key:'maxLineHeight',get:function(){return this.validate(),this._maxLineHeight}},{key:'textWidth',get:function(){return this.validate(),this._textWidth}},{key:'textHeight',get:function(){return this.validate(),this._textHeight}}]),t}(u.Container);t.default=_,_.fonts={}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var o=r(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),d=r(7),s=a(d),l=r(9),u=a(l),p=r(2),c=i.DisplayObject,h=new i.Matrix;c.prototype._cacheAsBitmap=!1,c.prototype._cacheData=!1;var f=function e(){n(this,e),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(c.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(!this._cacheData&&(this._cacheData=new f),t=this._cacheData,t.originalRenderWebGL=this.renderWebGL,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this._calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=t.originalRenderWebGL,this.renderCanvas=t.originalRenderCanvas,this._calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}}),c.prototype._renderCachedWebGL=function(e){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObject(e),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(e))},c.prototype._initCachedDisplayObject=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.alpha;this.alpha=1,e.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var a=this._filters[0].padding;r.pad(a)}var n=e._activeRenderTarget,o=e.filterManager.filterStack,d=i.RenderTexture.create(0|r.width,0|r.height),l='cacheAsBitmap_'+(0,p.uid)();this._cacheData.textureCacheId=l,u.default.addToCache(d.baseTexture,l),s.default.addToCache(d,l);var c=h;c.tx=-r.x,c.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,e.render(this,d,!0,c,!0),e.bindRenderTarget(n),e.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var f=new i.Sprite(d);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=t,f._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)}},c.prototype._renderCachedCanvas=function(e){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(e))},c.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.getLocalBounds(),r=this.alpha;this.alpha=1;var a=e.context,n=i.RenderTexture.create(0|t.width,0|t.height),o='cacheAsBitmap_'+(0,p.uid)();this._cacheData.textureCacheId=o,u.default.addToCache(n.baseTexture,o),s.default.addToCache(n,o);var d=h;this.transform.localTransform.copy(d),d.invert(),d.tx-=t.x,d.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,n,!0,d,!1),e.context=a,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var l=new i.Sprite(n);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(t.x/t.width),l.anchor.y=-(t.y/t.height),l._bounds=this._bounds,l.alpha=r,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=l,this.containsPoint=l.containsPoint.bind(l)}},c.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},c.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},c.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,u.default.removeFromCache(this._cacheData.textureCacheId),s.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},c.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)}},function(e,t,r){'use strict';var a=r(0),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a);n.DisplayObject.prototype.name=null,n.Container.prototype.getChildByName=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name===e)return this.children[t];return null}},function(e,t,r){'use strict';var a=r(0),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a);n.DisplayObject.prototype.getGlobalPosition=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new n.Point,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(165);Object.defineProperty(t,'FXAAFilter',{enumerable:!0,get:function(){return a(n).default}});var o=r(166);Object.defineProperty(t,'NoiseFilter',{enumerable:!0,get:function(){return a(o).default}});var i=r(167);Object.defineProperty(t,'DisplacementFilter',{enumerable:!0,get:function(){return a(i).default}});var d=r(168);Object.defineProperty(t,'BlurFilter',{enumerable:!0,get:function(){return a(d).default}});var s=r(70);Object.defineProperty(t,'BlurXFilter',{enumerable:!0,get:function(){return a(s).default}});var l=r(74);Object.defineProperty(t,'BlurYFilter',{enumerable:!0,get:function(){return a(l).default}});var u=r(169);Object.defineProperty(t,'ColorMatrixFilter',{enumerable:!0,get:function(){return a(u).default}});var p=r(170);Object.defineProperty(t,'AlphaFilter',{enumerable:!0,get:function(){return a(p).default}})},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(i),s=r(6),l=function(e){function t(){return a(this,t),n(this,e.call(this,'\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}','varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return o(t,e),t}(d.Filter);t.default=l},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),l=r(6),u=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0.5,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random();a(this,t);var i=n(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n'));return i.noise=r,i.seed=o,i}return o(t,e),i(t,[{key:'noise',get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e}},{key:'seed',get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e}}]),t}(s.Filter);t.default=u},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),l=r(6),u=function(e){function t(r,o){a(this,t);var i=new s.Matrix;r.renderable=!1;var d=n(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}','varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n'));return d.maskSprite=r,d.maskMatrix=i,d.uniforms.mapSampler=r._texture,d.uniforms.filterMatrix=i,d.uniforms.scale={x:1,y:1},(null===o||void 0===o)&&(o=20),d.scale=new s.Point(o,o),d}return o(t,e),t.prototype.apply=function(e,t,r){var a=1/r.destinationFrame.width*(r.size.width/t.size.width);this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*a,this.uniforms.scale.y=this.scale.y*a,e.applyFilter(this,t,r)},i(t,[{key:'map',get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e}}]),t}(s.Filter);t.default=u},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=Math.max,s=Math.abs;t.__esModule=!0;var l=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),u=r(0),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),c=r(70),h=a(c),f=r(74),g=a(f),_=function(e){function t(r,a,i,d){n(this,t);var s=o(this,e.call(this));return s.blurXFilter=new h.default(r,a,i,d),s.blurYFilter=new g.default(r,a,i,d),s.padding=0,s.resolution=i||p.settings.RESOLUTION,s.quality=a||4,s.blur=r||8,s}return i(t,e),t.prototype.apply=function(e,t,r){var a=e.getRenderTarget(!0);this.blurXFilter.apply(e,t,a,!0),this.blurYFilter.apply(e,a,r,!1),e.returnRenderTarget(a)},l(t,[{key:'blur',get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.padding=2*d(s(this.blurXFilter.strength),s(this.blurYFilter.strength))}},{key:'quality',get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:'blurX',get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.padding=2*d(s(this.blurXFilter.strength),s(this.blurYFilter.strength))}},{key:'blurY',get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.padding=2*d(s(this.blurXFilter.strength),s(this.blurYFilter.strength))}},{key:'blendMode',get:function(){return this.blurYFilter._blendMode},set:function(e){this.blurYFilter._blendMode=e}}]),t}(p.Filter);t.default=_},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),l=r(6),u=function(e){function t(){a(this,t);var r=n(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n'));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return o(t,e),t.prototype._loadMatrix=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)},t.prototype.greyscale=function(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var r=Math.cos(e),a=Math.sin(e),n=Math.sqrt,o=1/3,i=n(o);this._loadMatrix([r+(1-r)*o,o*(1-r)-i*a,o*(1-r)+i*a,0,0,o*(1-r)+i*a,r+o*(1-r),o*(1-r)-i*a,0,0,o*(1-r)-i*a,o*(1-r)+i*a,r+o*(1-r),0,0,0,0,0,1,0],t)},t.prototype.contrast=function(e,t){var r=(e||0)+1,a=-0.5*(r-1);this._loadMatrix([r,0,0,0,a,0,r,0,0,a,0,0,r,0,a,0,0,0,1,0],t)},t.prototype.saturate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],r=2*e/3+1,a=-0.5*(r-1);this._loadMatrix([r,a,a,0,0,a,r,a,0,0,a,a,r,0,0,0,0,0,1,0],t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([0.393,0.7689999,0.18899999,0,0,0.349,0.6859999,0.16799999,0,0,0.272,0.5339999,0.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-0.8545344976951645,-0.09155508482755585,0,11.793603434377337,-0.3087833385928097,1.7658908555458428,-0.10601743074722245,0,-70.35205161461398,-0.231103377548616,-0.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-0.3967382283601348,-0.03992559172921793,0,63.72958762196502,-0.16404339962244616,1.0835251566291304,-0.05498805115633132,0,24.732407896706203,-0.16786010706155763,-0.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([0.5997023498159715,0.34553243048391263,-0.2708298674538042,0,47.43192855600873,-0.037703249837783157,0.8609577587992641,0.15059552388459913,0,-36.96841498319127,0.24113635128153335,-0.07441037908422492,0.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([0.6279345635605994,0.3202183420819367,-0.03965408211312453,0,9.651285835294123,0.02578397704808868,0.6441188644374771,0.03259127616149294,0,7.462829176470591,0.0466055556782719,-0.0851232987247891,0.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,r,a,n){e=e||0.2,t=t||0.15,r=r||16770432,a=a||3375104;var o=(255&r>>16)/255,i=(255&r>>8)/255,d=(255&r)/255,s=(255&a>>16)/255,l=(255&a>>8)/255,u=(255&a)/255,p=[0.3,0.59,0.11,0,0,o,i,d,e,0,s,l,u,t,0,o-s,i-l,d-u,0,0];this._loadMatrix(p,n)},t.prototype.night=function(e,t){e=e||0.1;var r=[-2*e,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.predator=function(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,0.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,0.8044459223747253*e,0,0,0,1,0],t)},t.prototype.lsd=function(e){this._loadMatrix([2,-0.4,0.5,0,0,-0.5,2,-0.4,0,0,-0.4,-0.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},i(t,[{key:'matrix',get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}},{key:'alpha',get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),t}(s.Filter);t.default=u,u.prototype.grayscale=u.prototype.greyscale},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),l=r(6),u=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;a(this,t);var o=n(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n'));return o.alpha=r,o.glShaderKey='alpha',o}return o(t,e),i(t,[{key:'alpha',get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),t}(s.Filter);t.default=u},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(75);Object.defineProperty(t,'InteractionData',{enumerable:!0,get:function(){return a(n).default}});var o=r(172);Object.defineProperty(t,'InteractionManager',{enumerable:!0,get:function(){return a(o).default}});var i=r(78);Object.defineProperty(t,'interactiveTarget',{enumerable:!0,get:function(){return a(i).default}});var d=r(77);Object.defineProperty(t,'InteractionTrackingData',{enumerable:!0,get:function(){return a(d).default}});var s=r(76);Object.defineProperty(t,'InteractionEvent',{enumerable:!0,get:function(){return a(s).default}})},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},s=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),u=r(75),p=a(u),c=r(76),h=a(c),f=r(77),g=a(f),_=r(8),y=a(_),m=r(78),x=a(m);l.utils.mixins.delayMixin(l.DisplayObject.prototype,x.default);var b='MOUSE',T={target:null,data:{global:null}},v=function(e){function t(r,a){n(this,t);var i=o(this,e.call(this));return a=a||{},i.renderer=r,i.autoPreventDefault=void 0===a.autoPreventDefault||a.autoPreventDefault,i.interactionFrequency=a.interactionFrequency||10,i.mouse=new p.default,i.mouse.identifier=b,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[b]=i.mouse,i.interactionDataPool=[],i.eventData=new h.default,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents='ontouchstart'in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:'inherit',pointer:'pointer'},i.currentCursorMode=null,i.cursor=null,i._tempPoint=new l.Point,i.resolution=1,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return i(t,e),t.prototype.hitTest=function(e,t){return T.target=null,T.data.global=e,t||(t=this.renderer._lastObjectRendered),this.processInteractive(T,t,null,!0),T.target},t.prototype.setTargetElement=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents()},t.prototype.addEvents=function(){this.interactionDOMElement&&(l.ticker.shared.add(this.update,this,l.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style['-ms-content-zooming']='none',this.interactionDOMElement.style['-ms-touch-action']='none'):this.supportsPointerEvents&&(this.interactionDOMElement.style['touch-action']='none'),this.supportsPointerEvents?(window.document.addEventListener('pointermove',this.onPointerMove,!0),this.interactionDOMElement.addEventListener('pointerdown',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('pointerleave',this.onPointerOut,!0),this.interactionDOMElement.addEventListener('pointerover',this.onPointerOver,!0),window.addEventListener('pointercancel',this.onPointerCancel,!0),window.addEventListener('pointerup',this.onPointerUp,!0)):(window.document.addEventListener('mousemove',this.onPointerMove,!0),this.interactionDOMElement.addEventListener('mousedown',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('mouseout',this.onPointerOut,!0),this.interactionDOMElement.addEventListener('mouseover',this.onPointerOver,!0),window.addEventListener('mouseup',this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener('touchstart',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('touchcancel',this.onPointerCancel,!0),this.interactionDOMElement.addEventListener('touchend',this.onPointerUp,!0),this.interactionDOMElement.addEventListener('touchmove',this.onPointerMove,!0)),this.eventsAdded=!0)},t.prototype.removeEvents=function(){this.interactionDOMElement&&(l.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style['-ms-content-zooming']='',this.interactionDOMElement.style['-ms-touch-action']=''):this.supportsPointerEvents&&(this.interactionDOMElement.style['touch-action']=''),this.supportsPointerEvents?(window.document.removeEventListener('pointermove',this.onPointerMove,!0),this.interactionDOMElement.removeEventListener('pointerdown',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('pointerleave',this.onPointerOut,!0),this.interactionDOMElement.removeEventListener('pointerover',this.onPointerOver,!0),window.removeEventListener('pointercancel',this.onPointerCancel,!0),window.removeEventListener('pointerup',this.onPointerUp,!0)):(window.document.removeEventListener('mousemove',this.onPointerMove,!0),this.interactionDOMElement.removeEventListener('mousedown',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('mouseout',this.onPointerOut,!0),this.interactionDOMElement.removeEventListener('mouseover',this.onPointerOver,!0),window.removeEventListener('mouseup',this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener('touchstart',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('touchcancel',this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener('touchend',this.onPointerUp,!0),this.interactionDOMElement.removeEventListener('touchmove',this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},t.prototype.update=function(e){if((this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency))&&(this._deltaTime=0,!!this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var r=this.activeInteractionData[t];if(r.originalEvent&&'touch'!==r.pointerType){var a=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){if(e=e||'default',this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch('undefined'==typeof t?'undefined':d(t)){case'string':this.interactionDOMElement.style.cursor=t;break;case'function':t(e);break;case'object':Object.assign(this.interactionDOMElement.style,t);}else'string'!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,r){r.stopped||(r.currentTarget=e,r.type=t,e.emit(t,r),e[t]&&e[t](r))},t.prototype.mapPositionToPoint=function(e,t,r){var a=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=navigator.isCocoonJS?this.resolution:1/this.resolution;e.x=(t-a.left)*(this.interactionDOMElement.width/a.width)*n,e.y=(r-a.top)*(this.interactionDOMElement.height/a.height)*n},t.prototype.processInteractive=function(e,t,r,a,n){if(!t||!t.visible)return!1;var o=e.data.global;n=t.interactive||n;var d=!1,s=n;if(t.hitArea?s=!1:a&&t._mask&&!t._mask.containsPoint(o)&&(a=!1),t.interactiveChildren&&t.children)for(var l=t.children,u=l.length-1;0<=u;u--){var i=l[u],p=this.processInteractive(e,i,r,a,s);if(p){if(!i.parent)continue;s=!1,p&&(e.target&&(a=!1),d=!0)}}return n&&(a&&!e.target&&(t.hitArea?(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(d=!0)):t.containsPoint&&t.containsPoint(o)&&(d=!0)),t.interactive&&(d&&!e.target&&(e.target=t),r&&r(e,t,!!d))),d},t.prototype.onPointerDown=function(e){if(!(this.supportsTouchEvents&&'touch'===e.pointerType)){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&e.preventDefault();for(var r=t.length,a=0;a<r;a++){var n=t[a],o=this.getInteractionDataForPointerId(n),i=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(i.data.originalEvent=e,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit('pointerdown',i),'touch'===n.pointerType)this.emit('touchstart',i);else if('mouse'===n.pointerType||'pen'===n.pointerType){var d=2===n.button;this.emit(d?'rightdown':'mousedown',this.eventData)}}}},t.prototype.processPointerDown=function(e,t,r){var a=e.data,n=e.data.identifier;if(r)if(t.trackedPointers[n]||(t.trackedPointers[n]=new g.default(n)),this.dispatchEvent(t,'pointerdown',e),'touch'===a.pointerType)this.dispatchEvent(t,'touchstart',e);else if('mouse'===a.pointerType||'pen'===a.pointerType){var o=2===a.button;o?t.trackedPointers[n].rightDown=!0:t.trackedPointers[n].leftDown=!0,this.dispatchEvent(t,o?'rightdown':'mousedown',e)}},t.prototype.onPointerComplete=function(e,t,r){for(var a=this.normalizeToPointerData(e),n=a.length,o=e.target===this.interactionDOMElement?'':'outside',d=0;d<n;d++){var i=a[d],s=this.getInteractionDataForPointerId(i),l=this.configureInteractionEventForDOMEvent(this.eventData,i,s);if(l.data.originalEvent=e,this.processInteractive(l,this.renderer._lastObjectRendered,r,t||!o),this.emit(t?'pointercancel':'pointerup'+o,l),'mouse'===i.pointerType||'pen'===i.pointerType){var u=2===i.button;this.emit(u?'rightup'+o:'mouseup'+o,l)}else'touch'===i.pointerType&&(this.emit(t?'touchcancel':'touchend'+o,l),this.releaseInteractionDataForPointerId(i.pointerId,s))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&'touch'===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var r=e.data,a=e.data.identifier;void 0!==t.trackedPointers[a]&&(delete t.trackedPointers[a],this.dispatchEvent(t,'pointercancel',e),'touch'===r.pointerType&&this.dispatchEvent(t,'touchcancel',e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&'touch'===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,r){var a=e.data,n=e.data.identifier,o=t.trackedPointers[n],i='touch'===a.pointerType,d='mouse'===a.pointerType||'pen'===a.pointerType;if(d){var s=2===a.button,l=g.default.FLAGS,u=s?l.RIGHT_DOWN:l.LEFT_DOWN,p=void 0!==o&&o.flags&u;r?(this.dispatchEvent(t,s?'rightup':'mouseup',e),p&&this.dispatchEvent(t,s?'rightclick':'click',e)):p&&this.dispatchEvent(t,s?'rightupoutside':'mouseupoutside',e),o&&(s?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(t,'pointerup',e),i&&this.dispatchEvent(t,'touchend',e),o&&(this.dispatchEvent(t,'pointertap',e),i&&(this.dispatchEvent(t,'tap',e),o.over=!1))):o&&(this.dispatchEvent(t,'pointerupoutside',e),i&&this.dispatchEvent(t,'touchendoutside',e)),o&&o.none&&delete t.trackedPointers[n]},t.prototype.onPointerMove=function(e){if(!(this.supportsTouchEvents&&'touch'===e.pointerType)){var t=this.normalizeToPointerData(e);'mouse'===t[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var r=t.length,a=0;a<r;a++){var n=t[a],o=this.getInteractionDataForPointerId(n),i=this.configureInteractionEventForDOMEvent(this.eventData,n,o);i.data.originalEvent=e;var d='touch'!==n.pointerType||this.moveWhenInside;this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerMove,d),this.emit('pointermove',i),'touch'===n.pointerType&&this.emit('touchmove',i),('mouse'===n.pointerType||'pen'===n.pointerType)&&this.emit('mousemove',i)}'mouse'===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,r){var a=e.data,n='touch'===a.pointerType,o='mouse'===a.pointerType||'pen'===a.pointerType;o&&this.processPointerOverOut(e,t,r),(!this.moveWhenInside||r)&&(this.dispatchEvent(t,'pointermove',e),n&&this.dispatchEvent(t,'touchmove',e),o&&this.dispatchEvent(t,'mousemove',e))},t.prototype.onPointerOut=function(e){if(!(this.supportsTouchEvents&&'touch'===e.pointerType)){var t=this.normalizeToPointerData(e),r=t[0];'mouse'===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(r),n=this.configureInteractionEventForDOMEvent(this.eventData,r,a);n.data.originalEvent=r,this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit('pointerout',n),'mouse'===r.pointerType||'pen'===r.pointerType?this.emit('mouseout',n):this.releaseInteractionDataForPointerId(a.identifier)}},t.prototype.processPointerOverOut=function(e,t,r){var a=e.data,n=e.data.identifier,o='mouse'===a.pointerType||'pen'===a.pointerType,i=t.trackedPointers[n];r&&!i&&(i=t.trackedPointers[n]=new g.default(n)),void 0===i||(r&&this.mouseOverRenderer?(!i.over&&(i.over=!0,this.dispatchEvent(t,'pointerover',e),o&&this.dispatchEvent(t,'mouseover',e)),o&&null===this.cursor&&(this.cursor=t.cursor)):i.over&&(i.over=!1,this.dispatchEvent(t,'pointerout',this.eventData),o&&this.dispatchEvent(t,'mouseout',e),i.none&&delete t.trackedPointers[n]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e),r=t[0],a=this.getInteractionDataForPointerId(r),n=this.configureInteractionEventForDOMEvent(this.eventData,r,a);n.data.originalEvent=r,'mouse'===r.pointerType&&(this.mouseOverRenderer=!0),this.emit('pointerover',n),('mouse'===r.pointerType||'pen'===r.pointerType)&&this.emit('mouseover',n)},t.prototype.getInteractionDataForPointerId=function(e){var t=e.pointerId,r;return t===b||'mouse'===e.pointerType?r=this.mouse:this.activeInteractionData[t]?r=this.activeInteractionData[t]:(r=this.interactionDataPool.pop()||new p.default,r.identifier=t,this.activeInteractionData[t]=r),r._copyEvent(e),r},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t._reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,r){return e.data=r,this.mapPositionToPoint(r.global,t.clientX,t.clientY),navigator.isCocoonJS&&'touch'===t.pointerType&&(r.global.x/=this.resolution,r.global.y/=this.resolution),'touch'===t.pointerType&&(t.globalX=r.global.x,t.globalY=r.global.y),r.originalEvent=t,e._reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,a=e.changedTouches.length,n;r<a;r++)n=e.changedTouches[r],'undefined'==typeof n.button&&(n.button=e.touches.length?1:0),'undefined'==typeof n.buttons&&(n.buttons=e.touches.length?1:0),'undefined'==typeof n.isPrimary&&(n.isPrimary=1===e.touches.length&&'touchstart'===e.type),'undefined'==typeof n.width&&(n.width=n.radiusX||1),'undefined'==typeof n.height&&(n.height=n.radiusY||1),'undefined'==typeof n.tiltX&&(n.tiltX=0),'undefined'==typeof n.tiltY&&(n.tiltY=0),'undefined'==typeof n.pointerType&&(n.pointerType='touch'),'undefined'==typeof n.pointerId&&(n.pointerId=n.identifier||0),'undefined'==typeof n.pressure&&(n.pressure=n.force||0.5),n.twist=0,n.tangentialPressure=0,'undefined'==typeof n.layerX&&(n.layerX=n.offsetX=n.clientX),'undefined'==typeof n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,t.push(n);else!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent?t.push(e):('undefined'==typeof e.isPrimary&&(e.isPrimary=!0),'undefined'==typeof e.width&&(e.width=1),'undefined'==typeof e.height&&(e.height=1),'undefined'==typeof e.tiltX&&(e.tiltX=0),'undefined'==typeof e.tiltY&&(e.tiltY=0),'undefined'==typeof e.pointerType&&(e.pointerType='mouse'),'undefined'==typeof e.pointerId&&(e.pointerId=b),'undefined'==typeof e.pressure&&(e.pressure=0.5),e.twist=0,e.tangentialPressure=0,e.isNormalized=!0,t.push(e));return t},t.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},t}(y.default);t.default=v,l.WebGLRenderer.registerPlugin('interaction',v),l.CanvasRenderer.registerPlugin('interaction',v)},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.shared=t.Resource=t.textureParser=t.getResourcePath=t.spritesheetParser=t.parseBitmapFontData=t.bitmapFontParser=t.Loader=void 0;var n=r(79);Object.defineProperty(t,'bitmapFontParser',{enumerable:!0,get:function(){return a(n).default}}),Object.defineProperty(t,'parseBitmapFontData',{enumerable:!0,get:function(){return n.parse}});var o=r(84);Object.defineProperty(t,'spritesheetParser',{enumerable:!0,get:function(){return a(o).default}}),Object.defineProperty(t,'getResourcePath',{enumerable:!0,get:function(){return o.getResourcePath}});var i=r(85);Object.defineProperty(t,'textureParser',{enumerable:!0,get:function(){return a(i).default}});var d=r(14);Object.defineProperty(t,'Resource',{enumerable:!0,get:function(){return d.Resource}});var s=r(66),l=a(s),u=r(175),p=a(u);t.Loader=p.default;var c=new p.default;c.destroy=function(){},t.shared=c;var h=l.default.prototype;h._loader=null,Object.defineProperty(h,'loader',{get:function(){if(!this._loader){var e=this._options.sharedLoader;this._loader=e?c:new p.default}return this._loader}}),h._parentDestroy=h.destroy,h.destroy=function(e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(e)}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},i=r(80),d=a(i),s=r(81),l=a(s),u=r(82),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),c=r(34),h=a(c),f=/(#[\w-]+)?$/,g=function(){function e(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;n(this,e),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString='',this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,r){return t._loadResource(e,r)},this._queue=p.queue(this._boundLoadResource,a),this._queue.pause(),this.resources={},this.onProgress=new d.default,this.onError=new d.default,this.onLoad=new d.default,this.onStart=new d.default,this.onComplete=new d.default}return e.prototype.add=function(e,t,r,a){if(Array.isArray(e)){for(var n=0;n<e.length;++n)this.add(e[n]);return this}if('object'===('undefined'==typeof e?'undefined':o(e))&&(a=t||e.callback||e.onComplete,r=e,t=e.url,e=e.name||e.key||e.url),'string'!=typeof t&&(a=r,r=t,t=e),'string'!=typeof t)throw new Error('No url passed to add resource to loader.');if('function'==typeof r&&(a=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error('Cannot add resources while the loader is running.');if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new h.default(e,t,r),'function'==typeof a&&this.resources[e].onAfterMiddleware.once(a),this.loading){for(var i=r.parentResource,d=[],s=0;s<i.children.length;++s)i.children[s].isComplete||d.push(i.children[s]);var l=i.progressChunk*(d.length+1),u=l/(d.length+2);i.children.push(this.resources[e]),i.progressChunk=u;for(var p=0;p<d.length;++p)d[p].progressChunk=u;this.resources[e].progressChunk=u}return this._queue.push(this.resources[e]),this},e.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},e.prototype.use=function(e){return this._afterMiddleware.push(e),this},e.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},e.prototype.load=function(e){if('function'==typeof e&&this.onComplete.once(e),this.loading)return this;for(var t=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=t;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this},e.prototype._prepareUrl=function(e){var t=(0,l.default)(e,{strictMode:!0}),r;if(r=t.protocol||!t.path||0===e.indexOf('//')?e:this.baseUrl.length&&this.baseUrl.lastIndexOf('/')!==this.baseUrl.length-1&&'/'!==e.charAt(0)?this.baseUrl+'/'+e:this.baseUrl+e,this.defaultQueryString){var a=f.exec(r)[0];r=r.substr(0,r.length-a.length),r+=-1===r.indexOf('?')?'?'+this.defaultQueryString:'&'+this.defaultQueryString,r+=a}return r},e.prototype._loadResource=function(e,t){var r=this;e._dequeue=t,p.eachSeries(this._beforeMiddleware,function(t,a){t.call(r,e,function(){a(e.isComplete?{}:null)})},function(){e.isComplete?r._onLoad(e):(e._onLoadBinding=e.onComplete.once(r._onLoad,r),e.load())},!0)},e.prototype._onComplete=function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),p.eachSeries(this._afterMiddleware,function(r,a){r.call(t,e,a)},function(){e.onAfterMiddleware.dispatch(e),t.progress+=e.progressChunk,t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&(t.progress=100,t._onComplete())},!0)},e}();t.default=g},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=r(14),s=a(d),l=r(176),u=r(8),p=a(u),c=r(85),h=a(c),f=r(84),g=a(f),_=r(79),y=a(_),m=function(e){function t(r,a){n(this,t);var d=o(this,e.call(this,r,a));p.default.call(d);for(var s=0;s<t._pixiMiddleware.length;++s)d.use(t._pixiMiddleware[s]());return d.onStart.add(function(e){return d.emit('start',e)}),d.onProgress.add(function(e,t){return d.emit('progress',e,t)}),d.onError.add(function(t,e,a){return d.emit('error',t,e,a)}),d.onLoad.add(function(e,t){return d.emit('load',e,t)}),d.onComplete.add(function(e,t){return d.emit('complete',e,t)}),d}return i(t,e),t.addPixiMiddleware=function(e){t._pixiMiddleware.push(e)},t.prototype.destroy=function(){this.removeAllListeners(),this.reset()},t}(s.default);for(var x in t.default=m,p.default.prototype)m.prototype[x]=p.default.prototype[x];m._pixiMiddleware=[l.blobMiddlewareFactory,h.default,g.default,y.default];var b=s.default.Resource;b.setExtensionXhrType('fnt',b.XHR_RESPONSE_TYPE.DOCUMENT)},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t.blobMiddlewareFactory=function(){return function(e,t){if(!e.data)return void t();if(e.xhr&&e.xhrType===i.default.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||'string'==typeof e.data){var r=e.xhr.getResponseHeader('content-type');if(r&&0===r.indexOf('image'))return e.data=new Image,e.data.src='data:'+r+';base64,'+s.default.encodeBinary(e.xhr.responseText),e.type=i.default.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}else if(0===e.data.type.indexOf('image')){var a=function(){var r=l.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=r,e.type=i.default.TYPE.IMAGE,e.data.onload=function(){l.revokeObjectURL(r),e.data.onload=null,t()},{v:void 0}}();if('object'===('undefined'==typeof a?'undefined':n(a)))return a.v}t()}};var o=r(34),i=a(o),d=r(83),s=a(d),l=window.URL||window.webkitURL},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(15);Object.defineProperty(t,'Mesh',{enumerable:!0,get:function(){return a(n).default}});var o=r(178);Object.defineProperty(t,'MeshRenderer',{enumerable:!0,get:function(){return a(o).default}});var i=r(179);Object.defineProperty(t,'CanvasMeshRenderer',{enumerable:!0,get:function(){return a(i).default}});var d=r(86);Object.defineProperty(t,'Plane',{enumerable:!0,get:function(){return a(d).default}});var s=r(180);Object.defineProperty(t,'NineSlicePlane',{enumerable:!0,get:function(){return a(s).default}});var l=r(181);Object.defineProperty(t,'Rope',{enumerable:!0,get:function(){return a(l).default}})},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=r(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),l=r(5),u=a(l),p=r(15),c=a(p),h=r(6),f=s.Matrix.IDENTITY,g=function(e){function t(r){n(this,t);var a=o(this,e.call(this,r));return a.shader=null,a}return i(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new s.Shader(e,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n')},t.prototype.render=function(e){var t=this.renderer,r=t.gl,a=e._texture;if(a.valid){var n=e._glDatas[t.CONTEXT_UID];n||(t.bindVao(null),n={shader:this.shader,vertexBuffer:u.default.GLBuffer.createVertexBuffer(r,e.vertices,r.STREAM_DRAW),uvBuffer:u.default.GLBuffer.createVertexBuffer(r,e.uvs,r.STREAM_DRAW),indexBuffer:u.default.GLBuffer.createIndexBuffer(r,e.indices,r.STATIC_DRAW),vao:null,dirty:e.dirty,indexDirty:e.indexDirty},n.vao=new u.default.VertexArrayObject(r).addIndex(n.indexBuffer).addAttribute(n.vertexBuffer,n.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(n.uvBuffer,n.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),e._glDatas[t.CONTEXT_UID]=n),t.bindVao(n.vao),e.dirty!==n.dirty&&(n.dirty=e.dirty,n.uvBuffer.upload(e.uvs)),e.indexDirty!==n.indexDirty&&(n.indexDirty=e.indexDirty,n.indexBuffer.upload(e.indices)),n.vertexBuffer.upload(e.vertices),t.bindShader(n.shader),n.shader.uniforms.uSampler=t.bindTexture(a),t.state.setBlendMode(s.utils.correctBlendMode(e.blendMode,a.baseTexture.premultipliedAlpha)),n.shader.uniforms.uTransform&&(e.uploadUvTransform?n.shader.uniforms.uTransform=e._uvTransform.mapCoord.toArray(!0):n.shader.uniforms.uTransform=f.toArray(!0)),n.shader.uniforms.translationMatrix=e.worldTransform.toArray(!0),n.shader.uniforms.uColor=s.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,n.shader.uniforms.uColor,a.baseTexture.premultipliedAlpha);var o=e.drawMode===c.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;n.vao.draw(o,e.indices.length,0)}},t}(s.ObjectRenderer);t.default=g,s.WebGLRenderer.registerPlugin('mesh',g)},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=Math.sqrt;t.__esModule=!0;var o=r(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),d=r(15),s=function(e){return e&&e.__esModule?e:{default:e}}(d),l=function(){function e(t){a(this,e),this.renderer=t}return e.prototype.render=function(e){var t=this.renderer,r=t.context,a=e.worldTransform,n=t.resolution;t.roundPixels?r.setTransform(a.a*n,a.b*n,a.c*n,a.d*n,0|a.tx*n,0|a.ty*n):r.setTransform(a.a*n,a.b*n,a.c*n,a.d*n,a.tx*n,a.ty*n),t.setBlendMode(e.blendMode),e.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(e):this._renderTriangles(e)},e.prototype._renderTriangleMesh=function(e){for(var t=e.vertices.length/2,r=0,a;r<t-2;r++)a=2*r,this._renderDrawTriangle(e,a,a+2,a+4)},e.prototype._renderTriangles=function(e){for(var t=e.indices,r=t.length,a=0;a<r;a+=3){var n=2*t[a],o=2*t[a+1],i=2*t[a+2];this._renderDrawTriangle(e,n,o,i)}},e.prototype._renderDrawTriangle=function(e,t,r,a){var o=this.renderer.context,i=e.uvs,d=e.vertices,s=e._texture;if(s.valid){var l=s.baseTexture,u=l.source,p=l.width,c=l.height,h,f,g,_,y,m;if(e.uploadUvTransform){var x=e._uvTransform.mapCoord;h=(i[t]*x.a+i[t+1]*x.c+x.tx)*l.width,f=(i[r]*x.a+i[r+1]*x.c+x.tx)*l.width,g=(i[a]*x.a+i[a+1]*x.c+x.tx)*l.width,_=(i[t]*x.b+i[t+1]*x.d+x.ty)*l.height,y=(i[r]*x.b+i[r+1]*x.d+x.ty)*l.height,m=(i[a]*x.b+i[a+1]*x.d+x.ty)*l.height}else h=i[t]*l.width,f=i[r]*l.width,g=i[a]*l.width,_=i[t+1]*l.height,y=i[r+1]*l.height,m=i[a+1]*l.height;var b=d[t],T=d[r],v=d[a],E=d[t+1],S=d[r+1],C=d[a+1];if(0<e.canvasPadding){var I=e.canvasPadding/e.worldTransform.a,P=e.canvasPadding/e.worldTransform.d,R=(b+T+v)/3,M=(E+S+C)/3,B=b-R,D=E-M,F=n(B*B+D*D);b=R+B/F*(F+I),E=M+D/F*(F+P),B=T-R,D=S-M,F=n(B*B+D*D),T=R+B/F*(F+I),S=M+D/F*(F+P),B=v-R,D=C-M,F=n(B*B+D*D),v=R+B/F*(F+I),C=M+D/F*(F+P)}o.save(),o.beginPath(),o.moveTo(b,E),o.lineTo(T,S),o.lineTo(v,C),o.closePath(),o.clip();var O=h*y+_*g+f*m-y*g-_*f-h*m,L=b*y+_*v+T*m-y*v-_*T-b*m,w=h*T+b*g+f*v-T*g-b*f-h*v,A=h*y*v+_*T*g+b*f*m-b*y*g-_*f*v-h*T*m,U=E*y+_*C+S*m-y*C-_*S-E*m,k=h*S+E*g+f*C-S*g-E*f-h*C,N=h*y*C+_*S*g+E*f*m-E*y*g-_*f*C-h*S*m;o.transform(L/O,U/O,w/O,k/O,A/O,N/O),o.drawImage(u,0,0,p*l.resolution,c*l.resolution,0,0,p,c),o.restore(),this.renderer.invalidateBlendMode()}},e.prototype.renderMeshFlat=function(e){var t=this.renderer.context,r=e.vertices,a=r.length/2;t.beginPath();for(var n=1;n<a-2;++n){var o=2*n,i=r[o],d=r[o+1],s=r[o+2],l=r[o+3],u=r[o+4],p=r[o+5];t.moveTo(i,d),t.lineTo(s,l),t.lineTo(u,p)}t.fillStyle='#FF0000',t.fill(),t.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();t.default=l,i.CanvasRenderer.registerPlugin('mesh',l)},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(86),s=function(e){return e&&e.__esModule?e:{default:e}}(d),l=10,u=function(e){function t(r,o,i,d,s){a(this,t);var u=n(this,e.call(this,r,4,4));return u._origWidth=r.orig.width,u._origHeight=r.orig.height,u._width=u._origWidth,u._height=u._origHeight,u.leftWidth='undefined'==typeof o?l:o,u.rightWidth='undefined'==typeof d?l:d,u.topHeight='undefined'==typeof i?l:i,u.bottomHeight='undefined'==typeof s?l:s,u.refresh(!0),u}return o(t,e),t.prototype.updateHorizontalVertices=function(){var e=this.vertices;e[9]=e[11]=e[13]=e[15]=this._topHeight,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices;e[2]=e[10]=e[18]=e[26]=this._leftWidth,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._renderCanvas=function(e){var t=e.context;t.globalAlpha=this.worldAlpha;var r=this.worldTransform,a=e.resolution;e.roundPixels?t.setTransform(r.a*a,r.b*a,r.c*a,r.d*a,0|r.tx*a,0|r.ty*a):t.setTransform(r.a*a,r.b*a,r.c*a,r.d*a,r.tx*a,r.ty*a);var n=this._texture.baseTexture,o=n.source,i=n.width*n.resolution,d=n.height*n.resolution;this.drawSegment(t,o,i,d,0,1,10,11),this.drawSegment(t,o,i,d,2,3,12,13),this.drawSegment(t,o,i,d,4,5,14,15),this.drawSegment(t,o,i,d,8,9,18,19),this.drawSegment(t,o,i,d,10,11,20,21),this.drawSegment(t,o,i,d,12,13,22,23),this.drawSegment(t,o,i,d,16,17,26,27),this.drawSegment(t,o,i,d,18,19,28,29),this.drawSegment(t,o,i,d,20,21,30,31)},t.prototype.drawSegment=function(e,t,r,a,n,o,i,d){var s=this.uvs,l=this.vertices,u=(s[i]-s[n])*r,p=(s[d]-s[o])*a,c=l[i]-l[n],h=l[d]-l[o];1>u&&(u=1),1>p&&(p=1),1>c&&(c=1),1>h&&(h=1),e.drawImage(t,s[n]*r,s[o]*a,u,p,l[n],l[o],c,h)},t.prototype._refresh=function(){e.prototype._refresh.call(this);var t=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var a=1/this._origWidth,n=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=a*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-a*this._rightWidth,t[9]=t[11]=t[13]=t[15]=n*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},i(t,[{key:'width',get:function(){return this._width},set:function(e){this._width=e,this._refresh()}},{key:'height',get:function(){return this._height},set:function(e){this._height=e,this._refresh()}},{key:'leftWidth',get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()}},{key:'rightWidth',get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()}},{key:'topHeight',get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()}},{key:'bottomHeight',get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()}}]),t}(s.default);t.default=u},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(15),d=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(e){function t(r,o){a(this,t);var i=n(this,e.call(this,r));return i.points=o,i.vertices=new Float32Array(4*o.length),i.uvs=new Float32Array(4*o.length),i.colors=new Float32Array(2*o.length),i.indices=new Uint16Array(2*o.length),i.autoUpdate=!0,i.refresh(),i}return o(t,e),t.prototype._refresh=function(){var e=this.points;if(!(1>e.length)&&this._texture._uvs){this.vertices.length/4!==e.length&&(this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length));var t=this.uvs,r=this.indices,a=this.colors;t[0]=0,t[1]=0,t[2]=0,t[3]=1,a[0]=1,a[1]=1,r[0]=0,r[1]=1;for(var n=e.length,o=1;o<n;o++){var i=4*o,d=o/(n-1);t[i]=d,t[i+1]=0,t[i+2]=d,t[i+3]=1,i=2*o,a[i]=1,a[i+1]=1,i=2*o,r[i]=i,r[i+1]=i+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},t.prototype.refreshVertices=function(){var e=this.points;if(!(1>e.length))for(var t=e[0],r=void 0,a=0,n=0,o=this.vertices,d=e.length,s=0;s<d;s++){var i=e[s],l=4*s;r=s<e.length-1?e[s+1]:i,n=-(r.x-t.x),a=r.y-t.y;var u=10*(1-s/(d-1));1<u&&(u=1);var p=Math.sqrt(a*a+n*n),c=this._texture.height/2;a/=p,n/=p,a*=c,n*=c,o[l]=i.x+a,o[l+1]=i.y+n,o[l+2]=i.x-a,o[l+3]=i.y-n,t=i}},t.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},t}(d.default);t.default=s},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(183);Object.defineProperty(t,'ParticleContainer',{enumerable:!0,get:function(){return a(n).default}});var o=r(184);Object.defineProperty(t,'ParticleRenderer',{enumerable:!0,get:function(){return a(o).default}})},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),l=r(2),u=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,o=arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384,d=3<arguments.length&&void 0!==arguments[3]&&arguments[3];a(this,t);var l=n(this,e.call(this)),u=16384;return i>u&&(i=u),i>r&&(i=r),l._properties=[!1,!0,!1,!1,!1],l._maxSize=r,l._batchSize=i,l._glBuffers={},l._bufferToUpdate=0,l.interactiveChildren=!1,l.blendMode=s.BLEND_MODES.NORMAL,l.autoResize=d,l.roundPixels=!0,l.baseTexture=null,l.setProperties(o),l._tint=0,l.tintRgb=new Float32Array(4),l.tint=16777215,l}return o(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]='scale'in e?!!e.scale:this._properties[0],this._properties[1]='position'in e?!!e.position:this._properties[1],this._properties[2]='rotation'in e?!!e.rotation:this._properties[2],this._properties[3]='uvs'in e?!!e.uvs:this._properties[3],this._properties[4]='alpha'in e||'tint'in e?!!e.alpha||!!e.tint:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},t.prototype.renderWebGL=function(e){var t=this;this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable&&(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.hasLoaded&&this.baseTexture.once('update',function(){return t.onChildrenChange(0)})),e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){var t=Math.floor(e/this._batchSize);t<this._bufferToUpdate&&(this._bufferToUpdate=t)},t.prototype.renderCanvas=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){var t=e.context,r=this.worldTransform,a=!0,n=0,o=0,d=0,s=0;e.setBlendMode(this.blendMode),t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0,i;l<this.children.length;++l)if(i=this.children[l],!!i.visible){var u=i._texture.frame;if(t.globalAlpha=this.worldAlpha*i.alpha,0==i.rotation%(2*Math.PI))a&&(t.setTransform(r.a,r.b,r.c,r.d,r.tx*e.resolution,r.ty*e.resolution),a=!1),n=i.anchor.x*(-u.width*i.scale.x)+i.position.x+0.5,o=i.anchor.y*(-u.height*i.scale.y)+i.position.y+0.5,d=u.width*i.scale.x,s=u.height*i.scale.y;else{a||(a=!0),i.displayObjectUpdateTransform();var p=i.worldTransform;e.roundPixels?t.setTransform(p.a,p.b,p.c,p.d,0|p.tx*e.resolution,0|p.ty*e.resolution):t.setTransform(p.a,p.b,p.c,p.d,p.tx*e.resolution,p.ty*e.resolution),n=i.anchor.x*-u.width+0.5,o=i.anchor.y*-u.height+0.5,d=u.width,s=u.height}var c=i._texture.baseTexture.resolution;t.drawImage(i._texture.baseTexture.source,u.x*c,u.y*c,u.width*c,u.height*c,n*e.resolution,o*e.resolution,d*e.resolution,s*e.resolution)}}},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null},i(t,[{key:'tint',get:function(){return this._tint},set:function(e){this._tint=e,(0,l.hex2rgb)(e,this.tintRgb)}}]),t}(s.Container);t.default=u},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=r(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),l=r(185),u=a(l),p=r(186),c=a(p),h=r(2),f=function(e){function t(r){n(this,t);var a=o(this,e.call(this,r));return a.shader=null,a.indexBuffer=null,a.properties=null,a.tempMatrix=new s.Matrix,a.CONTEXT_UID=0,a}return i(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new u.default(e),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},t.prototype.start=function(){this.renderer.bindShader(this.shader)},t.prototype.render=function(e){var t=e.children,r=e._maxSize,a=e._batchSize,n=this.renderer,o=t.length;if(0!==o){o>r&&(o=r);var d=e._glBuffers[n.CONTEXT_UID];d||(d=e._glBuffers[n.CONTEXT_UID]=this.generateBuffers(e));var l=t[0]._texture.baseTexture;this.renderer.setBlendMode(s.utils.correctBlendMode(e.blendMode,l.premultipliedAlpha));var u=n.gl,p=e.worldTransform.copy(this.tempMatrix);p.prepend(n._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=p.toArray(!0),this.shader.uniforms.uColor=s.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,l.premultipliedAlpha),this.shader.uniforms.uSampler=n.bindTexture(l);for(var c=0,i=0,h;c<o;c+=a,i+=1){if(h=o-c,h>a&&(h=a),i>=d.length){if(!e.autoResize)break;d.push(this._generateOneMoreBuffer(e))}var f=d[i];f.uploadDynamic(t,c,h),e._bufferToUpdate===i&&(f.uploadStatic(t,c,h),e._bufferToUpdate=i+1),n.bindVao(f.vao),f.vao.draw(u.TRIANGLES,6*h)}}},t.prototype.generateBuffers=function(e){for(var t=this.renderer.gl,r=[],a=e._maxSize,n=e._batchSize,o=e._properties,d=0;d<a;d+=n)r.push(new c.default(t,this.properties,o,n));return r},t.prototype._generateOneMoreBuffer=function(e){var t=this.renderer.gl,r=e._batchSize,a=e._properties;return new c.default(t,this.properties,a,r)},t.prototype.uploadVertices=function(e,t,r,a,n,o){for(var d=0,s=0,l=0,u=0,p=0;p<r;++p){var i=e[t+p],c=i._texture,h=i.scale.x,f=i.scale.y,g=c.trim,_=c.orig;g?(s=g.x-i.anchor.x*_.width,d=s+g.width,u=g.y-i.anchor.y*_.height,l=u+g.height):(d=_.width*(1-i.anchor.x),s=_.width*-i.anchor.x,l=_.height*(1-i.anchor.y),u=_.height*-i.anchor.y),a[o]=s*h,a[o+1]=u*f,a[o+n]=d*h,a[o+n+1]=u*f,a[o+2*n]=d*h,a[o+2*n+1]=l*f,a[o+3*n]=s*h,a[o+3*n+1]=l*f,o+=4*n}},t.prototype.uploadPosition=function(e,t,r,a,n,o){for(var d=0,i;d<r;d++)i=e[t+d].position,a[o]=i.x,a[o+1]=i.y,a[o+n]=i.x,a[o+n+1]=i.y,a[o+2*n]=i.x,a[o+2*n+1]=i.y,a[o+3*n]=i.x,a[o+3*n+1]=i.y,o+=4*n},t.prototype.uploadRotation=function(e,t,r,a,n,o){for(var d=0,i;d<r;d++)i=e[t+d].rotation,a[o]=i,a[o+n]=i,a[o+2*n]=i,a[o+3*n]=i,o+=4*n},t.prototype.uploadUvs=function(e,t,r,a,n,o){for(var d=0,i;d<r;++d)i=e[t+d]._texture._uvs,i?(a[o]=i.x0,a[o+1]=i.y0,a[o+n]=i.x1,a[o+n+1]=i.y1,a[o+2*n]=i.x2,a[o+2*n+1]=i.y2,a[o+3*n]=i.x3,a[o+3*n+1]=i.y3,o+=4*n):(a[o]=0,a[o+1]=0,a[o+n]=0,a[o+n+1]=0,a[o+2*n]=0,a[o+2*n+1]=0,a[o+3*n]=0,a[o+3*n+1]=0,o+=4*n)},t.prototype.uploadTint=function(e,t,r,a,n,o){for(var d=0;d<r;++d){var i=e[t+d],s=i._texture.baseTexture.premultipliedAlpha,l=i.alpha,u=1>l&&s?(0,h.premultiplyTint)(i._tintRGB,l):i._tintRGB+(255*l<<24);a[o]=u,a[o+n]=u,a[o+2*n]=u,a[o+3*n]=u,o+=4*n}},t.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),e.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},t}(s.ObjectRenderer);t.default=f,s.WebGLRenderer.registerPlugin('particle',f)},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(13),d=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(e){function t(r){return a(this,t),n(this,e.call(this,r,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute vec2 aPositionCoord;\nattribute vec2 aScale;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nuniform vec4 uColor;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvoid main(void){\n   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   vec2 v = vec2(x, y);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor * uColor;\n}','varying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n  gl_FragColor = color;\n}'))}return o(t,e),t}(d.default);t.default=s},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=r(5),d=a(o),i=r(33),s=a(i),l=function(){function e(t,r,a,o){n(this,e),this.gl=t,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var d=0,i;d<r.length;++d)i=r[d],i={attribute:i.attribute,size:i.size,uploadFunction:i.uploadFunction,unsignedByte:i.unsignedByte,offset:i.offset},a[d]?this.dynamicProperties.push(i):this.staticProperties.push(i);this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.gl,t=0;this.indices=(0,s.default)(this.size),this.indexBuffer=d.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.dynamicStride=0;for(var r=0,a;r<this.dynamicProperties.length;++r)a=this.dynamicProperties[r],a.offset=t,t+=a.size,this.dynamicStride+=a.size;var n=new ArrayBuffer(4*(4*(this.size*this.dynamicStride)));this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=d.default.GLBuffer.createVertexBuffer(e,n,e.STREAM_DRAW);var o=0;this.staticStride=0;for(var i=0,l;i<this.staticProperties.length;++i)l=this.staticProperties[i],l.offset=o,o+=l.size,this.staticStride+=l.size;var u=new ArrayBuffer(4*(4*(this.size*this.staticStride)));this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=d.default.GLBuffer.createVertexBuffer(e,u,e.STATIC_DRAW),this.vao=new d.default.VertexArrayObject(e).addIndex(this.indexBuffer);for(var p=0,c;p<this.dynamicProperties.length;++p)c=this.dynamicProperties[p],c.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,c.attribute,e.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*c.offset):this.vao.addAttribute(this.dynamicBuffer,c.attribute,e.FLOAT,!1,4*this.dynamicStride,4*c.offset);for(var h=0,f;h<this.staticProperties.length;++h)f=this.staticProperties[h],f.unsignedByte?this.vao.addAttribute(this.staticBuffer,f.attribute,e.UNSIGNED_BYTE,!0,4*this.staticStride,4*f.offset):this.vao.addAttribute(this.staticBuffer,f.attribute,e.FLOAT,!1,4*this.staticStride,4*f.offset)},e.prototype.uploadDynamic=function(e,t,r){for(var a=0,n;a<this.dynamicProperties.length;a++)n=this.dynamicProperties[a],n.uploadFunction(e,t,r,n.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset);this.dynamicBuffer.upload()},e.prototype.uploadStatic=function(e,t,r){for(var a=0,n;a<this.staticProperties.length;a++)n=this.staticProperties[a],n.uploadFunction(e,t,r,n.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,n.offset);this.staticBuffer.upload()},e.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},e}();t.default=l},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(188);Object.defineProperty(t,'webgl',{enumerable:!0,get:function(){return a(n).default}});var o=r(189);Object.defineProperty(t,'canvas',{enumerable:!0,get:function(){return a(o).default}});var i=r(35);Object.defineProperty(t,'BasePrepare',{enumerable:!0,get:function(){return a(i).default}});var d=r(87);Object.defineProperty(t,'CountLimiter',{enumerable:!0,get:function(){return a(d).default}});var s=r(190);Object.defineProperty(t,'TimeLimiter',{enumerable:!0,get:function(){return a(s).default}})},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return!!(t instanceof u.BaseTexture)&&(t._glTextures[e.CONTEXT_UID]||e.textureManager.updateTexture(t),!0)}function d(e,t){return!!(t instanceof u.Graphics)&&((t.dirty||t.clearDirty||!t._webGL[e.plugins.graphics.CONTEXT_UID])&&e.plugins.graphics.updateGraphics(t),!0)}function s(e,t){return!!(e instanceof u.Graphics)&&(t.push(e),!0)}t.__esModule=!0;var l=r(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l),p=r(35),c=function(e){return e&&e.__esModule?e:{default:e}}(p),h=function(e){function t(r){a(this,t);var o=n(this,e.call(this,r));return o.uploadHookHelper=o.renderer,o.registerFindHook(s),o.registerUploadHook(i),o.registerUploadHook(d),o}return o(t,e),t}(c.default);t.default=h,u.WebGLRenderer.registerPlugin('prepare',h)},function(e,t,r){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(t instanceof l.BaseTexture){var r=t.source,a=0===r.width?e.canvas.width:d(e.canvas.width,r.width),n=0===r.height?e.canvas.height:d(e.canvas.height,r.height);return e.ctx.drawImage(r,0,0,a,n,0,0,e.canvas.width,e.canvas.height),!0}return!1}var d=Math.min;t.__esModule=!0;var s=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),u=r(35),p=function(e){return e&&e.__esModule?e:{default:e}}(u),c=16,h=function(e){function t(r){a(this,t);var o=n(this,e.call(this,r));return o.uploadHookHelper=o,o.canvas=document.createElement('canvas'),o.canvas.width=c,o.canvas.height=c,o.ctx=o.canvas.getContext('2d'),o.registerUploadHook(i),o}return o(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(p.default);t.default=h,l.CanvasRenderer.registerPlugin('prepare',h)},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(t){r(this,e),this.maxMilliseconds=t,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();t.default=a},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function n(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}var o=Math.PI;Object.defineProperty(t,'__esModule',{value:!0}),t.functions=void 0;var i=function(){function e(t,a,n,o){r(this,e),this.x=t,this.y=a,this.width=n,this.height=o}return n(e,[{key:'clone',value:function(){return new e(this.x,this.y,this.width,this.height)}}]),e}(),d={Quadratic:{fn:function(e){var t=0;return function(){return t=t*t+e}},bounds:new i(-2,2,2.25,-4),desc:'x^2 + C'},Logistic:{fn:function(e){var t=.5;return function(){return t=e*t*(1-t)}},bounds:new i(2,1,2,-1),desc:'C * x * (1-x)'},Cubic:{fn:function(e){var t=1;return function(){return t=e*t*(1-t*t/3)}},bounds:new i(-3,2,6,-4),desc:'C * x * (1 - x^2 /3)'},Quartic:{fn:function(e){var t=-1;return function(){var r=t*t;return t=e*r*(2-r)}},bounds:new i(-2,1.4,4,-2.8),desc:'C * x^2 * (2 - x^2)'},Sine:{fn:function(e){var t=o/2;return function(){return t=e*Math.sin(t)}},bounds:new i(3*-o,3*o,6*o,6*-o),desc:'C * sin(x)'},Cosine:{fn:function(e){var t=0;return function(){return t=e*Math.cos(t)}},bounds:new i(3*-o,3*o,6*o,6*-o),desc:'C * cos(x)'},Exponential:{fn:function(e){var t=-1;return function(){return t=e*t*Math.exp(t)}},bounds:new i(-5,5,35,-15),desc:'C * x * e^x'},Tent:{fn:function(e){var t=0.5;return function(){return t=e*(.5-Math.abs(t-.5))}},bounds:new i(0,1,2,-1.01),desc:'C * (.5-abs(x-.5))'}};t.functions=d},function(e,t,r){e.exports=function(){return r(193)('/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module[\'default\']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, \'a\', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = "";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n"use strict";\n\n\nvar _functions = __webpack_require__(1);\n\nonmessage = function onmessage(e) {\n  //console.log(e);\n  postMessage({\n    id: render(e.data.fdim, e.data.rdim, _functions.functions[e.data.fn].fn, e.data.skip_iters, e.data.iters, e.data.is_le)\n  });\n  close();\n};\n\nfunction render(rect, rdim, fn, skip_iters, iters, is_le) {\n  //\tconsole.log(rect, rdim, fn);\n  var ww = rdim.x,\n      hh = rdim.y;\n  var ab = new Uint32Array(ww * hh);\n  ab.fill(is_le ? 0xff000000 : 0xff); //console.log(ab.buffer);\n  //console.log(rect);\n  //for(let i = rect.x; i <= rect.x+rect.width; i+=(rect.width/ww)) {\n\n  /*for(let i = 0; i < ww*hh; i ++) {\n  \tab[i] = 0xff000000;\n  }*/\n\n  var o = is_le ? 1 : 0x100; //let offs = (Math.random() * 128) | 0;\n  //let oo = 0;\n\n  for (var cc = 0, i = rect.x; cc < ww; cc++, i += rect.width / ww) {\n    //const i = rect.x + rect.width * v / ww;\n    var it = fn(i); //const xx = (x * ww) | 0;\n\n    for (var j = 0; j < skip_iters; j++) {\n      it();\n    }\n\n    for (var _j = 0; _j < iters; _j++) {\n      var v = it();\n      var y = (v - rect.y) / rect.height;\n      if (y < 0 || y >= 1) continue;\n      var yy = y * hh | 0;\n      var ii = yy * ww + cc;\n      ab[ii] += o; //dk;\n    }\n\n    if ((cc & 127) == 127) {\n      postMessage({\n        progress: 128\n      });\n    }\n  }\n\n  postMessage({\n    progress: (ww + 1 & 127) - 1\n  });\n  var id = new ImageData(new Uint8ClampedArray(ab.buffer), ww, hh);\n  return id;\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n"use strict";\n\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.functions = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar rect =\n/*#__PURE__*/\nfunction () {\n  function rect(x, y, w, h) {\n    _classCallCheck(this, rect);\n\n    this.x = x;\n    this.y = y;\n    this.width = w;\n    this.height = h;\n  }\n\n  _createClass(rect, [{\n    key: "clone",\n    value: function clone() {\n      return new rect(this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return rect;\n}(); //const new rect = (x, y, w, h) => ({x: x, y: y, width: w, height: h})\n\n\nvar functions = {\n  \'Quadratic\': {\n    fn: function fn(ex) {\n      var prev = 0;\n      return function () {\n        return prev = prev * prev + ex;\n      };\n    },\n    bounds: new rect(-2, 2, 2.25, -4),\n    desc: "x^2 + C"\n  },\n  \'Logistic\': {\n    fn: function fn(ex) {\n      var prev = .5;\n      return function () {\n        return prev = ex * prev * (1 - prev);\n      };\n    },\n    bounds: new rect(2, 1, 2, -1),\n    desc: "C * x * (1-x)"\n  },\n  \'Cubic\': {\n    fn: function fn(ex) {\n      var prev = 1;\n      return function () {\n        return prev = ex * prev * (1 - prev * prev / 3);\n      };\n    },\n    bounds: new rect(-3, 2, 6, -4),\n    desc: "C * x * (1 - x^2 /3)"\n  },\n  \'Quartic\': {\n    fn: function fn(ex) {\n      var prev = -1;\n      return function () {\n        var p2 = prev * prev;\n        return prev = ex * p2 * (2 - p2);\n      };\n    },\n    bounds: new rect(-2, 1.4, 4, -2.8),\n    desc: "C * x^2 * (2 - x^2)"\n  },\n  \'Sine\': {\n    fn: function fn(ex) {\n      var prev = Math.PI / 2;\n      return function () {\n        return prev = ex * Math.sin(prev);\n      };\n    },\n    bounds: new rect(-Math.PI * 3, Math.PI * 3, Math.PI * 6, -Math.PI * 6),\n    desc: "C * sin(x)"\n  },\n  \'Cosine\': {\n    fn: function fn(ex) {\n      var prev = 0;\n      return function () {\n        return prev = ex * Math.cos(prev);\n      };\n    },\n    bounds: new rect(-Math.PI * 3, Math.PI * 3, Math.PI * 6, -Math.PI * 6),\n    desc: "C * cos(x)"\n  },\n  \'Exponential\': {\n    fn: function fn(ex) {\n      var prev = -1;\n      return function () {\n        return prev = ex * prev * Math.exp(prev);\n      };\n    },\n    bounds: new rect(-5, 5, 35, -15),\n    desc: "C * x * e^x"\n  },\n  \'Tent\': {\n    fn: function fn(ex) {\n      var prev = 0.5;\n      return function () {\n        return prev = ex * (.5 - Math.abs(prev - .5)); //(prev <= .5 ? prev : 1-prev);\n      };\n    },\n    bounds: new rect(0, 1.0, 2, -1.01),\n    desc: "C * (.5-abs(x-.5))" //"C * (x<.5?x:1-x)"\n\n  }\n};\nexports.functions = functions;\n\n/***/ })\n/******/ ]);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgY2FlMjBiNTUyZTg0NWU2MWIwMmQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlbmRlcmVyLndvcmtlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnVuY3Rpb25zLmpzIl0sIm5hbWVzIjpbIm9ubWVzc2FnZSIsImUiLCJwb3N0TWVzc2FnZSIsImlkIiwicmVuZGVyIiwiZGF0YSIsImZkaW0iLCJyZGltIiwiZm4iLCJza2lwX2l0ZXJzIiwiaXRlcnMiLCJpc19sZSIsImNsb3NlIiwicmVjdCIsInd3IiwieCIsImhoIiwieSIsImFiIiwiVWludDMyQXJyYXkiLCJmaWxsIiwibyIsImNjIiwiaSIsIndpZHRoIiwiaXQiLCJqIiwidiIsImhlaWdodCIsInl5IiwiaWkiLCJwcm9ncmVzcyIsIkltYWdlRGF0YSIsIlVpbnQ4Q2xhbXBlZEFycmF5IiwiYnVmZmVyIiwidyIsImgiLCJmdW5jdGlvbnMiLCJleCIsInByZXYiLCJib3VuZHMiLCJkZXNjIiwicDIiLCJNYXRoIiwiUEkiLCJzaW4iLCJjb3MiLCJleHAiLCJhYnMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7OztBQzdEQTs7QUFDQUEsWUFBWSxtQkFBQ0MsQ0FBRCxFQUFPO0FBQ2xCO0FBQ0FDLGNBQVk7QUFBQ0MsUUFBSUMsT0FBT0gsRUFBRUksSUFBRixDQUFPQyxJQUFkLEVBQW9CTCxFQUFFSSxJQUFGLENBQU9FLElBQTNCLEVBQWlDLHFCQUFVTixFQUFFSSxJQUFGLENBQU9HLEVBQWpCLEVBQXFCQSxFQUF0RCxFQUEwRFAsRUFBRUksSUFBRixDQUFPSSxVQUFqRSxFQUE2RVIsRUFBRUksSUFBRixDQUFPSyxLQUFwRixFQUEyRlQsRUFBRUksSUFBRixDQUFPTSxLQUFsRztBQUFMLEdBQVo7QUFDQUM7QUFDQSxDQUpEOztBQUtBLFNBQVNSLE1BQVQsQ0FBZ0JTLElBQWhCLEVBQXNCTixJQUF0QixFQUE0QkMsRUFBNUIsRUFBZ0NDLFVBQWhDLEVBQTRDQyxLQUE1QyxFQUFtREMsS0FBbkQsRUFBMEQ7QUFDMUQ7QUFDQyxNQUFNRyxLQUFLUCxLQUFLUSxDQUFoQjtBQUFBLE1BQW1CQyxLQUFLVCxLQUFLVSxDQUE3QjtBQUNBLE1BQU1DLEtBQUssSUFBSUMsV0FBSixDQUFnQkwsS0FBS0UsRUFBckIsQ0FBWDtBQUNBRSxLQUFHRSxJQUFILENBQVFULFFBQVEsVUFBUixHQUFxQixJQUE3QixFQUp5RCxDQUt6RDtBQUNBO0FBQ0E7O0FBQ0E7Ozs7QUFHQSxNQUFNVSxJQUFJVixRQUFRLENBQVIsR0FBWSxLQUF0QixDQVh5RCxDQVl6RDtBQUNBOztBQUNBLE9BQUksSUFBSVcsS0FBSyxDQUFULEVBQVlDLElBQUlWLEtBQUtFLENBQXpCLEVBQTRCTyxLQUFLUixFQUFqQyxFQUFxQ1EsTUFBTUMsS0FBS1YsS0FBS1csS0FBTCxHQUFhVixFQUE3RCxFQUFpRTtBQUNoRTtBQUNBLFFBQU1XLEtBQUtqQixHQUFHZSxDQUFILENBQVgsQ0FGZ0UsQ0FHaEU7O0FBQ0EsU0FBSSxJQUFJRyxJQUFJLENBQVosRUFBZUEsSUFBSWpCLFVBQW5CLEVBQStCaUIsR0FBL0I7QUFBb0NEO0FBQXBDOztBQUNBLFNBQUksSUFBSUMsS0FBSSxDQUFaLEVBQWVBLEtBQUloQixLQUFuQixFQUEwQmdCLElBQTFCLEVBQStCO0FBQzlCLFVBQU1DLElBQUlGLElBQVY7QUFDQSxVQUFNUixJQUFJLENBQUNVLElBQUlkLEtBQUtJLENBQVYsSUFBZUosS0FBS2UsTUFBOUI7QUFDQSxVQUFJWCxJQUFJLENBQUosSUFBU0EsS0FBSyxDQUFsQixFQUFxQjtBQUNyQixVQUFNWSxLQUFNWixJQUFJRCxFQUFMLEdBQVcsQ0FBdEI7QUFDQSxVQUFNYyxLQUFNRCxLQUFHZixFQUFILEdBQU1RLEVBQWxCO0FBQ0FKLFNBQUdZLEVBQUgsS0FBVVQsQ0FBVixDQU44QixDQU1sQjtBQUNaOztBQUNELFFBQUcsQ0FBQ0MsS0FBSyxHQUFOLEtBQWMsR0FBakIsRUFBc0I7QUFDckJwQixrQkFBWTtBQUFDNkIsa0JBQVU7QUFBWCxPQUFaO0FBQ0E7QUFDRDs7QUFDRDdCLGNBQVk7QUFBQzZCLGNBQVUsQ0FBRWpCLEtBQUssQ0FBTixHQUFXLEdBQVosSUFBbUI7QUFBOUIsR0FBWjtBQUNBLE1BQU1YLEtBQUssSUFBSTZCLFNBQUosQ0FBYyxJQUFJQyxpQkFBSixDQUFzQmYsR0FBR2dCLE1BQXpCLENBQWQsRUFBZ0RwQixFQUFoRCxFQUFvREUsRUFBcEQsQ0FBWDtBQUNBLFNBQU9iLEVBQVA7QUFDQSxDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQ3hDS1UsSTs7O0FBQ0wsZ0JBQVlFLENBQVosRUFBZUUsQ0FBZixFQUFrQmtCLENBQWxCLEVBQXFCQyxDQUFyQixFQUF3QjtBQUFBOztBQUN2QixTQUFLckIsQ0FBTCxHQUFTQSxDQUFUO0FBQVksU0FBS0UsQ0FBTCxHQUFTQSxDQUFUO0FBQVksU0FBS08sS0FBTCxHQUFhVyxDQUFiO0FBQWdCLFNBQUtQLE1BQUwsR0FBY1EsQ0FBZDtBQUN4Qzs7Ozs0QkFDTztBQUNQLGFBQU8sSUFBSXZCLElBQUosQ0FBUyxLQUFLRSxDQUFkLEVBQWlCLEtBQUtFLENBQXRCLEVBQXlCLEtBQUtPLEtBQTlCLEVBQXFDLEtBQUtJLE1BQTFDLENBQVA7QUFDQTs7OztLQUVGOzs7QUFFQSxJQUFNUyxZQUFZO0FBQ2pCLGVBQWE7QUFDWjdCLFFBQUksWUFBVThCLEVBQVYsRUFBYztBQUNqQixVQUFJQyxPQUFPLENBQVg7QUFDQSxhQUFPLFlBQVc7QUFDakIsZUFBT0EsT0FBT0EsT0FBT0EsSUFBUCxHQUFjRCxFQUE1QjtBQUNBLE9BRkQ7QUFHQSxLQU5XO0FBT1pFLFlBQVEsSUFBSTNCLElBQUosQ0FBUyxDQUFDLENBQVYsRUFBYSxDQUFiLEVBQWdCLElBQWhCLEVBQXNCLENBQUMsQ0FBdkIsQ0FQSTtBQVFaNEIsVUFBTTtBQVJNLEdBREk7QUFXakIsY0FBWTtBQUNYakMsUUFBSSxZQUFVOEIsRUFBVixFQUFjO0FBQ2pCLFVBQUlDLE9BQU8sRUFBWDtBQUNBLGFBQU8sWUFBVztBQUNqQixlQUFPQSxPQUFPRCxLQUFLQyxJQUFMLElBQWEsSUFBSUEsSUFBakIsQ0FBZDtBQUNBLE9BRkQ7QUFHQSxLQU5VO0FBT1hDLFlBQVEsSUFBSTNCLElBQUosQ0FBUyxDQUFULEVBQVksQ0FBWixFQUFlLENBQWYsRUFBa0IsQ0FBQyxDQUFuQixDQVBHO0FBUVg0QixVQUFNO0FBUkssR0FYSztBQXFCakIsV0FBUztBQUNSakMsUUFBSSxZQUFVOEIsRUFBVixFQUFjO0FBQ2pCLFVBQUlDLE9BQU8sQ0FBWDtBQUNBLGFBQU8sWUFBVztBQUNqQixlQUFPQSxPQUFPRCxLQUFLQyxJQUFMLElBQWEsSUFBSUEsT0FBS0EsSUFBTCxHQUFZLENBQTdCLENBQWQ7QUFDQSxPQUZEO0FBR0EsS0FOTztBQU9SQyxZQUFRLElBQUkzQixJQUFKLENBQVMsQ0FBQyxDQUFWLEVBQWEsQ0FBYixFQUFnQixDQUFoQixFQUFtQixDQUFDLENBQXBCLENBUEE7QUFRUjRCLFVBQU07QUFSRSxHQXJCUTtBQStCakIsYUFBVztBQUNWakMsUUFBSSxZQUFVOEIsRUFBVixFQUFjO0FBQ2pCLFVBQUlDLE9BQU8sQ0FBQyxDQUFaO0FBQ0EsYUFBTyxZQUFXO0FBQ2pCLFlBQU1HLEtBQUtILE9BQU9BLElBQWxCO0FBQ0EsZUFBT0EsT0FBT0QsS0FBS0ksRUFBTCxJQUFXLElBQUlBLEVBQWYsQ0FBZDtBQUNBLE9BSEQ7QUFJQSxLQVBTO0FBUVZGLFlBQVEsSUFBSTNCLElBQUosQ0FBUyxDQUFDLENBQVYsRUFBYSxHQUFiLEVBQWtCLENBQWxCLEVBQXFCLENBQUMsR0FBdEIsQ0FSRTtBQVNWNEIsVUFBTTtBQVRJLEdBL0JNO0FBMENqQixVQUFRO0FBQ1BqQyxRQUFJLFlBQVU4QixFQUFWLEVBQWM7QUFDakIsVUFBSUMsT0FBT0ksS0FBS0MsRUFBTCxHQUFVLENBQXJCO0FBQ0EsYUFBTyxZQUFXO0FBQ2pCLGVBQU9MLE9BQU9ELEtBQUtLLEtBQUtFLEdBQUwsQ0FBU04sSUFBVCxDQUFuQjtBQUNBLE9BRkQ7QUFHQSxLQU5NO0FBT1BDLFlBQVEsSUFBSTNCLElBQUosQ0FBUyxDQUFDOEIsS0FBS0MsRUFBTixHQUFXLENBQXBCLEVBQXVCRCxLQUFLQyxFQUFMLEdBQVUsQ0FBakMsRUFBb0NELEtBQUtDLEVBQUwsR0FBVSxDQUE5QyxFQUFpRCxDQUFDRCxLQUFLQyxFQUFOLEdBQVcsQ0FBNUQsQ0FQRDtBQVFQSCxVQUFNO0FBUkMsR0ExQ1M7QUFvRGpCLFlBQVU7QUFDVGpDLFFBQUksWUFBVThCLEVBQVYsRUFBYztBQUNqQixVQUFJQyxPQUFPLENBQVg7QUFDQSxhQUFPLFlBQVc7QUFDakIsZUFBT0EsT0FBT0QsS0FBS0ssS0FBS0csR0FBTCxDQUFTUCxJQUFULENBQW5CO0FBQ0EsT0FGRDtBQUdBLEtBTlE7QUFPVEMsWUFBUSxJQUFJM0IsSUFBSixDQUFTLENBQUM4QixLQUFLQyxFQUFOLEdBQVcsQ0FBcEIsRUFBdUJELEtBQUtDLEVBQUwsR0FBVSxDQUFqQyxFQUFvQ0QsS0FBS0MsRUFBTCxHQUFVLENBQTlDLEVBQWlELENBQUNELEtBQUtDLEVBQU4sR0FBVyxDQUE1RCxDQVBDO0FBUVRILFVBQU07QUFSRyxHQXBETztBQThEakIsaUJBQWU7QUFDZGpDLFFBQUksWUFBVThCLEVBQVYsRUFBYztBQUNqQixVQUFJQyxPQUFPLENBQUMsQ0FBWjtBQUNBLGFBQU8sWUFBVztBQUNqQixlQUFPQSxPQUFPRCxLQUFLQyxJQUFMLEdBQVlJLEtBQUtJLEdBQUwsQ0FBU1IsSUFBVCxDQUExQjtBQUNBLE9BRkQ7QUFHQSxLQU5hO0FBT2RDLFlBQVEsSUFBSTNCLElBQUosQ0FBUyxDQUFDLENBQVYsRUFBYSxDQUFiLEVBQWdCLEVBQWhCLEVBQW9CLENBQUMsRUFBckIsQ0FQTTtBQVFkNEIsVUFBTTtBQVJRLEdBOURFO0FBd0VqQixVQUFRO0FBQ1BqQyxRQUFJLFlBQVU4QixFQUFWLEVBQWM7QUFDakIsVUFBSUMsT0FBTyxHQUFYO0FBQ0EsYUFBTyxZQUFXO0FBQ2pCLGVBQU9BLE9BQU9ELE1BQU0sS0FBR0ssS0FBS0ssR0FBTCxDQUFTVCxPQUFLLEVBQWQsQ0FBVCxDQUFkLENBRGlCLENBQ3lCO0FBQzFDLE9BRkQ7QUFHQSxLQU5NO0FBT1BDLFlBQVEsSUFBSTNCLElBQUosQ0FBUyxDQUFULEVBQVksR0FBWixFQUFpQixDQUFqQixFQUFvQixDQUFDLElBQXJCLENBUEQ7QUFRUDRCLFVBQU0sb0JBUkMsQ0FRbUI7O0FBUm5CO0FBeEVTLENBQWxCIiwiZmlsZSI6ImNhZTIwYjU1MmU4NDVlNjFiMDJkLndvcmtlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGNhZTIwYjU1MmU4NDVlNjFiMDJkIiwiaW1wb3J0IHsgZnVuY3Rpb25zIH0gZnJvbSAnLi9mdW5jdGlvbnMuanMnO1xub25tZXNzYWdlID0gKGUpID0+IHtcblx0Ly9jb25zb2xlLmxvZyhlKTtcblx0cG9zdE1lc3NhZ2Uoe2lkOiByZW5kZXIoZS5kYXRhLmZkaW0sIGUuZGF0YS5yZGltLCBmdW5jdGlvbnNbZS5kYXRhLmZuXS5mbiwgZS5kYXRhLnNraXBfaXRlcnMsIGUuZGF0YS5pdGVycywgZS5kYXRhLmlzX2xlKX0pO1xuXHRjbG9zZSgpO1xufVxuZnVuY3Rpb24gcmVuZGVyKHJlY3QsIHJkaW0sIGZuLCBza2lwX2l0ZXJzLCBpdGVycywgaXNfbGUpIHtcbi8vXHRjb25zb2xlLmxvZyhyZWN0LCByZGltLCBmbik7XG5cdGNvbnN0IHd3ID0gcmRpbS54LCBoaCA9IHJkaW0ueTtcblx0Y29uc3QgYWIgPSBuZXcgVWludDMyQXJyYXkod3cgKiBoaCk7XG5cdGFiLmZpbGwoaXNfbGUgPyAweGZmMDAwMDAwIDogMHhmZik7XG5cdC8vY29uc29sZS5sb2coYWIuYnVmZmVyKTtcblx0Ly9jb25zb2xlLmxvZyhyZWN0KTtcblx0Ly9mb3IobGV0IGkgPSByZWN0Lng7IGkgPD0gcmVjdC54K3JlY3Qud2lkdGg7IGkrPShyZWN0LndpZHRoL3d3KSkge1xuXHQvKmZvcihsZXQgaSA9IDA7IGkgPCB3dypoaDsgaSArKykge1xuXHRcdGFiW2ldID0gMHhmZjAwMDAwMDtcblx0fSovXG5cdGNvbnN0IG8gPSBpc19sZSA/IDEgOiAweDEwMDtcblx0Ly9sZXQgb2ZmcyA9IChNYXRoLnJhbmRvbSgpICogMTI4KSB8IDA7XG5cdC8vbGV0IG9vID0gMDtcblx0Zm9yKGxldCBjYyA9IDAsIGkgPSByZWN0Lng7IGNjIDwgd3c7IGNjKyssIGkgKz0gcmVjdC53aWR0aCAvIHd3KSB7XG5cdFx0Ly9jb25zdCBpID0gcmVjdC54ICsgcmVjdC53aWR0aCAqIHYgLyB3dztcblx0XHRjb25zdCBpdCA9IGZuKGkpO1xuXHRcdC8vY29uc3QgeHggPSAoeCAqIHd3KSB8IDA7XG5cdFx0Zm9yKGxldCBqID0gMDsgaiA8IHNraXBfaXRlcnM7IGorKykgaXQoKTtcblx0XHRmb3IobGV0IGogPSAwOyBqIDwgaXRlcnM7IGorKykge1xuXHRcdFx0Y29uc3QgdiA9IGl0KCk7XG5cdFx0XHRjb25zdCB5ID0gKHYgLSByZWN0LnkpIC8gcmVjdC5oZWlnaHQ7XG5cdFx0XHRpZiAoeSA8IDAgfHwgeSA+PSAxKSBjb250aW51ZTtcblx0XHRcdGNvbnN0IHl5ID0gKHkgKiBoaCkgfCAwO1xuXHRcdFx0Y29uc3QgaWkgPSAoeXkqd3crY2MpO1xuXHRcdFx0YWJbaWldICs9IG87Ly9kaztcblx0XHR9XG5cdFx0aWYoKGNjICYgMTI3KSA9PSAxMjcpIHtcblx0XHRcdHBvc3RNZXNzYWdlKHtwcm9ncmVzczogMTI4fSlcblx0XHR9XG5cdH1cblx0cG9zdE1lc3NhZ2Uoe3Byb2dyZXNzOiAoKHd3ICsgMSkgJiAxMjcpIC0gMX0pO1xuXHRjb25zdCBpZCA9IG5ldyBJbWFnZURhdGEobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGFiLmJ1ZmZlciksIHd3LCBoaCk7XG5cdHJldHVybiBpZDtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmVuZGVyZXIud29ya2VyLmpzIiwiY2xhc3MgcmVjdCB7XG5cdGNvbnN0cnVjdG9yKHgsIHksIHcsIGgpIHtcblx0XHR0aGlzLnggPSB4OyB0aGlzLnkgPSB5OyB0aGlzLndpZHRoID0gdzsgdGhpcy5oZWlnaHQgPSBoO1xuXHR9XG5cdGNsb25lKCkge1xuXHRcdHJldHVybiBuZXcgcmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuXHR9XG59XG4vL2NvbnN0IG5ldyByZWN0ID0gKHgsIHksIHcsIGgpID0+ICh7eDogeCwgeTogeSwgd2lkdGg6IHcsIGhlaWdodDogaH0pXG5cbmNvbnN0IGZ1bmN0aW9ucyA9IHtcblx0J1F1YWRyYXRpYyc6IHtcblx0XHRmbjogZnVuY3Rpb24gKGV4KSB7XG5cdFx0XHRsZXQgcHJldiA9IDA7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBwcmV2ID0gcHJldiAqIHByZXYgKyBleDtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGJvdW5kczogbmV3IHJlY3QoLTIsIDIsIDIuMjUsIC00KSxcblx0XHRkZXNjOiBcInheMiArIENcIlxuXHR9LFxuXHQnTG9naXN0aWMnOiB7XG5cdFx0Zm46IGZ1bmN0aW9uIChleCkge1xuXHRcdFx0bGV0IHByZXYgPSAuNTtcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHByZXYgPSBleCAqIHByZXYgKiAoMSAtIHByZXYpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Ym91bmRzOiBuZXcgcmVjdCgyLCAxLCAyLCAtMSksXG5cdFx0ZGVzYzogXCJDICogeCAqICgxLXgpXCJcblx0fSxcblx0J0N1YmljJzoge1xuXHRcdGZuOiBmdW5jdGlvbiAoZXgpIHtcblx0XHRcdGxldCBwcmV2ID0gMTtcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHByZXYgPSBleCAqIHByZXYgKiAoMSAtIHByZXYqcHJldiAvIDMpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Ym91bmRzOiBuZXcgcmVjdCgtMywgMiwgNiwgLTQpLFxuXHRcdGRlc2M6IFwiQyAqIHggKiAoMSAtIHheMiAvMylcIlxuXHR9LFxuXHQnUXVhcnRpYyc6IHtcblx0XHRmbjogZnVuY3Rpb24gKGV4KSB7XG5cdFx0XHRsZXQgcHJldiA9IC0xO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb25zdCBwMiA9IHByZXYgKiBwcmV2O1xuXHRcdFx0XHRyZXR1cm4gcHJldiA9IGV4ICogcDIgKiAoMiAtIHAyKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGJvdW5kczogbmV3IHJlY3QoLTIsIDEuNCwgNCwgLTIuOCksXG5cdFx0ZGVzYzogXCJDICogeF4yICogKDIgLSB4XjIpXCJcblx0fSxcblx0J1NpbmUnOiB7XG5cdFx0Zm46IGZ1bmN0aW9uIChleCkge1xuXHRcdFx0bGV0IHByZXYgPSBNYXRoLlBJIC8gMjtcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHByZXYgPSBleCAqIE1hdGguc2luKHByZXYpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Ym91bmRzOiBuZXcgcmVjdCgtTWF0aC5QSSAqIDMsIE1hdGguUEkgKiAzLCBNYXRoLlBJICogNiwgLU1hdGguUEkgKiA2KSxcblx0XHRkZXNjOiBcIkMgKiBzaW4oeClcIlxuXHR9LFxuXHQnQ29zaW5lJzoge1xuXHRcdGZuOiBmdW5jdGlvbiAoZXgpIHtcblx0XHRcdGxldCBwcmV2ID0gMDtcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHByZXYgPSBleCAqIE1hdGguY29zKHByZXYpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Ym91bmRzOiBuZXcgcmVjdCgtTWF0aC5QSSAqIDMsIE1hdGguUEkgKiAzLCBNYXRoLlBJICogNiwgLU1hdGguUEkgKiA2KSxcblx0XHRkZXNjOiBcIkMgKiBjb3MoeClcIlxuXHR9LFxuXHQnRXhwb25lbnRpYWwnOiB7XG5cdFx0Zm46IGZ1bmN0aW9uIChleCkge1xuXHRcdFx0bGV0IHByZXYgPSAtMTtcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHByZXYgPSBleCAqIHByZXYgKiBNYXRoLmV4cChwcmV2KTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGJvdW5kczogbmV3IHJlY3QoLTUsIDUsIDM1LCAtMTUpLFxuXHRcdGRlc2M6IFwiQyAqIHggKiBlXnhcIlxuXHR9LFxuXHQnVGVudCc6IHtcblx0XHRmbjogZnVuY3Rpb24gKGV4KSB7XG5cdFx0XHRsZXQgcHJldiA9IDAuNTtcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHByZXYgPSBleCAqICguNS1NYXRoLmFicyhwcmV2LS41KSk7Ly8ocHJldiA8PSAuNSA/IHByZXYgOiAxLXByZXYpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Ym91bmRzOiBuZXcgcmVjdCgwLCAxLjAsIDIsIC0xLjAxKSxcblx0XHRkZXNjOiBcIkMgKiAoLjUtYWJzKHgtLjUpKVwiLy9cIkMgKiAoeDwuNT94OjEteClcIlxuXHR9XG59O1xuXG5leHBvcnQgeyBmdW5jdGlvbnMgfTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZnVuY3Rpb25zLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==',r.p+'cae20b552e845e61b02d.worker.js')}},function(e){'use strict';var t=window.URL||window.webkitURL;const r={};e.exports=function(e,a){if(a in r)return new Worker(r[a]);try{try{var n;try{var o=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;n=new o,n.append(e),n=n.getBlob()}catch(t){n=new Blob([e])}const i=t.createObjectURL(n);return null!=a&&(r[a]=i),new Worker(i)}catch(t){return new Worker('data:application/javascript,'+encodeURIComponent(e))}}catch(t){if(!a)throw Error('Inline worker is not supported');return new Worker(a)}}}]);